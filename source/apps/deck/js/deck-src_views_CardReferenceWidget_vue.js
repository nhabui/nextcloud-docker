"use strict";(self.webpackChunkdeck=self.webpackChunkdeck||[]).push([["src_views_CardReferenceWidget_vue"],{99241:(t,e,n)=>{n.d(e,{Z:()=>d});var a=n(87537),r=n.n(a),i=n(23645),s=n.n(i)()(r());s.push([t.id,".labels[data-v-1a50744e]{flex-grow:1;flex-shrink:1;min-width:0;display:flex;flex-direction:row;gap:3px}.labels li[data-v-1a50744e]{flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;overflow:hidden;padding:1px 8px;border-radius:15px;font-size:13px}.labels li[data-v-1a50744e]:hover{overflow:unset}.labels li span[data-v-1a50744e]{flex-grow:0;flex-shrink:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.deck-card-reference[data-v-1a50744e]{width:100%;white-space:normal;padding:12px}.editor__content .deck-card-reference[data-v-1a50744e]{width:calc(100% - 24px)}.deck-card-reference .link[data-v-1a50744e]{text-decoration:underline;color:var(--color-main-text) !important;padding:0 !important}.deck-card-reference .line[data-v-1a50744e]{display:flex;align-items:center}.deck-card-reference .line .icon[data-v-1a50744e]{margin-right:4px}.deck-card-reference .line .title-icon[data-v-1a50744e]{margin-right:8px}.deck-card-reference .due-date[data-v-1a50744e]{display:flex;align-items:center}.deck-card-reference .labels[data-v-1a50744e]{margin:8px 0}.deck-card-reference .description-assignees[data-v-1a50744e]{width:100%;display:flex;align-items:start}.deck-card-reference .description-assignees .icon[data-v-1a50744e]{align-self:start;margin-top:8px}.deck-card-reference .description-assignees .description[data-v-1a50744e]{margin-right:8px;padding-top:6px;max-height:250px;overflow:scroll}.deck-card-reference .description-assignees .description.short-description[data-v-1a50744e]{max-height:25px;overflow:hidden}.deck-card-reference .description-assignees .card-assignees[data-v-1a50744e]{margin-top:0;height:36px;flex-grow:unset}.deck-card-reference .spacer[data-v-1a50744e]{flex-grow:1}","",{version:3,sources:["webpack://./src/css/labels.scss","webpack://./src/views/CardReferenceWidget.vue"],names:[],mappings:"AAGA,yBACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,4BACC,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,cAAA,CAEA,kCACC,cAAA,CAGD,iCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CC3BH,sCACC,UAAA,CAKA,kBAAA,CACA,YAAA,CAJA,uDACC,uBAAA,CAKD,4CACC,yBAAA,CACA,uCAAA,CACA,oBAAA,CAGD,4CACC,YAAA,CACA,kBAAA,CACA,kDACC,gBAAA,CAED,wDACC,gBAAA,CAIF,gDACC,YAAA,CACA,kBAAA,CAGD,8CACC,YAAA,CAGD,6DACC,UAAA,CACA,YAAA,CACA,iBAAA,CAEA,mEACC,gBAAA,CACA,cAAA,CAGD,0EACC,gBAAA,CACA,eAAA,CACA,gBAAA,CACA,eAAA,CACA,4FACC,eAAA,CACA,eAAA,CAIF,6EACC,YAAA,CACA,WAAA,CACA,eAAA,CAIF,8CACC,WAAA",sourcesContent:["$card-spacing: 10px;\n$card-padding: 10px;\n\n.labels {\n\tflex-grow: 1;\n\tflex-shrink: 1;\n\tmin-width: 0;\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 3px;\n\n\tli {\n\t\tflex-grow: 0;\n\t\tflex-shrink: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\toverflow: hidden;\n\t\tpadding: 1px 8px;\n\t\tborder-radius: 15px;\n\t\tfont-size: 13px;\n\n\t\t&:hover {\n\t\t\toverflow: unset;\n\t\t}\n\n\t\tspan {\n\t\t\tflex-grow: 0;\n\t\t\tflex-shrink: 1;\n\t\t\tmin-width: 0;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t}\n\t}\n}\n","\n/* stylelint-disable-next-line no-invalid-position-at-import-rule */\n@import '../css/labels';\n\n.deck-card-reference {\n\twidth: 100%;\n\t// needed for the specific case of Text\n\t.editor__content & {\n\t\twidth: calc(100% - 24px);\n\t}\n\twhite-space: normal;\n\tpadding: 12px;\n\n\t.link {\n\t\ttext-decoration: underline;\n\t\tcolor: var(--color-main-text) !important;\n\t\tpadding: 0 !important;\n\t}\n\n\t.line {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.icon {\n\t\t\tmargin-right: 4px;\n\t\t}\n\t\t.title-icon {\n\t\t\tmargin-right: 8px;\n\t\t}\n\t}\n\n\t.due-date {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.labels {\n\t\tmargin: 8px 0;\n\t}\n\n\t.description-assignees {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\talign-items: start;\n\n\t\t.icon {\n\t\t\talign-self: start;\n\t\t\tmargin-top: 8px;\n\t\t}\n\n\t\t.description {\n\t\t\tmargin-right: 8px;\n\t\t\tpadding-top: 6px;\n\t\t\tmax-height: 250px;\n\t\t\toverflow: scroll;\n\t\t\t&.short-description {\n\t\t\t\tmax-height: 25px;\n\t\t\t\toverflow: hidden;\n\t\t\t}\n\t\t}\n\n\t\t.card-assignees {\n\t\t\tmargin-top: 0;\n\t\t\theight: 36px;\n\t\t\tflex-grow: unset;\n\t\t}\n\t}\n\n\t.spacer {\n\t\tflex-grow: 1;\n\t}\n}\n"],sourceRoot:""}]);const d=s},243:(e,n,a)=>{a.d(n,{default:()=>I});var r=a(31522),i=a(4946),s=a(83659),d=a(51029),A=a(80767),c=a(94357),l=a(64882),o=a(57883),C=a(11480);const p={name:"CardReferenceWidget",components:{AvatarList:A.Z,DeckIcon:d.Z,CalendarBlankIcon:r.Z,CardBulletedOutlineIcon:s.Z,TextIcon:i.Z,NcRichText:l.rE},mixins:[c.Z],props:{richObjectType:{type:String,default:""},richObject:{type:Object,default:null},accessible:{type:Boolean,default:!0}},data:()=>({shortDescription:!0}),computed:{card(){return this.richObject.card},board(){return this.richObject.board},stack(){return this.richObject.stack},cardLink(){return(0,C.nu)("/apps/deck/#/board/{boardId}/card/{cardId}",{boardId:this.board.id,cardId:this.card.id})},boardLink(){return(0,C.nu)("/apps/deck/#/board/{boardId}",{boardId:this.board.id})},cardTooltip(){return t("deck","* Created on {created}\n* Last modified on {lastMod}\n* {nbAttachments} attachments\n* {nbComments} comments",{created:o.Z.unix(this.card.createdAt).format("LLL"),lastMod:o.Z.unix(this.card.lastModified).format("LLL"),nbAttachments:this.card.attachments.length,nbComments:this.card.commentsCount})},stackTooltip(){return t("deck","{nbCards} cards",{nbCards:this.stack.cards.length})},dueDate(){return this.card.duedate?(0,o.Z)(this.card.duedate).fromNow():null},formattedDueDate(){return this.card.duedate?t("deck","Due on {date}",{date:(0,o.Z)(this.card.duedate).format("LLL")}):null},labelsSorted(){return[...this.card.labels].sort(((t,e)=>t.title<e.title?-1:1))}},methods:{}};var h=a(93379),f=a.n(h),g=a(7795),x=a.n(g),u=a(90569),k=a.n(u),v=a(3565),m=a.n(v),b=a(19216),w=a.n(b),_=a(44589),D=a.n(_),B=a(99241),y={};y.styleTagTransform=D(),y.setAttributes=m(),y.insert=k().bind(null,"head"),y.domAPI=x(),y.insertStyleElement=w();f()(B.Z,y);B.Z&&B.Z.locals&&B.Z.locals;const I=(0,a(51900).Z)(p,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"deck-card-reference"},[e("div",{staticClass:"line"},[e("CardBulletedOutlineIcon",{staticClass:"title-icon",attrs:{size:20}}),t._v(" "),e("strong",[e("a",{staticClass:"link",attrs:{href:t.cardLink,title:t.cardTooltip,target:"_blank"}},[t._v("\n\t\t\t\t"+t._s(t.card.title)+"\n\t\t\t")])]),t._v(" "),t.dueDate?e("div",{staticClass:"spacer"}):t._e(),t._v(" "),t.dueDate?e("span",{staticClass:"due-date",attrs:{title:t.t("Due date")+": "+t.formattedDueDate}},[e("CalendarBlankIcon",{staticClass:"icon",attrs:{size:20}}),t._v("\n\t\t\t"+t._s(t.dueDate)+"\n\t\t")],1):t._e()],1),t._v(" "),e("div",{staticClass:"line"},[e("DeckIcon",{staticClass:"title-icon",attrs:{size:20}}),t._v(" "),e("a",{staticClass:"link",attrs:{title:t.stackTooltip,href:t.boardLink,target:"_blank"}},[t._v("\n\t\t\t"+t._s(t.t("deck","{stack} in {board}",{stack:t.stack.title,board:t.board.title}))+"\n\t\t")])],1),t._v(" "),e("div",[t.card.labels&&t.card.labels.length?e("transition-group",{staticClass:"labels",attrs:{name:"zoom",tag:"ul"},on:{click:function(e){return e.stopPropagation(),t.openCard.apply(null,arguments)}}},t._l(t.labelsSorted,(function(n){return e("li",{key:n.id,style:t.labelStyle(n)},[e("span",[t._v(t._s(n.title))])])})),0):t._e()],1),t._v(" "),e("div",{staticClass:"line description-assignees"},[t.card.description?e("TextIcon",{staticClass:"icon",attrs:{size:20}}):t._e(),t._v(" "),t.card.description?e("div",{class:{description:!0,"short-description":t.shortDescription}},[e("NcRichText",{attrs:{title:t.shortDescription?t.t("deck","Click to expand description"):void 0,text:t.card.description,"use-markdown":!0},nativeOn:{click:function(e){t.shortDescription=!t.shortDescription}}})],1):t._e(),t._v(" "),t.card.assignedUsers.length>0?e("div",{staticClass:"spacer"}):t._e(),t._v(" "),t.card.assignedUsers.length>0?e("AvatarList",{staticClass:"card-assignees",attrs:{users:t.card.assignedUsers}}):t._e()],1)])}),[],!1,null,"1a50744e",null).exports}}]);
//# sourceMappingURL=deck-src_views_CardReferenceWidget_vue.js.map?v=658cba36b7563e5255a7