/*! For license information please see deck-src_views_DashboardUpcoming_vue.js.LICENSE.txt */
"use strict";(self.webpackChunkdeck=self.webpackChunkdeck||[]).push([["src_views_DashboardUpcoming_vue"],{79029:(t,e,a)=>{a.d(e,{Z:()=>d});var n=a(87537),r=a.n(n),o=a(23645),A=a.n(o)()(r());A.push([t.id,".due[data-v-1afd2267]{background-position:4px center;border-radius:var(--border-radius-pill);padding:1px 8px;font-size:90%;display:flex;align-items:center;flex-shrink:1;z-index:2}[data-due-state=Overdue] .due[data-v-1afd2267]{color:var(--color-error-text);background-color:rgba(var(--color-error-rgb), 0.1)}[data-due-state=Now] .due[data-v-1afd2267]{color:var(--color-warning-text);background-color:rgba(var(--color-warning-rgb), 0.1)}[data-due-state=Done] .due[data-v-1afd2267]{color:var(--color-success-text);background-color:rgba(var(--color-success-rgb), 0.1)}.due .due--label[data-v-1afd2267]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-left:4px;font-size:13px}@media print{.icon.due[data-v-1afd2267]{background-color:rgba(0,0,0,0) !important}.icon.due span[data-v-1afd2267]{display:none}.icon.due[data-v-1afd2267]::before{content:attr(title)}}","",{version:3,sources:["webpack://./src/components/cards/badges/DueDate.vue"],names:[],mappings:"AACA,sBACC,8BAAA,CACA,uCAAA,CACA,eAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,aAAA,CACA,SAAA,CAEA,+CACC,6BAAA,CACA,kDAAA,CAED,2CACC,+BAAA,CACA,oDAAA,CAED,4CACC,+BAAA,CACA,oDAAA,CAGD,kCACC,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,eAAA,CACA,cAAA,CAIF,aACC,2BACC,yCAAA,CAEA,gCACC,YAAA,CAGD,mCACC,mBAAA,CAAA",sourcesContent:["\n.due {\n\tbackground-position: 4px center;\n\tborder-radius: var(--border-radius-pill);\n\tpadding: 1px 8px;\n\tfont-size: 90%;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-shrink: 1;\n\tz-index: 2;\n\n\t[data-due-state='Overdue'] & {\n\t\tcolor: var(--color-error-text);\n\t\tbackground-color: rgba(var(--color-error-rgb), .1);\n\t}\n\t[data-due-state='Now'] & {\n\t\tcolor: var(--color-warning-text);\n\t\tbackground-color: rgba(var(--color-warning-rgb), .1);\n\t}\n\t[data-due-state='Done'] & {\n\t\tcolor: var(--color-success-text);\n\t\tbackground-color: rgba(var(--color-success-rgb), .1);\n\t}\n\n\t.due--label {\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t\toverflow: hidden;\n\t\tmargin-left: 4px;\n\t\tfont-size: 13px;\n\t}\n}\n\n@media print {\n\t.icon.due {\n\t\tbackground-color: transparent !important;\n\n\t\tspan {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t&::before {\n\t\t\tcontent: attr(title);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const d=A},90141:(t,e,a)=>{a.d(e,{Z:()=>d});var n=a(87537),r=a.n(n),o=a(23645),A=a.n(o)()(r());A.push([t.id,".labels[data-v-339fe802]{flex-grow:1;flex-shrink:1;min-width:0;display:flex;flex-direction:row;gap:3px}.labels li[data-v-339fe802]{flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;overflow:hidden;padding:1px 8px;border-radius:15px;font-size:13px}.labels li[data-v-339fe802]:hover{overflow:unset}.labels li span[data-v-339fe802]{flex-grow:0;flex-shrink:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card[data-v-339fe802]{display:block;border-radius:var(--border-radius-large);padding:8px;height:60px}.card[data-v-339fe802]:hover{background-color:var(--color-background-hover)}.card--header[data-v-339fe802]{overflow:hidden}.card--header .title[data-v-339fe802]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block}.labels[data-v-339fe802]{margin-left:0}.duedate[data-v-339fe802] .due{margin:0 0 0 10px;padding:2px 4px;font-size:90%}.right[data-v-339fe802]{float:right}","",{version:3,sources:["webpack://./src/css/labels.scss","webpack://./src/components/dashboard/Card.vue"],names:[],mappings:"AAGA,yBACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,4BACC,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,cAAA,CAEA,kCACC,cAAA,CAGD,iCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CC5BH,uBACC,aAAA,CACA,wCAAA,CACA,WAAA,CACA,WAAA,CAEA,6BACC,8CAAA,CAIF,+BACC,eAAA,CACA,sCACC,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,aAAA,CAIF,yBACC,aAAA,CAGD,+BACC,iBAAA,CACA,eAAA,CACA,aAAA,CAGD,wBACC,WAAA",sourcesContent:["$card-spacing: 10px;\n$card-padding: 10px;\n\n.labels {\n\tflex-grow: 1;\n\tflex-shrink: 1;\n\tmin-width: 0;\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 3px;\n\n\tli {\n\t\tflex-grow: 0;\n\t\tflex-shrink: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\toverflow: hidden;\n\t\tpadding: 1px 8px;\n\t\tborder-radius: 15px;\n\t\tfont-size: 13px;\n\n\t\t&:hover {\n\t\t\toverflow: unset;\n\t\t}\n\n\t\tspan {\n\t\t\tflex-grow: 0;\n\t\t\tflex-shrink: 1;\n\t\t\tmin-width: 0;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t}\n\t}\n}\n","\n@import '../../css/labels';\n\n.card {\n\tdisplay: block;\n\tborder-radius: var(--border-radius-large);\n\tpadding: 8px;\n\theight: 60px;\n\n\t&:hover {\n\t\tbackground-color: var(--color-background-hover);\n\t}\n}\n\n.card--header {\n\toverflow: hidden;\n\t.title {\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\tdisplay: block;\n\t}\n}\n\n.labels {\n\tmargin-left: 0;\n}\n\n.duedate:deep(.due) {\n\tmargin: 0 0 0 10px;\n\tpadding: 2px 4px;\n\tfont-size: 90%;\n}\n\n.right {\n\tfloat: right;\n}\n"],sourceRoot:""}]);const d=A},76100:(t,e,a)=>{a.d(e,{Z:()=>d});var n=a(87537),r=a.n(n),o=a(23645),A=a.n(o)()(r());A.push([t.id,".center-button[data-v-2b105512]{display:flex;align-items:center;justify-content:center;margin-top:10px}#deck-widget-empty-content[data-v-2b105512]{text-align:center;margin-top:5vh}.card[data-v-2b105512]{display:block;border-radius:var(--border-radius-large);padding:5px 8px;height:70px}.card[data-v-2b105512]:hover{background-color:var(--color-background-hover)}.card--header[data-v-2b105512]{overflow:hidden}.card--header .title[data-v-2b105512]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;position:relative;top:3px}.labels[data-v-2b105512]{margin-left:0;margin-top:3px}.duedate[data-v-2b105512] .due{margin:0 0 0 10px;padding:0px 4px;font-size:90%;margin-bottom:7px}.right[data-v-2b105512]{float:right}","",{version:3,sources:["webpack://./src/views/DashboardUpcoming.vue"],names:[],mappings:"AACA,gCACC,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CAGD,4CACC,iBAAA,CACA,cAAA,CAGD,uBACC,aAAA,CACA,wCAAA,CACA,eAAA,CACA,WAAA,CACA,6BACC,8CAAA,CAIF,+BACC,eAAA,CACA,sCACC,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,aAAA,CACA,iBAAA,CACA,OAAA,CAIF,yBACC,aAAA,CACA,cAAA,CAIA,+BACC,iBAAA,CACA,eAAA,CACA,aAAA,CACA,iBAAA,CAIF,wBACC,WAAA",sourcesContent:["\n.center-button {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-top: 10px;\n}\n\n#deck-widget-empty-content {\n\ttext-align: center;\n\tmargin-top: 5vh;\n}\n\n.card {\n\tdisplay: block;\n\tborder-radius: var(--border-radius-large);\n\tpadding: 5px 8px;\n\theight: 70px;\n\t&:hover {\n\t\tbackground-color: var(--color-background-hover);\n\t}\n}\n\n.card--header {\n\toverflow: hidden;\n\t.title {\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\ttop: 3px;\n\t}\n}\n\n.labels {\n\tmargin-left: 0;\n\tmargin-top: 3px;\n}\n\n.duedate:deep {\n\t.due {\n\t\tmargin: 0 0 0 10px;\n\t\tpadding: 0px 4px;\n\t\tfont-size: 90%;\n\t\tmargin-bottom: 7px;\n\t}\n}\n\n.right {\n\tfloat: right;\n}\n"],sourceRoot:""}]);const d=A},37437:(e,a,n)=>{n.d(a,{Z:()=>E});var r=n(20629),o=n(57883),A=n(19261),d=n(70145),s=n(61935);const i="Done",l="Future",c="Next",C="Now",p="Overdue",u={name:"DueDate",components:{CheckCircle:s.Z,Clock:A.Z,ClockOutline:d.Z},props:{card:{type:Object,default:null}},computed:{...(0,r.rn)({compactMode:t=>t.compactMode}),dueState(){if(this.card.done)return i;const t=Math.floor((0,o.Z)(this.card.duedate).diff(this.$root.time,"seconds")/60/60/24);return t<0?p:0===t?C:1===t?c:l},overdue(){return this.dueState===p},relativeDate(){const e=this.card.done?this.card.done:this.card.duedate,a=(0,o.Z)(this.$root.time).diff(e,"seconds");return a>=0&&a<45?t("core","seconds ago"):(0,o.Z)(e).fromNow()},absoluteDate(){const t=this.card.done?this.card.done:this.card.duedate;return(0,o.Z)(t).format("LLLL")}}};var g=n(93379),v=n.n(g),h=n(7795),f=n.n(h),b=n(90569),x=n.n(b),m=n(3565),w=n.n(m),k=n(19216),y=n.n(k),B=n(44589),D=n.n(B),_=n(79029),Z={};Z.styleTagTransform=D(),Z.setAttributes=w(),Z.insert=x().bind(null,"head"),Z.domAPI=f(),Z.insertStyleElement=y();v()(_.Z,Z);_.Z&&_.Z.locals&&_.Z.locals;var z=n(51900);const M=(0,z.Z)(u,(function(){var t=this,e=t._self._c;return t.card?e("div",{staticClass:"duedate",attrs:{"data-due-state":t.dueState}},[e("transition",{attrs:{name:"zoom"}},[t.card.duedate||t.card.done?e("div",{staticClass:"due",attrs:{name:t.absoluteDate}},[t.card.done?e("CheckCircle",{attrs:{size:16}}):t.overdue?e("Clock",{attrs:{size:16}}):e("ClockOutline",{attrs:{size:16}}),t._v(" "),t.compactMode?t._e():e("span",{staticClass:"due--label"},[t._v(t._s(t.relativeDate))])],1):t._e()])],1):t._e()}),[],!1,null,"1afd2267",null).exports;var N=n(11480);const I={name:"Card",components:{DueDate:M},mixins:[{mixins:[n(79402).Z],computed:{labelStyle(){return t=>({backgroundColor:"#"+t.color,color:this.textColor(t.color)})}}}],props:{card:{type:Object,required:!0}},computed:{cardLink(){return(0,N.nu)("/apps/deck")+`#/board/${this.card.boardId}/card/${this.card.id}`}}};var S=n(90141),W={};W.styleTagTransform=D(),W.setAttributes=w(),W.insert=x().bind(null,"head"),W.domAPI=f(),W.insertStyleElement=y();v()(S.Z,W);S.Z&&S.Z.locals&&S.Z.locals;const E=(0,z.Z)(I,(function(){var t=this,e=t._self._c;return e("a",{key:t.card.id,staticClass:"card",attrs:{href:t.cardLink,target:"_blank"}},[e("div",{staticClass:"card--header"},[e("DueDate",{staticClass:"right",attrs:{card:t.card}}),t._v(" "),e("span",{staticClass:"title",attrs:{dir:"auto"}},[t._v(t._s(t.card.title))])],1),t._v(" "),t.card.labels&&t.card.labels.length?e("ul",{staticClass:"labels"},t._l(t.card.labels,(function(a){return e("li",{key:a.id,style:t.labelStyle(a)},[e("span",{attrs:{dir:"auto"}},[t._v(t._s(a.title))])])})),0):t._e()])}),[],!1,null,"339fe802",null).exports},47561:(t,e,a)=>{a.d(e,{default:()=>k});var n=a(99270),r=a(64882),o=a(20629),A=a(37437),d=a(11480);const s={name:"DashboardUpcoming",components:{CreateNewCardCustomPicker:a(23739).default,NcModal:r.Jc,NcDashboardWidget:r.YJ,NcButton:r.P2,PlusIcon:n.Z,Card:A.Z},data:()=>({loading:!1,showAddCardModal:!1}),computed:{...(0,o.Se)(["assignedCardsDashboard"]),cards(){const t=[...this.assignedCardsDashboard].filter((t=>null!==t.duedate));return t.sort(((t,e)=>new Date(t.duedate).getTime()-new Date(e.duedate).getTime())),t.slice(0,5)},showMoreUrl(){return this.cards.length>7?(0,d.nu)("/apps/deck"):null}},beforeMount(){this.loading=!0,this.$store.dispatch("loadUpcoming").then((()=>{this.loading=!1}))},methods:{toggleAddCardModel(){this.showAddCardModal=!this.showAddCardModal}}};var i=a(93379),l=a.n(i),c=a(7795),C=a.n(c),p=a(90569),u=a.n(p),g=a(3565),v=a.n(g),h=a(19216),f=a.n(h),b=a(44589),x=a.n(b),m=a(76100),w={};w.styleTagTransform=x(),w.setAttributes=v(),w.insert=u().bind(null,"head"),w.domAPI=C(),w.insertStyleElement=f();l()(m.Z,w);m.Z&&m.Z.locals&&m.Z.locals;const k=(0,a(51900).Z)(s,(function(){var t=this,e=t._self._c;return e("div",[e("NcDashboardWidget",{attrs:{items:t.cards,"empty-content-icon":"icon-deck","empty-content-message":t.t("deck","No upcoming cards"),"show-more-text":t.t("deck","upcoming cards"),loading:t.loading},on:{hide:()=>{},markDone:()=>{}},scopedSlots:t._u([{key:"default",fn:function(t){let{item:a}=t;return[e("Card",{attrs:{card:a}})]}}])}),t._v(" "),e("div",{staticClass:"center-button"},[e("NcButton",{on:{click:t.toggleAddCardModel},scopedSlots:t._u([{key:"icon",fn:function(){return[e("PlusIcon",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t\t"+t._s(t.t("deck","New card"))+"\n\t\t")]),t._v(" "),t.showAddCardModal?e("NcModal",{staticClass:"card-selector",on:{close:t.toggleAddCardModel}},[e("CreateNewCardCustomPicker",{attrs:{"show-created-notice":""},on:{cancel:t.toggleAddCardModel}})],1):t._e()],1)],1)}),[],!1,null,"2b105512",null).exports}}]);
//# sourceMappingURL=deck-src_views_DashboardUpcoming_vue.js.map?v=2164d77c80111d9907d4