"use strict";(self.webpackChunkdeck=self.webpackChunkdeck||[]).push([["src_views_CommentReferenceWidget_vue"],{86914:(t,e,n)=>{n.d(e,{Z:()=>c});var a=n(87537),r=n.n(a),i=n(23645),s=n.n(i)()(r());s.push([t.id,".labels[data-v-02063ad7]{flex-grow:1;flex-shrink:1;min-width:0;display:flex;flex-direction:row;gap:3px}.labels li[data-v-02063ad7]{flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;overflow:hidden;padding:1px 8px;border-radius:15px;font-size:13px}.labels li[data-v-02063ad7]:hover{overflow:unset}.labels li span[data-v-02063ad7]{flex-grow:0;flex-shrink:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.deck-comment-reference[data-v-02063ad7]{width:100%;white-space:normal;padding:12px}.editor__content .deck-comment-reference[data-v-02063ad7]{width:calc(100% - 24px)}.deck-comment-reference .link[data-v-02063ad7]{text-decoration:underline;color:var(--color-main-text) !important;padding:0 !important}.deck-comment-reference .line[data-v-02063ad7]{display:flex;align-items:center}.deck-comment-reference .line .icon[data-v-02063ad7]{margin-right:4px}.deck-comment-reference .line .title-icon[data-v-02063ad7]{margin-right:8px}.deck-comment-reference .due-date[data-v-02063ad7]{display:flex;align-items:center}.deck-comment-reference .labels[data-v-02063ad7]{margin:8px 0}.deck-comment-reference .comment-wrapper[data-v-02063ad7],.deck-comment-reference .description-assignees[data-v-02063ad7]{width:100%;display:flex;align-items:start}.deck-comment-reference .comment-wrapper .icon[data-v-02063ad7],.deck-comment-reference .description-assignees .icon[data-v-02063ad7]{align-self:start;margin-top:8px}.deck-comment-reference .comment-wrapper .comment[data-v-02063ad7],.deck-comment-reference .comment-wrapper .description[data-v-02063ad7],.deck-comment-reference .description-assignees .comment[data-v-02063ad7],.deck-comment-reference .description-assignees .description[data-v-02063ad7]{margin-right:8px;padding-top:6px;max-height:250px;overflow:scroll}.deck-comment-reference .comment-wrapper .comment.short-comment[data-v-02063ad7],.deck-comment-reference .comment-wrapper .comment.short-description[data-v-02063ad7],.deck-comment-reference .comment-wrapper .description.short-comment[data-v-02063ad7],.deck-comment-reference .comment-wrapper .description.short-description[data-v-02063ad7],.deck-comment-reference .description-assignees .comment.short-comment[data-v-02063ad7],.deck-comment-reference .description-assignees .comment.short-description[data-v-02063ad7],.deck-comment-reference .description-assignees .description.short-comment[data-v-02063ad7],.deck-comment-reference .description-assignees .description.short-description[data-v-02063ad7]{max-height:25px;overflow:hidden}.deck-comment-reference .comment-wrapper .card-assignees[data-v-02063ad7],.deck-comment-reference .description-assignees .card-assignees[data-v-02063ad7]{margin-top:0;height:36px;flex-grow:unset}.deck-comment-reference .spacer[data-v-02063ad7]{flex-grow:1}","",{version:3,sources:["webpack://./src/css/labels.scss","webpack://./src/views/CommentReferenceWidget.vue"],names:[],mappings:"AAGA,yBACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,4BACC,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,cAAA,CAEA,kCACC,cAAA,CAGD,iCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CC3BH,yCACC,UAAA,CAKA,kBAAA,CACA,YAAA,CAJA,0DACC,uBAAA,CAKD,+CACC,yBAAA,CACA,uCAAA,CACA,oBAAA,CAGD,+CACC,YAAA,CACA,kBAAA,CACA,qDACC,gBAAA,CAED,2DACC,gBAAA,CAIF,mDACC,YAAA,CACA,kBAAA,CAGD,iDACC,YAAA,CAGD,0HAEC,UAAA,CACA,YAAA,CACA,iBAAA,CAEA,sIACC,gBAAA,CACA,cAAA,CAGD,gSAEC,gBAAA,CACA,eAAA,CACA,gBAAA,CACA,eAAA,CACA,gsBAEC,eAAA,CACA,eAAA,CAIF,0JACC,YAAA,CACA,WAAA,CACA,eAAA,CAIF,iDACC,WAAA",sourcesContent:["$card-spacing: 10px;\n$card-padding: 10px;\n\n.labels {\n\tflex-grow: 1;\n\tflex-shrink: 1;\n\tmin-width: 0;\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 3px;\n\n\tli {\n\t\tflex-grow: 0;\n\t\tflex-shrink: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\toverflow: hidden;\n\t\tpadding: 1px 8px;\n\t\tborder-radius: 15px;\n\t\tfont-size: 13px;\n\n\t\t&:hover {\n\t\t\toverflow: unset;\n\t\t}\n\n\t\tspan {\n\t\t\tflex-grow: 0;\n\t\t\tflex-shrink: 1;\n\t\t\tmin-width: 0;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t}\n\t}\n}\n","\n/* stylelint-disable-next-line no-invalid-position-at-import-rule */\n@import '../css/labels';\n\n.deck-comment-reference {\n\twidth: 100%;\n\t// needed for the specific case of Text\n\t.editor__content & {\n\t\twidth: calc(100% - 24px);\n\t}\n\twhite-space: normal;\n\tpadding: 12px;\n\n\t.link {\n\t\ttext-decoration: underline;\n\t\tcolor: var(--color-main-text) !important;\n\t\tpadding: 0 !important;\n\t}\n\n\t.line {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.icon {\n\t\t\tmargin-right: 4px;\n\t\t}\n\t\t.title-icon {\n\t\t\tmargin-right: 8px;\n\t\t}\n\t}\n\n\t.due-date {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.labels {\n\t\tmargin: 8px 0;\n\t}\n\n\t.comment-wrapper,\n\t.description-assignees {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\talign-items: start;\n\n\t\t.icon {\n\t\t\talign-self: start;\n\t\t\tmargin-top: 8px;\n\t\t}\n\n\t\t.comment,\n\t\t.description {\n\t\t\tmargin-right: 8px;\n\t\t\tpadding-top: 6px;\n\t\t\tmax-height: 250px;\n\t\t\toverflow: scroll;\n\t\t\t&.short-comment,\n\t\t\t&.short-description {\n\t\t\t\tmax-height: 25px;\n\t\t\t\toverflow: hidden;\n\t\t\t}\n\t\t}\n\n\t\t.card-assignees {\n\t\t\tmargin-top: 0;\n\t\t\theight: 36px;\n\t\t\tflex-grow: unset;\n\t\t}\n\t}\n\n\t.spacer {\n\t\tflex-grow: 1;\n\t}\n}\n"],sourceRoot:""}]);const c=s},65895:(e,n,a)=>{a.d(n,{default:()=>H});var r=a(31522),i=a(4946),s=a(83659);const c={name:"CommentProcessingOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var o=a(51900);const d=(0,o.Z)(c,(function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon comment-processing-outline-icon",attrs:{"aria-hidden":!t.title||null,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9M10,16V19.08L13.08,16H20V4H4V16H10M17,11H15V9H17V11M13,11H11V9H13V11M9,11H7V9H9V11Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports;var l=a(51029),A=a(80767),m=a(94357),p=a(64882),C=a(57883),h=a(11480);const f={name:"CommentReferenceWidget",components:{AvatarList:A.Z,DeckIcon:l.Z,CalendarBlankIcon:r.Z,TextIcon:i.Z,CardBulletedOutlineIcon:s.Z,NcRichText:p.rE,CommentProcessingOutlineIcon:d},mixins:[m.Z],props:{richObjectType:{type:String,default:""},richObject:{type:Object,default:null},accessible:{type:Boolean,default:!0}},data:()=>({shortDescription:!0,shortComment:!0}),computed:{card(){return this.richObject.card},board(){return this.richObject.board},stack(){return this.richObject.stack},comment(){return this.richObject.comment},commentMessageText(){const t=document.createElement("div");return t.innerHTML=this.comment.message,t.textContent},cardLink(){return(0,h.nu)("/apps/deck/#/board/{boardId}/card/{cardId}",{boardId:this.board.id,cardId:this.card.id})},boardLink(){return(0,h.nu)("/apps/deck/#/board/{boardId}",{boardId:this.board.id})},cardTooltip(){return t("deck","* Created on {created}\n* Last modified on {lastMod}\n* {nbAttachments} attachments\n* {nbComments} comments",{created:C.Z.unix(this.card.createdAt).format("LLL"),lastMod:C.Z.unix(this.card.lastModified).format("LLL"),nbAttachments:this.card.attachments.length,nbComments:this.card.commentsCount})},stackTooltip(){return t("deck","{nbCards} cards",{nbCards:this.stack.cards.length})},dueDate(){return this.card.duedate?(0,C.Z)(this.card.duedate).fromNow():null},formattedDueDate(){return this.card.duedate?t("deck","Due on {date}",{date:(0,C.Z)(this.card.duedate).format("LLL")}):null},labelsSorted(){return[...this.card.labels].sort(((t,e)=>t.title<e.title?-1:1))}},methods:{}};var g=a(93379),u=a.n(g),v=a(7795),x=a.n(v),k=a(90569),w=a.n(k),b=a(3565),_=a.n(b),D=a(19216),y=a.n(D),B=a(44589),I=a.n(B),L=a(86914),Z={};Z.styleTagTransform=I(),Z.setAttributes=_(),Z.insert=w().bind(null,"head"),Z.domAPI=x(),Z.insertStyleElement=y();u()(L.Z,Z);L.Z&&L.Z.locals&&L.Z.locals;const H=(0,o.Z)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"deck-comment-reference"},[e("div",{staticClass:"line"},[e("CardBulletedOutlineIcon",{staticClass:"title-icon",attrs:{size:20}}),t._v(" "),e("strong",[e("a",{staticClass:"link",attrs:{href:t.cardLink,title:t.cardTooltip,target:"_blank"}},[t._v("\n\t\t\t\t"+t._s(t.card.title)+"\n\t\t\t")])]),t._v(" "),t.dueDate?e("div",{staticClass:"spacer"}):t._e(),t._v(" "),t.dueDate?e("span",{staticClass:"due-date",attrs:{title:t.t("Due date")+": "+t.formattedDueDate}},[e("CalendarBlankIcon",{staticClass:"icon",attrs:{size:20}}),t._v("\n\t\t\t"+t._s(t.dueDate)+"\n\t\t")],1):t._e()],1),t._v(" "),e("div",{staticClass:"line"},[e("DeckIcon",{staticClass:"title-icon",attrs:{size:20}}),t._v(" "),e("a",{staticClass:"link",attrs:{title:t.stackTooltip,href:t.boardLink,target:"_blank"}},[t._v("\n\t\t\t"+t._s(t.t("deck","{stack} in {board}",{stack:t.stack.title,board:t.board.title}))+"\n\t\t")])],1),t._v(" "),e("div",[t.card.labels&&t.card.labels.length?e("transition-group",{staticClass:"labels",attrs:{name:"zoom",tag:"ul"},on:{click:function(e){return e.stopPropagation(),t.openCard.apply(null,arguments)}}},t._l(t.labelsSorted,(function(n){return e("li",{key:n.id,style:t.labelStyle(n)},[e("span",[t._v(t._s(n.title))])])})),0):t._e()],1),t._v(" "),e("div",{staticClass:"line description-assignees"},[t.card.description?e("TextIcon",{staticClass:"icon",attrs:{size:20}}):t._e(),t._v(" "),t.card.description?e("div",{class:{description:!0,"short-description":t.shortDescription}},[e("NcRichText",{attrs:{title:t.shortDescription?t.t("deck","Click to expand description"):void 0,text:t.card.description,"use-markdown":!0},nativeOn:{click:function(e){t.shortDescription=!t.shortDescription}}})],1):t._e(),t._v(" "),t.card.assignedUsers.length>0?e("div",{staticClass:"spacer"}):t._e(),t._v(" "),t.card.assignedUsers.length>0?e("AvatarList",{staticClass:"card-assignees",attrs:{users:t.card.assignedUsers}}):t._e()],1),t._v(" "),t.comment?e("div",{staticClass:"line comment-wrapper"},[e("CommentProcessingOutlineIcon",{staticClass:"icon",attrs:{size:20}}),t._v(" "),e("div",{class:{comment:!0,"short-comment":t.shortComment}},[e("NcRichText",{attrs:{title:t.shortComment?t.t("deck","Click to expand comment"):void 0,text:t.commentMessageText,"use-markdown":!1},nativeOn:{click:function(e){t.shortComment=!t.shortComment}}})],1)],1):t._e()])}),[],!1,null,"02063ad7",null).exports}}]);
//# sourceMappingURL=deck-src_views_CommentReferenceWidget_vue.js.map?v=b72edfa17b954fbd8875