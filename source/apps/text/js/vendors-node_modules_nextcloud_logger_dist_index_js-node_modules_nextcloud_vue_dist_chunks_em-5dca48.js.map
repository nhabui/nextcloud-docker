{"version":3,"file":"vendors-node_modules_nextcloud_logger_dist_index_js-node_modules_nextcloud_vue_dist_chunks_em-5dca48.js?v=f8797d8a414c0b9ccd81","mappings":";qNAEA,EAAQ,OACR,EAAQ,OACR,EAAQ,KACR,EAAQ,OACR,EAAQ,OACRA,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,mBAAgB,EACxBF,EAAQG,mBAwGR,SAA4BC,GAC1B,OAAO,IAAIF,EAAcE,EAC3B,EAzGA,EAAQ,OACR,EAAQ,OACR,EAAQ,OACR,EAAQ,OACR,EAAQ,OACR,EAAQ,OACR,EAAQ,OACR,IAAIC,EAAa,EAAQ,OACzB,SAASC,EAAQC,GAAgC,OAAOD,EAAU,mBAAqBE,QAAU,iBAAmBA,OAAOC,SAAW,SAAUF,GAAK,cAAcA,CAAG,EAAI,SAAUA,GAAK,OAAOA,GAAK,mBAAqBC,QAAUD,EAAEG,cAAgBF,QAAUD,IAAMC,OAAOG,UAAY,gBAAkBJ,CAAG,EAAGD,EAAQC,EAAI,CAE7T,SAASK,EAAkBC,EAAQC,GAAS,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,IAAIE,EAAaH,EAAMC,GAAIE,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMtB,OAAOC,eAAec,EAAQQ,EAAeJ,EAAWK,KAAML,EAAa,CAAE,CAG5U,SAASI,EAAeE,GAAO,IAAID,EACnC,SAAsBE,EAAOC,GAAQ,GAAuB,WAAnBnB,EAAQkB,IAAiC,OAAVA,EAAgB,OAAOA,EAAO,IAAIE,EAAOF,EAAMhB,OAAOmB,aAAc,QAAaC,IAATF,EAAoB,CAAE,IAAIG,EAAMH,EAAKI,KAAKN,EAAOC,GAAQ,WAAY,GAAqB,WAAjBnB,EAAQuB,GAAmB,OAAOA,EAAK,MAAM,IAAIE,UAAU,+CAAiD,CAAE,OAAiB,WAATN,EAAoBO,OAASC,QAAQT,EAAQ,CADnVU,CAAaX,EAAK,UAAW,MAAwB,WAAjBjB,EAAQgB,GAAoBA,EAAMU,OAAOV,EAAM,CAE5H,IAAIpB,EAA6B,WAC/B,SAASA,EAAcE,GAJzB,IAAyB+B,EAAKb,EAAKrB,GAHnC,SAAyBmC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIN,UAAU,oCAAwC,CAQpJO,CAAgBC,KAAMrC,GALDiC,EAMLI,KANetC,OAME,GANOqB,EAAMD,EAApBC,EAMJ,cANwDa,EAAOrC,OAAOC,eAAeoC,EAAKb,EAAK,CAAErB,MAAOA,EAAOiB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBe,EAAIb,GAAOrB,EAOlNsC,KAAKnC,QAAUA,GAAW,CAAC,CAC7B,CATF,IAAsBiC,EAAaG,EAAYC,EAoF7C,OApFoBJ,EAUPnC,GAVoBsC,EAUL,CAAC,CAC3BlB,IAAK,gBACLrB,MAAO,SAAuByC,EAASC,EAAOvC,GAC5C,IAAIwC,EAAM,IAAMvC,EAAWwC,SAASF,GAAOG,cAAgB,KAI3D,OAHI1C,GAAWA,EAAQ2C,MACrBH,GAAOxC,EAAQ2C,IAAM,MAEA,iBAAZL,EAA6BE,EAAMF,GAG9CE,GAAO,cAAcI,OAAON,EAAQO,MAChCP,EAAQA,UAASE,GAAO,KAAMI,OAAON,EAAQA,QAAS,MAEtDC,IAAUtC,EAAWwC,SAASK,OAASR,EAAQS,QAAOP,GAAO,qBAAqBI,OAAON,EAAQS,QAC9FP,EACT,GACC,CACDtB,IAAK,MACLrB,MAAO,SAAa0C,EAAOD,EAAStC,GAClC,IAAIgD,EAAeC,EAEnB,KAAoH,iBAArE,QAAlCD,EAAgBb,KAAKnC,eAAuC,IAAlBgD,OAA2B,EAASA,EAAcT,QAAuBA,GAA6C,QAAnCU,EAAiBd,KAAKnC,eAAwC,IAAnBiD,OAA4B,EAASA,EAAeV,QAQzO,OAHyB,WAArBrC,EAAQoC,SAA+Fd,KAArExB,aAAyC,EAASA,EAAQkD,SAC9FlD,EAAQkD,MAAQZ,GAEVC,GACN,KAAKtC,EAAWwC,SAASK,MACvBK,QAAQC,MAAMjB,KAAKkB,cAAcf,EAASrC,EAAWwC,SAASK,MAAO9C,GAAUA,GAC/E,MACF,KAAKC,EAAWwC,SAASa,KACvBH,QAAQI,KAAKpB,KAAKkB,cAAcf,EAASrC,EAAWwC,SAASa,KAAMtD,GAAUA,GAC7E,MACF,KAAKC,EAAWwC,SAASe,KACvBL,QAAQM,KAAKtB,KAAKkB,cAAcf,EAASrC,EAAWwC,SAASe,KAAMxD,GAAUA,GAC7E,MACF,KAAKC,EAAWwC,SAASiB,MACvBP,QAAQD,MAAMf,KAAKkB,cAAcf,EAASrC,EAAWwC,SAASiB,MAAO1D,GAAUA,GAC/E,MACF,KAAKC,EAAWwC,SAASkB,MACzB,QACER,QAAQD,MAAMf,KAAKkB,cAAcf,EAASrC,EAAWwC,SAASkB,MAAO3D,GAAUA,GAGrF,GACC,CACDkB,IAAK,QACLrB,MAAO,SAAeyC,EAAStC,GAC7BmC,KAAKyB,IAAI3D,EAAWwC,SAASK,MAAOR,EAAS5C,OAAOmE,OAAO,CAAC,EAAG1B,KAAKnC,QAASA,GAC/E,GACC,CACDkB,IAAK,OACLrB,MAAO,SAAcyC,EAAStC,GAC5BmC,KAAKyB,IAAI3D,EAAWwC,SAASa,KAAMhB,EAAS5C,OAAOmE,OAAO,CAAC,EAAG1B,KAAKnC,QAASA,GAC9E,GACC,CACDkB,IAAK,OACLrB,MAAO,SAAcyC,EAAStC,GAC5BmC,KAAKyB,IAAI3D,EAAWwC,SAASe,KAAMlB,EAAS5C,OAAOmE,OAAO,CAAC,EAAG1B,KAAKnC,QAASA,GAC9E,GACC,CACDkB,IAAK,QACLrB,MAAO,SAAeyC,EAAStC,GAC7BmC,KAAKyB,IAAI3D,EAAWwC,SAASiB,MAAOpB,EAAS5C,OAAOmE,OAAO,CAAC,EAAG1B,KAAKnC,QAASA,GAC/E,GACC,CACDkB,IAAK,QACLrB,MAAO,SAAeyC,EAAStC,GAC7BmC,KAAKyB,IAAI3D,EAAWwC,SAASkB,MAAOrB,EAAS5C,OAAOmE,OAAO,CAAC,EAAG1B,KAAKnC,QAASA,GAC/E,MAlF0EQ,EAAkByB,EAAY1B,UAAW6B,GAAiBC,GAAa7B,EAAkByB,EAAaI,GAAc3C,OAAOC,eAAesC,EAAa,YAAa,CAAEjB,UAAU,IAoFrPlB,CACT,CAjFiC,GAuFjCF,EAAQE,cAAgBA,mBChHxB,EAAQ,OACR,EAAQ,OACR,EAAQ,KACR,EAAQ,OACR,EAAQ,OACRJ,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQkE,mBAAgB,EACxB,EAAQ,OACR,EAAQ,OACR,EAAQ,OACR,EAAQ,OACR,EAAQ,OACR,EAAQ,OACR,IAAIC,EAAQ,EAAQ,OAChB9D,EAAa,EAAQ,OACzB,SAASC,EAAQC,GAAgC,OAAOD,EAAU,mBAAqBE,QAAU,iBAAmBA,OAAOC,SAAW,SAAUF,GAAK,cAAcA,CAAG,EAAI,SAAUA,GAAK,OAAOA,GAAK,mBAAqBC,QAAUD,EAAEG,cAAgBF,QAAUD,IAAMC,OAAOG,UAAY,gBAAkBJ,CAAG,EAAGD,EAAQC,EAAI,CAE7T,SAASK,EAAkBC,EAAQC,GAAS,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,IAAIE,EAAaH,EAAMC,GAAIE,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMtB,OAAOC,eAAec,EAAQQ,EAAeJ,EAAWK,KAAML,EAAa,CAAE,CAE5U,SAASmD,EAAgBjC,EAAKb,EAAKrB,GAA4L,OAAnLqB,EAAMD,EAAeC,MAAiBa,EAAOrC,OAAOC,eAAeoC,EAAKb,EAAK,CAAErB,MAAOA,EAAOiB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBe,EAAIb,GAAOrB,EAAgBkC,CAAK,CAC3O,SAASd,EAAeE,GAAO,IAAID,EACnC,SAAsBE,EAAOC,GAAQ,GAAuB,WAAnBnB,EAAQkB,IAAiC,OAAVA,EAAgB,OAAOA,EAAO,IAAIE,EAAOF,EAAMhB,OAAOmB,aAAc,QAAaC,IAATF,EAAoB,CAAE,IAAIG,EAAMH,EAAKI,KAAKN,EAAOC,GAAQ,WAAY,GAAqB,WAAjBnB,EAAQuB,GAAmB,OAAOA,EAAK,MAAM,IAAIE,UAAU,+CAAiD,CAAE,OAAiB,WAATN,EAAoBO,OAASC,QAAQT,EAAQ,CADnVU,CAAaX,EAAK,UAAW,MAAwB,WAAjBjB,EAAQgB,GAAoBA,EAAMU,OAAOV,EAAM,CAK5H,IAAI4C,EAA6B,WAC/B,SAASA,EAAcG,IAVzB,SAAyBjC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIN,UAAU,oCAAwC,CAWpJO,CAAgBC,KAAM2B,GACtBE,EAAgB7B,KAAM,eAAW,GACjC6B,EAAgB7B,KAAM,eAAW,GACjCA,KAAKnC,QAAU,CAAC,EAChBmC,KAAK8B,QAAUA,CACjB,CAdF,IAAsBhC,EAAaG,EAAYC,EA0G7C,OA1GoBJ,EAqBP6B,GArBoB1B,EAqBL,CAAC,CAC3BlB,IAAK,SACLrB,MAAO,SAAgBqE,GAErB,OADA/B,KAAKnC,QAAQ2C,IAAMuB,EACZ/B,IACT,GAOC,CACDjB,IAAK,cACLrB,MAAO,SAAqB0C,GAE1B,OADAJ,KAAKnC,QAAQuC,MAAQA,EACdJ,IACT,GASC,CACDjB,IAAK,SACLrB,MAAO,SAAgBsE,GAErB,OADAhC,KAAKnC,QAAQmE,IAAMA,EACZhC,IACT,GAKC,CACDjB,IAAK,aACLrB,MAAO,WACL,IAAIuE,GAAO,EAAIL,EAAMM,kBAIrB,OAHa,OAATD,IACFjC,KAAKnC,QAAQmE,IAAMC,EAAKD,KAEnBhC,IACT,GAKC,CACDjB,IAAK,iBACLrB,MAAO,WAEL,IAAIyE,EAAOnC,KAkBX,OAfe,SAASoC,IAEpB,IAAIC,EAAuBC,EADD,aAAxBC,SAASC,YAAqD,gBAAxBD,SAASC,YAGjDL,EAAKtE,QAAQuC,MAAgK,QAAvJiC,EAAqE,QAA5CC,EAAqBG,OAAOC,kBAA+C,IAAvBJ,OAAgC,EAASA,EAAmBK,gBAAgD,IAA1BN,EAAmCA,EAAwBvE,EAAWwC,SAASe,KAEhQoB,OAAOG,YACTT,EAAKtE,QAAQuC,MAAQtC,EAAWwC,SAASK,OAE3C4B,SAASM,oBAAoB,mBAAoBT,IAEjDG,SAASO,iBAAiB,mBAAoBV,EAElD,CACAA,GACOpC,IACT,GAGC,CACDjB,IAAK,QACLrB,MAAO,WAKL,YAJ2B2B,IAAvBW,KAAKnC,QAAQuC,OAEfJ,KAAK+C,iBAEA/C,KAAK8B,QAAQ9B,KAAKnC,QAC3B,MAxG0EQ,EAAkByB,EAAY1B,UAAW6B,GAAiBC,GAAa7B,EAAkByB,EAAaI,GAAc3C,OAAOC,eAAesC,EAAa,YAAa,CAAEjB,UAAU,IA0GrP8C,CACT,CApGiC,GAqGjClE,EAAQkE,cAAgBA,mBChIxB,EAAQ,OACRpE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ6C,cAAW,EACnB,IAAIA,EAAwB,SAAUA,GAMpC,OALAA,EAASA,EAAgB,MAAI,GAAK,QAClCA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAgB,MAAI,GAAK,QAClCA,EAASA,EAAgB,MAAI,GAAK,QAC3BA,CACT,CAP4B,CAO1B,CAAC,GACH7C,EAAQ6C,SAAWA,mBCbnB,EAAQ,OAWR7C,EAAQ,GAAmBuF,EAC3B,IAAIC,EAAiB,EAAQ,OACzBC,EAAiB,EAAQ,OACzBpF,EAAa,EAAQ,OAIzB,SAASkF,IACP,OAAO,IAAIE,EAAevB,cAAcsB,EAAerF,mBACzD,mBCrBAL,OAAOC,eAAeC,EAASQ,OAAOkF,YAAa,CAAEzF,MAAO,WAC5D,MAAMc,EAAI,EAAQ,OAClB,IAAI4E,EACJ,MAAMpF,EAAI,GAoBV,IAAIqF,EATJ7E,EAAE8E,UAAU,qBAAsBC,IAChCH,EAAIG,EAAEC,MAAOxF,EAAEyF,SAASC,IACtB,IACEA,EAAEN,EACJ,CAAE,MAAOO,GACP3C,QAAQD,MAAM,qCAAsC4C,EACtD,IACA,IAGJ,MAAMC,EAAI,CAACL,EAAGG,IAAMH,EAAIA,EAAEM,aAAaH,GAAK,KAc5CjG,EAAQyE,eAbR,WACE,QAAU,IAANmB,EACF,OAAOA,EACT,MAAME,EAAIhB,UAAUuB,qBAAqB,QAAQ,GACjD,IAAKP,EACH,OAAO,KACT,MAAMG,EAAIE,EAAEL,EAAG,aACf,OAAa,OAANG,GAAcL,EAAI,KAAMA,IAAMA,EAAI,CACvCrB,IAAK0B,EACLK,YAAaH,EAAEL,EAAG,yBAClBS,UAAWvB,OAAOwB,aACjBZ,EACL,EAEA5F,EAAQyG,gBAnCR,WACE,QAAU,IAANd,EAAc,CAChB,MAAMG,EAAIhB,UAAUuB,qBAAqB,QAAQ,GACjDV,EAAIG,EAAIA,EAAEM,aAAa,qBAAuB,IAChD,CACA,OAAOT,CACT,EA8BA3F,EAAQ0G,qBA7BR,SAAWZ,GACTvF,EAAEoG,KAAKb,EACT,mBCbAhG,OAAOC,eAAeC,EAASQ,OAAOkF,YAAa,CAAEzF,MAAO,WAC5D,MAAM2G,EAAQ,EAAQ,OAChBC,EAAQ,EAAQ,OAChBC,EAAmBhB,GAAMA,GAAKA,EAAEiB,WAAajB,EAAI,CAAEkB,QAASlB,GAC5DmB,EAAiCH,EAAgBF,GACjDM,EAAiCJ,EAAgBD,GACvD,MAAMM,EACJC,IACA,WAAA1G,CAAY2G,GACqB,mBAApBA,EAAKC,YAA8BL,EAAeD,QAAQK,EAAKC,cAE/DJ,EAAeF,QAAQK,EAAKC,gBAAkBJ,EAAeF,QAAQzE,KAAK+E,eACnF/D,QAAQM,KACN,oCAAsCwD,EAAKC,aAAe,SAAW/E,KAAK+E,cAH5E/D,QAAQM,KAAK,4DAMftB,KAAK6E,IAAMC,CACb,CACA,UAAAC,GACE,MAAO,OACT,CACA,SAAAzB,CAAU5C,EAAMsE,GACdhF,KAAK6E,IAAIvB,UAAU5C,EAAMsE,EAC3B,CACA,WAAAC,CAAYvE,EAAMsE,GAChBhF,KAAK6E,IAAII,YAAYvE,EAAMsE,EAC7B,CACA,IAAAE,CAAKxE,EAAMyE,GACTnF,KAAK6E,IAAIK,KAAKxE,EAAMyE,EACtB,EAEF,MAAMC,EACJC,SAA2B,IAAIC,IAC/B,UAAAP,GACE,MAAO,OACT,CACA,SAAAzB,CAAU5C,EAAMsE,GACdhF,KAAKqF,SAASE,IACZ7E,GACCV,KAAKqF,SAASG,IAAI9E,IAAS,IAAID,OAC9BuE,GAGN,CACA,WAAAC,CAAYvE,EAAMsE,GAChBhF,KAAKqF,SAASE,IACZ7E,GACCV,KAAKqF,SAASG,IAAI9E,IAAS,IAAI+E,QAAQC,GAAMA,IAAMV,IAExD,CACA,IAAAE,CAAKxE,EAAMyE,IACRnF,KAAKqF,SAASG,IAAI9E,IAAS,IAAI+C,SAASiC,IACvC,IACEA,EAAEP,EACJ,CAAE,MAAO5B,GACPvC,QAAQD,MAAM,kCAAmCwC,EACnD,IAEJ,EAEF,IAAIsB,EAAM,KACV,SAASc,IACP,OAAY,OAARd,EACKA,EAEa,oBAAXpC,OACF,IAAImD,MAAM,CAAC,EAAG,CACnBJ,IAAK,IACI,IAAMxE,QAAQD,MACnB,6DAKJ0B,OAAOoD,IAAIC,gBAA6C,IAAzBrD,OAAOsD,gBACxC/E,QAAQM,KACN,sEAEFmB,OAAOsD,cAAgBtD,OAAOoD,GAAGC,WAGjCjB,OADmC,IAA1BpC,QAAQsD,cACX,IAAInB,EAASnC,OAAOsD,eAEpBtD,OAAOsD,cAAgB,IAAIX,EAE5BP,EACT,CAUApH,EAAQmH,SAAWA,EACnBnH,EAAQ2H,UAAYA,EACpB3H,EAAQyH,KALR,SAAcxE,EAAMyE,GAClBQ,IAAST,KAAKxE,EAAMyE,EACtB,EAIA1H,EAAQ6F,UAZR,SAAmB5C,EAAMsE,GACvBW,IAASrC,UAAU5C,EAAMsE,EAC3B,EAWAvH,EAAQwH,YAVR,SAAqBvE,EAAMsE,GACzBW,IAASV,YAAYvE,EAAMsE,EAC7B,mBC5FA,IAAIgB,EAAsB,EAAQ,OAE9BC,EAAUxG,OACVyG,EAAa1G,UAEjB2G,EAAO1I,QAAU,SAAU2I,GACzB,GAAIJ,EAAoBI,GAAW,OAAOA,EAC1C,MAAM,IAAIF,EAAW,aAAeD,EAAQG,GAAY,kBAC1D,mBCRA,IAAIC,EAAkB,EAAQ,OAC1BC,EAAS,EAAQ,OACjB9I,EAAiB,WAEjB+I,EAAcF,EAAgB,eAC9BG,EAAiBC,MAAMrI,eAISiB,IAAhCmH,EAAeD,IACjB/I,EAAegJ,EAAgBD,EAAa,CAC1C3H,cAAc,EACdlB,MAAO4I,EAAO,QAKlBH,EAAO1I,QAAU,SAAUsB,GACzByH,EAAeD,GAAaxH,IAAO,CACrC,mBCnBA,IAAI2H,EAAc,EAAQ,OAE1BP,EAAO1I,QAAUiJ,EAAY,GAAGC,wBCFhC,IAAIC,EAAQ,EAAQ,MAEpBT,EAAO1I,SAAWmJ,GAAM,WACtB,SAASC,IAAkB,CAG3B,OAFAA,EAAEzI,UAAUD,YAAc,KAEnBZ,OAAOuJ,eAAe,IAAID,KAASA,EAAEzI,SAC9C,eCLA+H,EAAO1I,QAAU,SAAUC,EAAOqJ,GAChC,MAAO,CAAErJ,MAAOA,EAAOqJ,KAAMA,EAC/B,mBCJA,IAAIC,EAAW,EAAQ,OACnBC,EAAsB,EAAQ,OAE9Bf,EAAa1G,UAIjB2G,EAAO1I,QAAU,SAAUyB,GAEzB,GADA8H,EAAShH,MACI,WAATd,GAA8B,YAATA,EAAoBA,EAAO,cAC/C,GAAa,WAATA,EAAmB,MAAM,IAAIgH,EAAW,kBACjD,OAAOe,EAAoBjH,KAAMd,EACnC,mBCZA,IAAIgI,EAAc,EAAQ,OACtB1J,EAAiB,EAAQ,OAE7B2I,EAAO1I,QAAU,SAAUa,EAAQoC,EAAMhC,GAGvC,OAFIA,EAAW8G,KAAK0B,EAAYxI,EAAW8G,IAAK9E,EAAM,CAAEyG,QAAQ,IAC5DzI,EAAW6G,KAAK2B,EAAYxI,EAAW6G,IAAK7E,EAAM,CAAE0G,QAAQ,IACzD5J,EAAe6J,EAAE/I,EAAQoC,EAAMhC,EACxC,aCLAyH,EAAO1I,QAAU,CACf6J,YAAa,EACbC,oBAAqB,EACrBC,aAAc,EACdC,eAAgB,EAChBC,YAAa,EACbC,cAAe,EACfC,aAAc,EACdC,qBAAsB,EACtBC,SAAU,EACVC,kBAAmB,EACnBC,eAAgB,EAChBC,gBAAiB,EACjBC,kBAAmB,EACnBC,UAAW,EACXC,cAAe,EACfC,aAAc,EACdC,SAAU,EACVC,iBAAkB,EAClBC,OAAQ,EACRC,YAAa,EACbC,cAAe,EACfC,cAAe,EACfC,eAAgB,EAChBC,aAAc,EACdC,cAAe,EACfC,iBAAkB,EAClBC,iBAAkB,EAClBC,eAAgB,EAChBC,iBAAkB,EAClBC,cAAe,EACfC,UAAW,oBChCb,IAEIC,EAFwB,EAAQ,MAEpBC,CAAsB,QAAQD,UAC1CE,EAAwBF,GAAaA,EAAUlL,aAAekL,EAAUlL,YAAYC,UAExF+H,EAAO1I,QAAU8L,IAA0BhM,OAAOa,eAAYiB,EAAYkK,mBCN1E,IAAI7C,EAAc,EAAQ,OACtB8C,EAAY,EAAQ,OAExBrD,EAAO1I,QAAU,SAAUgM,EAAQ1K,EAAK2K,GACtC,IAEE,OAAOhD,EAAY8C,EAAUjM,OAAOoM,yBAAyBF,EAAQ1K,GAAK2K,IAC5E,CAAE,MAAO3I,GAAqB,CAChC,mBCRA,IAAI2F,EAAc,EAAQ,OACtBkD,EAAU,EAAQ,OAClBC,EAAa,EAAQ,OACrBC,EAAU,EAAQ,MAClBC,EAAW,EAAQ,OAEnB3F,EAAOsC,EAAY,GAAGtC,MAE1B+B,EAAO1I,QAAU,SAAUuM,GACzB,GAAIH,EAAWG,GAAW,OAAOA,EACjC,GAAKJ,EAAQI,GAAb,CAGA,IAFA,IAAIC,EAAYD,EAASvL,OACrByL,EAAO,GACF1L,EAAI,EAAGA,EAAIyL,EAAWzL,IAAK,CAClC,IAAI2L,EAAUH,EAASxL,GACD,iBAAX2L,EAAqB/F,EAAK8F,EAAMC,GAChB,iBAAXA,GAA4C,WAArBL,EAAQK,IAA8C,WAArBL,EAAQK,IAAuB/F,EAAK8F,EAAMH,EAASI,GAC7H,CACA,IAAIC,EAAaF,EAAKzL,OAClB4L,GAAO,EACX,OAAO,SAAUtL,EAAKrB,GACpB,GAAI2M,EAEF,OADAA,GAAO,EACA3M,EAET,GAAIkM,EAAQ5J,MAAO,OAAOtC,EAC1B,IAAK,IAAI4M,EAAI,EAAGA,EAAIF,EAAYE,IAAK,GAAIJ,EAAKI,KAAOvL,EAAK,OAAOrB,CACnE,CAjB8B,CAkBhC,mBC5BA,IAAImM,EAAa,EAAQ,OACrBU,EAAW,EAAQ,OACnBC,EAAiB,EAAQ,OAG7BrE,EAAO1I,QAAU,SAAUgN,EAAOC,EAAOC,GACvC,IAAIC,EAAWC,EAUf,OAPEL,GAEAX,EAAWe,EAAYF,EAAMvM,cAC7ByM,IAAcD,GACdJ,EAASM,EAAqBD,EAAUxM,YACxCyM,IAAuBF,EAAQvM,WAC/BoM,EAAeC,EAAOI,GACjBJ,CACT,mBCjBA,IAAIF,EAAW,EAAQ,OAEvBpE,EAAO1I,QAAU,SAAU2I,GACzB,OAAOmE,EAASnE,IAA0B,OAAbA,CAC/B,mBCJA,IAAI0E,EAAoB,2BACpBxE,EAAS,EAAQ,OACjByE,EAA2B,EAAQ,OACnCC,EAAiB,EAAQ,OACzBC,EAAY,EAAQ,MAEpBC,EAAa,WAAc,OAAOlL,IAAM,EAE5CmG,EAAO1I,QAAU,SAAU0N,EAAqBC,EAAMC,EAAMC,GAC1D,IAAIC,EAAgBH,EAAO,YAI3B,OAHAD,EAAoB/M,UAAYkI,EAAOwE,EAAmB,CAAEO,KAAMN,IAA2BO,EAAiBD,KAC9GL,EAAeG,EAAqBI,GAAe,GAAO,GAC1DN,EAAUM,GAAiBL,EACpBC,CACT,mBCdA,IAAIK,EAAI,EAAQ,OACZjM,EAAO,EAAQ,OACfkM,EAAU,EAAQ,OAClBC,EAAe,EAAQ,OACvB7B,EAAa,EAAQ,OACrB8B,EAA4B,EAAQ,OACpC7E,EAAiB,EAAQ,OACzB0D,EAAiB,EAAQ,OACzBQ,EAAiB,EAAQ,OACzBY,EAA8B,EAAQ,OACtCC,EAAgB,EAAQ,OACxBxF,EAAkB,EAAQ,OAC1B4E,EAAY,EAAQ,MACpBa,EAAgB,EAAQ,OAExBC,EAAuBL,EAAaM,OACpCC,EAA6BP,EAAaQ,aAC1CpB,EAAoBgB,EAAchB,kBAClCqB,EAAyBL,EAAcK,uBACvCC,EAAW/F,EAAgB,YAC3BgG,EAAO,OACPC,EAAS,SACTC,EAAU,UAEVrB,EAAa,WAAc,OAAOlL,IAAM,EAE5CmG,EAAO1I,QAAU,SAAU+O,EAAUpB,EAAMD,EAAqBE,EAAMoB,EAASC,EAAQC,GACrFhB,EAA0BR,EAAqBC,EAAMC,GAErD,IAqBIuB,EAA0BC,EAASC,EArBnCC,EAAqB,SAAUC,GACjC,GAAIA,IAASP,GAAWQ,EAAiB,OAAOA,EAChD,IAAKd,GAA0Ba,GAAQA,KAAQE,EAAmB,OAAOA,EAAkBF,GAE3F,OAAQA,GACN,KAAKX,EACL,KAAKC,EACL,KAAKC,EAAS,OAAO,WAAqB,OAAO,IAAIpB,EAAoBnL,KAAMgN,EAAO,EAGxF,OAAO,WAAc,OAAO,IAAI7B,EAAoBnL,KAAO,CAC7D,EAEIuL,EAAgBH,EAAO,YACvB+B,GAAwB,EACxBD,EAAoBV,EAASpO,UAC7BgP,EAAiBF,EAAkBd,IAClCc,EAAkB,eAClBT,GAAWS,EAAkBT,GAC9BQ,GAAmBd,GAA0BiB,GAAkBL,EAAmBN,GAClFY,EAA6B,UAATjC,GAAmB8B,EAAkBI,SAA4BF,EA+BzF,GA3BIC,IACFT,EAA2B9F,EAAeuG,EAAkB9N,KAAK,IAAIiN,OACpCjP,OAAOa,WAAawO,EAAyBvB,OACvEI,GAAW3E,EAAe8F,KAA8B9B,IACvDN,EACFA,EAAeoC,EAA0B9B,GAC/BjB,EAAW+C,EAAyBR,KAC9CP,EAAce,EAA0BR,EAAUlB,IAItDF,EAAe4B,EAA0BrB,GAAe,GAAM,GAC1DE,IAASR,EAAUM,GAAiBL,IAKxCa,GAAwBU,IAAYH,GAAUc,GAAkBA,EAAe1M,OAAS4L,KACrFb,GAAWQ,EACdL,EAA4BsB,EAAmB,OAAQZ,IAEvDa,GAAwB,EACxBF,EAAkB,WAAoB,OAAO1N,EAAK6N,EAAgBpN,KAAO,IAKzEyM,EAMF,GALAI,EAAU,CACRU,OAAQR,EAAmBT,GAC3BpC,KAAMwC,EAASO,EAAkBF,EAAmBV,GACpDiB,QAASP,EAAmBR,IAE1BI,EAAQ,IAAKG,KAAOD,GAClBV,GAA0BgB,KAA2BL,KAAOI,KAC9DrB,EAAcqB,EAAmBJ,EAAKD,EAAQC,SAE3CtB,EAAE,CAAElN,OAAQ8M,EAAMoC,OAAO,EAAMC,OAAQtB,GAA0BgB,GAAyBN,GASnG,OALMpB,IAAWkB,GAAWO,EAAkBd,KAAca,GAC1DpB,EAAcqB,EAAmBd,EAAUa,EAAiB,CAAEvM,KAAM+L,IAEtExB,EAAUG,GAAQ6B,EAEXJ,CACT,mBCpGA,IAcI/B,EAAmB4C,EAAmCC,EAdtD/G,EAAQ,EAAQ,MAChBiD,EAAa,EAAQ,OACrBU,EAAW,EAAQ,OACnBjE,EAAS,EAAQ,OACjBQ,EAAiB,EAAQ,OACzB+E,EAAgB,EAAQ,OACxBxF,EAAkB,EAAQ,OAC1BoF,EAAU,EAAQ,OAElBW,EAAW/F,EAAgB,YAC3B8F,GAAyB,EAOzB,GAAGjC,OAGC,SAFNyD,EAAgB,GAAGzD,SAIjBwD,EAAoC5G,EAAeA,EAAe6G,OACxBpQ,OAAOa,YAAW0M,EAAoB4C,GAHlDvB,GAAyB,IAO7B5B,EAASO,IAAsBlE,GAAM,WACjE,IAAIgH,EAAO,CAAC,EAEZ,OAAO9C,EAAkBsB,GAAU7M,KAAKqO,KAAUA,CACpD,IAE4B9C,EAAoB,CAAC,EACxCW,IAASX,EAAoBxE,EAAOwE,IAIxCjB,EAAWiB,EAAkBsB,KAChCP,EAAcf,EAAmBsB,GAAU,WACzC,OAAOpM,IACT,IAGFmG,EAAO1I,QAAU,CACfqN,kBAAmBA,EACnBqB,uBAAwBA,aC9C1BhG,EAAO1I,QAAU,CAAC,mBCAlB,IAAIoQ,EAAc,EAAQ,OACtBnH,EAAc,EAAQ,OACtBnH,EAAO,EAAQ,OACfqH,EAAQ,EAAQ,MAChBkH,EAAa,EAAQ,OACrBC,EAA8B,EAAQ,MACtCC,EAA6B,EAAQ,OACrCC,EAAW,EAAQ,OACnBC,EAAgB,EAAQ,OAGxBC,EAAU5Q,OAAOmE,OAEjBlE,EAAiBD,OAAOC,eACxBiD,EAASiG,EAAY,GAAGjG,QAI5B0F,EAAO1I,SAAW0Q,GAAWvH,GAAM,WAEjC,GAAIiH,GAQiB,IARFM,EAAQ,CAAEC,EAAG,GAAKD,EAAQ3Q,EAAe,CAAC,EAAG,IAAK,CACnEmB,YAAY,EACZ6G,IAAK,WACHhI,EAAewC,KAAM,IAAK,CACxBtC,MAAO,EACPiB,YAAY,GAEhB,IACE,CAAEyP,EAAG,KAAMA,EAAS,OAAO,EAE/B,IAAIC,EAAI,CAAC,EACLC,EAAI,CAAC,EAELC,EAAStQ,OAAO,oBAChBuQ,EAAW,uBAGf,OAFAH,EAAEE,GAAU,EACZC,EAASC,MAAM,IAAIhL,SAAQ,SAAUiL,GAAOJ,EAAEI,GAAOA,CAAK,IACxB,IAA3BP,EAAQ,CAAC,EAAGE,GAAGE,IAAiBT,EAAWK,EAAQ,CAAC,EAAGG,IAAIK,KAAK,MAAQH,CACjF,IAAK,SAAgBlQ,EAAQsQ,GAM3B,IALA,IAAIC,EAAIZ,EAAS3P,GACbwQ,EAAkBC,UAAUtQ,OAC5BuQ,EAAQ,EACRC,EAAwBlB,EAA4B1G,EACpD6H,EAAuBlB,EAA2B3G,EAC/CyH,EAAkBE,GAMvB,IALA,IAIIjQ,EAJAoQ,EAAIjB,EAAca,UAAUC,MAC5B9E,EAAO+E,EAAwBxO,EAAOqN,EAAWqB,GAAIF,EAAsBE,IAAMrB,EAAWqB,GAC5F1Q,EAASyL,EAAKzL,OACd6L,EAAI,EAED7L,EAAS6L,GACdvL,EAAMmL,EAAKI,KACNuD,IAAetO,EAAK2P,EAAsBC,EAAGpQ,KAAM8P,EAAE9P,GAAOoQ,EAAEpQ,IAErE,OAAO8P,CACX,EAAIV,mBCtDJ,IAAIrE,EAAU,EAAQ,MAClBsF,EAAkB,EAAQ,OAC1BC,EAAuB,WACvBC,EAAa,EAAQ,OAErBC,EAA+B,iBAAV9M,QAAsBA,QAAUlF,OAAOiS,oBAC5DjS,OAAOiS,oBAAoB/M,QAAU,GAWzC0D,EAAO1I,QAAQ4J,EAAI,SAA6BoI,GAC9C,OAAOF,GAA+B,WAAhBzF,EAAQ2F,GAVX,SAAUA,GAC7B,IACE,OAAOJ,EAAqBI,EAC9B,CAAE,MAAO1O,GACP,OAAOuO,EAAWC,EACpB,CACF,CAKMG,CAAeD,GACfJ,EAAqBD,EAAgBK,GAC3C,mBCtBA,IAAIE,EAAS,EAAQ,OACjB9F,EAAa,EAAQ,OACrBoE,EAAW,EAAQ,OACnB2B,EAAY,EAAQ,MACpBC,EAA2B,EAAQ,OAEnCC,EAAWF,EAAU,YACrBG,EAAUxS,OACVyS,EAAkBD,EAAQ3R,UAK9B+H,EAAO1I,QAAUoS,EAA2BE,EAAQjJ,eAAiB,SAAUmJ,GAC7E,IAAIxG,EAASwE,EAASgC,GACtB,GAAIN,EAAOlG,EAAQqG,GAAW,OAAOrG,EAAOqG,GAC5C,IAAI3R,EAAcsL,EAAOtL,YACzB,OAAI0L,EAAW1L,IAAgBsL,aAAkBtL,EACxCA,EAAYC,UACZqL,aAAkBsG,EAAUC,EAAkB,IACzD,mBCnBA,IAAIE,EAAsB,EAAQ,OAC9B3F,EAAW,EAAQ,OACnB4F,EAAyB,EAAQ,OACjCC,EAAqB,EAAQ,OAMjCjK,EAAO1I,QAAUF,OAAOiN,iBAAmB,aAAe,CAAC,EAAI,WAC7D,IAEIpD,EAFAiJ,GAAiB,EACjBzC,EAAO,CAAC,EAEZ,KACExG,EAAS8I,EAAoB3S,OAAOa,UAAW,YAAa,QACrDwP,EAAM,IACbyC,EAAiBzC,aAAgBnH,KACnC,CAAE,MAAO1F,GAAqB,CAC9B,OAAO,SAAwBkP,EAAGzC,GAGhC,OAFA2C,EAAuBF,GACvBG,EAAmB5C,GACdjD,EAAS0F,IACVI,EAAgBjJ,EAAO6I,EAAGzC,GACzByC,EAAEK,UAAY9C,EACZyC,GAHkBA,CAI3B,CACF,CAjB+D,QAiBzD5Q,oBC3BN,IAAIkR,EAAwB,EAAQ,OAChCzG,EAAU,EAAQ,OAItB3D,EAAO1I,QAAU8S,EAAwB,CAAC,EAAExG,SAAW,WACrD,MAAO,WAAaD,EAAQ9J,MAAQ,GACtC,mBCPA,IAAIwQ,EAAS,EAAQ,OAErBrK,EAAO1I,QAAU+S,mBCFjB,IAAIhT,EAAiB,WACjBmS,EAAS,EAAQ,OAGjBpE,EAFkB,EAAQ,MAEVlF,CAAgB,eAEpCF,EAAO1I,QAAU,SAAUa,EAAQmS,EAAKC,GAClCpS,IAAWoS,IAAQpS,EAASA,EAAOF,WACnCE,IAAWqR,EAAOrR,EAAQiN,IAC5B/N,EAAec,EAAQiN,EAAe,CAAE3M,cAAc,EAAMlB,MAAO+S,GAEvE,mBCXA,IAAI/J,EAAc,EAAQ,OACtByJ,EAAyB,EAAQ,OACjCpG,EAAW,EAAQ,OACnB4G,EAAc,EAAQ,OAEtBC,EAAUlK,EAAY,GAAGkK,SACzBC,EAAQC,OAAO,KAAOH,EAAc,MACpCI,EAAQD,OAAO,QAAUH,EAAc,MAAQA,EAAc,OAG7DK,EAAe,SAAUC,GAC3B,OAAO,SAAUxG,GACf,IAAIyG,EAASnH,EAASoG,EAAuB1F,IAG7C,OAFW,EAAPwG,IAAUC,EAASN,EAAQM,EAAQL,EAAO,KACnC,EAAPI,IAAUC,EAASN,EAAQM,EAAQH,EAAO,OACvCG,CACT,CACF,EAEA/K,EAAO1I,QAAU,CAGf0T,MAAOH,EAAa,GAGpBI,IAAKJ,EAAa,GAGlBK,KAAML,EAAa,qBC5BrB,IAAIzR,EAAO,EAAQ,OACf+R,EAAa,EAAQ,OACrBjL,EAAkB,EAAQ,OAC1BwF,EAAgB,EAAQ,OAE5B1F,EAAO1I,QAAU,WACf,IAAIQ,EAASqT,EAAW,UACpBC,EAAkBtT,GAAUA,EAAOG,UACnCoT,EAAUD,GAAmBA,EAAgBC,QAC7CC,EAAepL,EAAgB,eAE/BkL,IAAoBA,EAAgBE,IAItC5F,EAAc0F,EAAiBE,GAAc,SAAUvS,GACrD,OAAOK,EAAKiS,EAASxR,KACvB,GAAG,CAAE0R,MAAO,GAEhB,mBCnBA,IAAIC,EAAgB,EAAQ,OAG5BxL,EAAO1I,QAAUkU,KAAmB1T,OAAY,OAAOA,OAAO2T,wBCH9D,IAAIlL,EAAc,EAAQ,OAI1BP,EAAO1I,QAAUiJ,EAAY,GAAI8K,0BCJjC,IAAIK,EAAO,EAAQ,OACflC,EAAS,EAAQ,OACjBmC,EAA+B,EAAQ,OACvCtU,EAAiB,WAErB2I,EAAO1I,QAAU,SAAU2N,GACzB,IAAInN,EAAS4T,EAAK5T,SAAW4T,EAAK5T,OAAS,CAAC,GACvC0R,EAAO1R,EAAQmN,IAAO5N,EAAeS,EAAQmN,EAAM,CACtD1N,MAAOoU,EAA6BzK,EAAE+D,IAE1C,mBCVA,IAAI/E,EAAkB,EAAQ,OAE9B5I,EAAQ4J,EAAIhB,aCDZF,EAAO1I,QAAU,+DCDjB,IAAI2R,EAAkB,EAAQ,OAC1B2C,EAAmB,EAAQ,OAC3B9G,EAAY,EAAQ,MACpB+G,EAAsB,EAAQ,KAC9BxU,EAAiB,WACjByU,EAAiB,EAAQ,OACzBC,EAAyB,EAAQ,OACjCzG,EAAU,EAAQ,OAClBoC,EAAc,EAAQ,OAEtBsE,EAAiB,iBACjBC,EAAmBJ,EAAoBzM,IACvC8M,EAAmBL,EAAoBM,UAAUH,GAYrDhM,EAAO1I,QAAUwU,EAAexL,MAAO,SAAS,SAAU8L,EAAUC,GAClEJ,EAAiBpS,KAAM,CACrByS,KAAMN,EACN7T,OAAQ8Q,EAAgBmD,GACxBvD,MAAO,EACPwD,KAAMA,GAIV,IAAG,WACD,IAAIE,EAAQL,EAAiBrS,MACzB1B,EAASoU,EAAMpU,OACf0Q,EAAQ0D,EAAM1D,QAClB,IAAK1Q,GAAU0Q,GAAS1Q,EAAOG,OAE7B,OADAiU,EAAMpU,YAASe,EACR6S,OAAuB7S,GAAW,GAE3C,OAAQqT,EAAMF,MACZ,IAAK,OAAQ,OAAON,EAAuBlD,GAAO,GAClD,IAAK,SAAU,OAAOkD,EAAuB5T,EAAO0Q,IAAQ,GAC5D,OAAOkD,EAAuB,CAAClD,EAAO1Q,EAAO0Q,KAAS,EAC1D,GAAG,UAKH,IAAIzB,EAAStC,EAAU0H,UAAY1H,EAAUxE,MAQ7C,GALAsL,EAAiB,QACjBA,EAAiB,UACjBA,EAAiB,YAGZtG,GAAWoC,GAA+B,WAAhBN,EAAO7M,KAAmB,IACvDlD,EAAe+P,EAAQ,OAAQ,CAAE7P,MAAO,UAC1C,CAAE,MAAOqD,GAAqB,mBC5D9B,IAAI4O,EAAS,EAAQ,OACjB9D,EAAgB,EAAQ,OACxB+G,EAAkB,EAAQ,OAG1BnB,EAFkB,EAAQ,MAEXpL,CAAgB,eAC/BwM,EAAgBC,KAAK1U,UAIpBuR,EAAOkD,EAAepB,IACzB5F,EAAcgH,EAAepB,EAAcmB,oBCX7C,IAAIpH,EAAI,EAAQ,OACZ8F,EAAa,EAAQ,OACrByB,EAAQ,EAAQ,OAChBxT,EAAO,EAAQ,OACfmH,EAAc,EAAQ,OACtBE,EAAQ,EAAQ,MAChBiD,EAAa,EAAQ,OACrBmJ,EAAW,EAAQ,OACnB1D,EAAa,EAAQ,OACrB2D,EAAsB,EAAQ,OAC9BtB,EAAgB,EAAQ,OAExB1L,EAAUxG,OACVyT,EAAa5B,EAAW,OAAQ,aAChC6B,EAAOzM,EAAY,IAAIyM,MACvBC,EAAS1M,EAAY,GAAG0M,QACxBC,EAAa3M,EAAY,GAAG2M,YAC5BzC,EAAUlK,EAAY,GAAGkK,SACzB0C,EAAiB5M,EAAY,GAAIqD,UAEjCwJ,EAAS,mBACTC,EAAM,oBACNC,EAAK,oBAELC,GAA4B/B,GAAiB/K,GAAM,WACrD,IAAI2H,EAAS+C,EAAW,SAAXA,CAAqB,uBAElC,MAAgC,WAAzB4B,EAAW,CAAC3E,KAEgB,OAA9B2E,EAAW,CAAES,EAAGpF,KAEe,OAA/B2E,EAAW3V,OAAOgR,GACzB,IAGIqF,EAAqBhN,GAAM,WAC7B,MAAsC,qBAA/BsM,EAAW,iBACY,cAAzBA,EAAW,SAClB,IAEIW,EAA0B,SAAUpE,EAAIzF,GAC1C,IAAI8J,EAAOxE,EAAWP,WAClBgF,EAAYd,EAAoBjJ,GACpC,GAAKH,EAAWkK,SAAsB1U,IAAPoQ,IAAoBuD,EAASvD,GAM5D,OALAqE,EAAK,GAAK,SAAU/U,EAAKrB,GAGvB,GADImM,EAAWkK,KAAYrW,EAAQ6B,EAAKwU,EAAW/T,KAAMiG,EAAQlH,GAAMrB,KAClEsV,EAAStV,GAAQ,OAAOA,CAC/B,EACOqV,EAAMG,EAAY,KAAMY,EACjC,EAEIE,EAAe,SAAUC,EAAOC,EAAQhD,GAC1C,IAAIiD,EAAOf,EAAOlC,EAAQgD,EAAS,GAC/B7I,EAAO+H,EAAOlC,EAAQgD,EAAS,GACnC,OAAKf,EAAKK,EAAKS,KAAWd,EAAKM,EAAIpI,IAAW8H,EAAKM,EAAIQ,KAAWd,EAAKK,EAAKW,GACnE,MAAQb,EAAeD,EAAWY,EAAO,GAAI,IAC7CA,CACX,EAEIf,GAGF1H,EAAE,CAAElN,OAAQ,OAAQ8V,MAAM,EAAM1C,MAAO,EAAGjE,OAAQiG,GAA4BE,GAAsB,CAElGS,UAAW,SAAmB5E,EAAIzF,EAAUsK,GAC1C,IAAIR,EAAOxE,EAAWP,WAClBwF,EAASxB,EAAMW,EAA2BG,EAA0BX,EAAY,KAAMY,GAC1F,OAAOF,GAAuC,iBAAVW,EAAqB3D,EAAQ2D,EAAQhB,EAAQS,GAAgBO,CACnG,qBCrEJ,IAAI/I,EAAI,EAAQ,OACZC,EAAU,EAAQ,OAClBoC,EAAc,EAAQ,OACtB2C,EAAS,EAAQ,OACjBqB,EAAO,EAAQ,OACfnL,EAAc,EAAQ,OACtB8N,EAAW,EAAQ,OACnB7E,EAAS,EAAQ,OACjB8E,EAAoB,EAAQ,OAC5BC,EAAgB,EAAQ,OACxB1B,EAAW,EAAQ,OACnB5T,EAAc,EAAQ,OACtBwH,EAAQ,EAAQ,MAChB4I,EAAsB,WACtB7F,EAA2B,WAC3BnM,EAAiB,WACjBmX,EAAkB,EAAQ,OAC1BtD,EAAO,cAEPuD,EAAS,SACTC,EAAerE,EAAOoE,GACtBE,EAAsBjD,EAAK+C,GAC3BG,EAAkBF,EAAazW,UAC/BoB,EAAYgR,EAAOhR,UACnBwV,EAActO,EAAY,GAAGC,OAC7B0M,EAAa3M,EAAY,GAAG2M,YAW5B4B,EAAW,SAAU7O,GACvB,IACI8O,EAAOC,EAAOC,EAAOC,EAASC,EAAQ7W,EAAQuQ,EAAOuG,EADrD9F,EAAKrQ,EAAYgH,EAAU,UAE/B,GAAI4M,EAASvD,GAAK,MAAM,IAAIjQ,EAAU,6CACtC,GAAiB,iBAANiQ,GAAkBA,EAAGhR,OAAS,EAGvC,GAFAgR,EAAK4B,EAAK5B,GAEI,MADdyF,EAAQ7B,EAAW5D,EAAI,KACO,KAAVyF,GAElB,GAAc,MADdC,EAAQ9B,EAAW5D,EAAI,KACO,MAAV0F,EAAe,OAAOK,SACrC,GAAc,KAAVN,EAAc,CACvB,OAAQ7B,EAAW5D,EAAI,IAErB,KAAK,GACL,KAAK,GACH2F,EAAQ,EACRC,EAAU,GACV,MAEF,KAAK,GACL,KAAK,IACHD,EAAQ,EACRC,EAAU,GACV,MACF,QACE,OAAQ5F,EAIZ,IADAhR,GADA6W,EAASN,EAAYvF,EAAI,IACThR,OACXuQ,EAAQ,EAAGA,EAAQvQ,EAAQuQ,IAI9B,IAHAuG,EAAOlC,EAAWiC,EAAQtG,IAGf,IAAMuG,EAAOF,EAAS,OAAOG,IACxC,OAAOC,SAASH,EAAQF,EAC5B,CACA,OAAQ3F,CACZ,EAEI9C,EAAS6H,EAASI,GAASC,EAAa,UAAYA,EAAa,QAAUA,EAAa,SASxFa,EAAgB,SAAgBhY,GAClC,IAR4BgN,EAQxBrH,EAAI0L,UAAUtQ,OAAS,EAAI,EAAIoW,EAxDrB,SAAUnX,GACxB,IAAIiY,EAAYvW,EAAY1B,EAAO,UACnC,MAA2B,iBAAbiY,EAAwBA,EAAYV,EAASU,EAC7D,CAqDkDC,CAAUlY,IAC1D,OAPOgX,EAAcK,EAFOrK,EASP1K,OAP2B4G,GAAM,WAAc+N,EAAgBjK,EAAQ,IAO/D+J,EAAkBlX,OAAO8F,GAAIrD,KAAM0V,GAAiBrS,CACnF,EAEAqS,EAActX,UAAY2W,EACtBpI,IAAWlB,IAASsJ,EAAgB5W,YAAcuX,GAEtDlK,EAAE,CAAEgF,QAAQ,EAAMrS,aAAa,EAAM0X,MAAM,EAAMpI,OAAQd,GAAU,CACjEjN,OAAQgW,IAIV,IAAII,EAA4B,SAAUxX,EAAQsQ,GAChD,IAAK,IAOgB7P,EAPZmL,EAAO2D,EAAc2B,EAAoBZ,GAAU,oLAO1DH,MAAM,KAAMnE,EAAI,EAAQJ,EAAKzL,OAAS6L,EAAGA,IACrCqF,EAAOf,EAAQ7P,EAAMmL,EAAKI,MAAQqF,EAAOrR,EAAQS,IACnDvB,EAAec,EAAQS,EAAK4K,EAAyBiF,EAAQ7P,GAGnE,EAEI0M,GAAWqJ,GAAqBgB,EAA0BjE,EAAK+C,GAASE,IACxEnI,GAAUlB,IAASqK,EAA0BjE,EAAK+C,GAASC,oBCjH/D,IAAIrJ,EAAI,EAAQ,OACZ9J,EAAS,EAAQ,OAKrB8J,EAAE,CAAElN,OAAQ,SAAU8V,MAAM,EAAM1C,MAAO,EAAGjE,OAAQlQ,OAAOmE,SAAWA,GAAU,CAC9EA,OAAQA,qBCPV,IAAI8J,EAAI,EAAQ,OACZqC,EAAc,EAAQ,OACtBrQ,EAAiB,WAKrBgO,EAAE,CAAElN,OAAQ,SAAU8V,MAAM,EAAM3G,OAAQlQ,OAAOC,iBAAmBA,EAAgBuY,MAAOlI,GAAe,CACxGrQ,eAAgBA,qBCRlB,IAAIgO,EAAI,EAAQ,OACZmG,EAAgB,EAAQ,OACxB/K,EAAQ,EAAQ,MAChBmH,EAA8B,EAAQ,MACtCE,EAAW,EAAQ,OAQvBzC,EAAE,CAAElN,OAAQ,SAAU8V,MAAM,EAAM3G,QAJpBkE,GAAiB/K,GAAM,WAAcmH,EAA4B1G,EAAE,EAAI,KAIjC,CAClD4H,sBAAuB,SAA+BQ,GACpD,IAAIuG,EAAyBjI,EAA4B1G,EACzD,OAAO2O,EAAyBA,EAAuB/H,EAASwB,IAAO,EACzE,qBChBF,IAAIc,EAAwB,EAAQ,OAChC1E,EAAgB,EAAQ,OACxB9B,EAAW,EAAQ,OAIlBwG,GACH1E,EAActO,OAAOa,UAAW,WAAY2L,EAAU,CAAEkM,QAAQ,qBCPlE,IAAI7C,EAAS,gBACTrJ,EAAW,EAAQ,OACnBiI,EAAsB,EAAQ,KAC9BC,EAAiB,EAAQ,OACzBC,EAAyB,EAAQ,OAEjCgE,EAAkB,kBAClB9D,EAAmBJ,EAAoBzM,IACvC8M,EAAmBL,EAAoBM,UAAU4D,GAIrDjE,EAAexS,OAAQ,UAAU,SAAU8S,GACzCH,EAAiBpS,KAAM,CACrByS,KAAMyD,EACNhF,OAAQnH,EAASwI,GACjBvD,MAAO,GAIX,IAAG,WACD,IAGImH,EAHAzD,EAAQL,EAAiBrS,MACzBkR,EAASwB,EAAMxB,OACflC,EAAQ0D,EAAM1D,MAElB,OAAIA,GAASkC,EAAOzS,OAAeyT,OAAuB7S,GAAW,IACrE8W,EAAQ/C,EAAOlC,EAAQlC,GACvB0D,EAAM1D,OAASmH,EAAM1X,OACdyT,EAAuBiE,GAAO,GACvC,qBC7BA,IAAI3K,EAAI,EAAQ,OACZgF,EAAS,EAAQ,OACjBjR,EAAO,EAAQ,OACfmH,EAAc,EAAQ,OACtB+E,EAAU,EAAQ,OAClBoC,EAAc,EAAQ,OACtB8D,EAAgB,EAAQ,OACxB/K,EAAQ,EAAQ,MAChB+I,EAAS,EAAQ,OACjB+E,EAAgB,EAAQ,OACxB1N,EAAW,EAAQ,OACnBoI,EAAkB,EAAQ,OAC1BgH,EAAgB,EAAQ,OACxBC,EAAY,EAAQ,OACpBtL,EAA2B,EAAQ,OACnCuL,EAAqB,EAAQ,OAC7BxI,EAAa,EAAQ,OACrByI,EAA4B,EAAQ,OACpCC,EAA8B,EAAQ,OACtCzI,EAA8B,EAAQ,MACtC0I,EAAiC,EAAQ,OACzCC,EAAuB,EAAQ,OAC/BC,EAAyB,EAAQ,OACjC3I,EAA6B,EAAQ,OACrCnC,EAAgB,EAAQ,OACxB+K,EAAwB,EAAQ,OAChCC,EAAS,EAAQ,OACjBjH,EAAY,EAAQ,MACpBkH,EAAa,EAAQ,OACrB9U,EAAM,EAAQ,OACdqE,EAAkB,EAAQ,OAC1ByL,EAA+B,EAAQ,OACvCiF,EAAwB,EAAQ,OAChCC,EAA0B,EAAQ,OAClChM,EAAiB,EAAQ,OACzBgH,EAAsB,EAAQ,KAC9BiF,EAAW,gBAEXC,EAAStH,EAAU,UACnBuH,EAAS,SACTC,EAAY,YAEZhF,EAAmBJ,EAAoBzM,IACvC8M,EAAmBL,EAAoBM,UAAU6E,GAEjDnH,EAAkBzS,OAAO6Z,GACzBC,EAAU7G,EAAOvS,OACjBsT,EAAkB8F,GAAWA,EAAQD,GACrCE,EAAa9G,EAAO8G,WACpB9X,EAAYgR,EAAOhR,UACnB+X,EAAU/G,EAAO+G,QACjBC,EAAiCf,EAA+BpP,EAChEoQ,EAAuBf,EAAqBrP,EAC5CqQ,EAA4BlB,EAA4BnP,EACxDsQ,GAA6B3J,EAA2B3G,EACxDjD,GAAOsC,EAAY,GAAGtC,MAEtBwT,GAAaf,EAAO,WACpBgB,GAAyBhB,EAAO,cAChCiB,GAAwBjB,EAAO,OAG/BkB,IAAcR,IAAYA,EAAQH,KAAeG,EAAQH,GAAWY,UAGpEC,GAAyB,SAAUhI,EAAGiI,EAAGC,GAC3C,IAAIC,EAA4BZ,EAA+BxH,EAAiBkI,GAC5EE,UAAkCpI,EAAgBkI,GACtDT,EAAqBxH,EAAGiI,EAAGC,GACvBC,GAA6BnI,IAAMD,GACrCyH,EAAqBzH,EAAiBkI,EAAGE,EAE7C,EAEIC,GAAsBxK,GAAejH,GAAM,WAC7C,OAEU,IAFH0P,EAAmBmB,EAAqB,CAAC,EAAG,IAAK,CACtDjS,IAAK,WAAc,OAAOiS,EAAqBzX,KAAM,IAAK,CAAEtC,MAAO,IAAKiW,CAAG,KACzEA,CACN,IAAKsE,GAAyBR,EAE1B5B,GAAO,SAAUyC,EAAKC,GACxB,IAAIhK,EAASqJ,GAAWU,GAAOhC,EAAmB/E,GAOlD,OANAa,EAAiB7D,EAAQ,CACvBkE,KAAM0E,EACNmB,IAAKA,EACLC,YAAaA,IAEV1K,IAAaU,EAAOgK,YAAcA,GAChChK,CACT,EAEIiK,GAAkB,SAAwBvI,EAAGiI,EAAGC,GAC9ClI,IAAMD,GAAiBwI,GAAgBX,GAAwBK,EAAGC,GACtEnR,EAASiJ,GACT,IAAIlR,EAAMqX,EAAc8B,GAExB,OADAlR,EAASmR,GACLxI,EAAOiI,GAAY7Y,IAChBoZ,EAAWxZ,YAIVgR,EAAOM,EAAGiH,IAAWjH,EAAEiH,GAAQnY,KAAMkR,EAAEiH,GAAQnY,IAAO,GAC1DoZ,EAAa7B,EAAmB6B,EAAY,CAAExZ,WAAYoM,EAAyB,GAAG,OAJjF4E,EAAOM,EAAGiH,IAASO,EAAqBxH,EAAGiH,EAAQnM,EAAyB,EAAGuL,EAAmB,QACvGrG,EAAEiH,GAAQnY,IAAO,GAIVsZ,GAAoBpI,EAAGlR,EAAKoZ,IAC9BV,EAAqBxH,EAAGlR,EAAKoZ,EACxC,EAEIM,GAAoB,SAA0BxI,EAAGyI,GACnD1R,EAASiJ,GACT,IAAI0I,EAAavJ,EAAgBsJ,GAC7BxO,EAAO4D,EAAW6K,GAAYlY,OAAOuV,GAAuB2C,IAIhE,OAHA1B,EAAS/M,GAAM,SAAUnL,GAClB8O,IAAetO,EAAKqZ,GAAuBD,EAAY5Z,IAAMyZ,GAAgBvI,EAAGlR,EAAK4Z,EAAW5Z,GACvG,IACOkR,CACT,EAMI2I,GAAwB,SAA8BC,GACxD,IAAIX,EAAI9B,EAAcyC,GAClBla,EAAaY,EAAKoY,GAA4B3X,KAAMkY,GACxD,QAAIlY,OAASgQ,GAAmBL,EAAOiI,GAAYM,KAAOvI,EAAOkI,GAAwBK,QAClFvZ,IAAegR,EAAO3P,KAAMkY,KAAOvI,EAAOiI,GAAYM,IAAMvI,EAAO3P,KAAMkX,IAAWlX,KAAKkX,GAAQgB,KACpGvZ,EACN,EAEIma,GAA4B,SAAkC7I,EAAGiI,GACnE,IAAIzI,EAAKL,EAAgBa,GACrBlR,EAAMqX,EAAc8B,GACxB,GAAIzI,IAAOO,IAAmBL,EAAOiI,GAAY7Y,IAAS4Q,EAAOkI,GAAwB9Y,GAAzF,CACA,IAAIL,EAAa8Y,EAA+B/H,EAAI1Q,GAIpD,OAHIL,IAAciR,EAAOiI,GAAY7Y,IAAU4Q,EAAOF,EAAIyH,IAAWzH,EAAGyH,GAAQnY,KAC9EL,EAAWC,YAAa,GAEnBD,CAL8F,CAMvG,EAEI2Q,GAAuB,SAA6BY,GACtD,IAAI8I,EAAQrB,EAA0BtI,EAAgBa,IAClDsE,EAAS,GAIb,OAHA0C,EAAS8B,GAAO,SAAUha,GACnB4Q,EAAOiI,GAAY7Y,IAAS4Q,EAAOmH,EAAY/X,IAAMqF,GAAKmQ,EAAQxV,EACzE,IACOwV,CACT,EAEIyB,GAAyB,SAAU/F,GACrC,IAAI+I,EAAsB/I,IAAMD,EAC5B+I,EAAQrB,EAA0BsB,EAAsBnB,GAAyBzI,EAAgBa,IACjGsE,EAAS,GAMb,OALA0C,EAAS8B,GAAO,SAAUha,IACpB4Q,EAAOiI,GAAY7Y,IAAUia,IAAuBrJ,EAAOK,EAAiBjR,IAC9EqF,GAAKmQ,EAAQqD,GAAW7Y,GAE5B,IACOwV,CACT,EAIK5C,IAuBH9F,EAFA0F,GApBA8F,EAAU,WACR,GAAI3C,EAAcnD,EAAiBvR,MAAO,MAAM,IAAIR,EAAU,+BAC9D,IAAI+Y,EAAexJ,UAAUtQ,aAA2BY,IAAjB0P,UAAU,GAA+BsH,EAAUtH,UAAU,SAAhC1P,EAChEiZ,EAAMtW,EAAIuW,GACVnR,EAAS,SAAU1J,GACrB,IAAI+M,OAAiBpL,IAATW,KAAqBwQ,EAASxQ,KACtCyK,IAAUuF,GAAiBzQ,EAAK6H,EAAQyQ,GAAwBna,GAChEiS,EAAOlF,EAAOyM,IAAWvH,EAAOlF,EAAMyM,GAASoB,KAAM7N,EAAMyM,GAAQoB,IAAO,GAC9E,IAAI5Z,EAAaqM,EAAyB,EAAGrN,GAC7C,IACE2a,GAAoB5N,EAAO6N,EAAK5Z,EAClC,CAAE,MAAOqC,GACP,KAAMA,aAAiBuW,GAAa,MAAMvW,EAC1CkX,GAAuBxN,EAAO6N,EAAK5Z,EACrC,CACF,EAEA,OADImP,GAAekK,IAAYM,GAAoBrI,EAAiBsI,EAAK,CAAE1Z,cAAc,EAAM2G,IAAK6B,IAC7FyO,GAAKyC,EAAKC,EACnB,GAE0BnB,GAEK,YAAY,WACzC,OAAO/E,EAAiBrS,MAAMsY,GAChC,IAEAzM,EAAcwL,EAAS,iBAAiB,SAAUkB,GAChD,OAAO1C,GAAK7T,EAAIuW,GAAcA,EAChC,IAEAvK,EAA2B3G,EAAIuR,GAC/BlC,EAAqBrP,EAAImR,GACzB7B,EAAuBtP,EAAIoR,GAC3BhC,EAA+BpP,EAAIyR,GACnCvC,EAA0BlP,EAAImP,EAA4BnP,EAAIgI,GAC9DtB,EAA4B1G,EAAI2O,GAEhClE,EAA6BzK,EAAI,SAAU3G,GACzC,OAAOmV,GAAKxP,EAAgB3F,GAAOA,EACrC,EAEImN,IAEF+I,EAAsBrF,EAAiB,cAAe,CACpD3S,cAAc,EACd4G,IAAK,WACH,OAAO6M,EAAiBrS,MAAMuY,WAChC,IAEG9M,GACHI,EAAcmE,EAAiB,uBAAwB4I,GAAuB,CAAE3C,QAAQ,MAK9FzK,EAAE,CAAEgF,QAAQ,EAAMrS,aAAa,EAAM0X,MAAM,EAAMpI,QAASkE,EAAeoE,MAAOpE,GAAiB,CAC/F1T,OAAQoZ,IAGVJ,EAASnJ,EAAWgK,KAAwB,SAAUpX,GACpDqW,EAAsBrW,EACxB,IAEA8K,EAAE,CAAElN,OAAQ6Y,EAAQ/C,MAAM,EAAM3G,QAASkE,GAAiB,CACxDsH,UAAW,WAAclB,IAAa,CAAM,EAC5CmB,UAAW,WAAcnB,IAAa,CAAO,IAG/CvM,EAAE,CAAElN,OAAQ,SAAU8V,MAAM,EAAM3G,QAASkE,EAAeoE,MAAOlI,GAAe,CAG9EvH,OAtHY,SAAgB2J,EAAGyI,GAC/B,YAAsBrZ,IAAfqZ,EAA2BpC,EAAmBrG,GAAKwI,GAAkBnC,EAAmBrG,GAAIyI,EACrG,EAuHElb,eAAgBgb,GAGhBW,iBAAkBV,GAGlB9O,yBAA0BmP,KAG5BtN,EAAE,CAAElN,OAAQ,SAAU8V,MAAM,EAAM3G,QAASkE,GAAiB,CAG1DnC,oBAAqBH,KAKvB2H,IAIAhM,EAAeqM,EAASF,GAExBL,EAAWI,IAAU,mBCnQrB,IAAI1L,EAAI,EAAQ,OACZqC,EAAc,EAAQ,OACtB2C,EAAS,EAAQ,OACjB9J,EAAc,EAAQ,OACtBiJ,EAAS,EAAQ,OACjB9F,EAAa,EAAQ,OACrB6K,EAAgB,EAAQ,OACxB3K,EAAW,EAAQ,OACnB6M,EAAwB,EAAQ,OAChCd,EAA4B,EAAQ,MAEpCsD,EAAe5I,EAAOvS,OACtBsT,EAAkB6H,GAAgBA,EAAahb,UAEnD,GAAIyP,GAAehE,EAAWuP,OAAoB,gBAAiB7H,SAElClS,IAA/B+Z,IAAeb,aACd,CACD,IAAIc,EAA8B,CAAC,EAE/BC,EAAgB,WAClB,IAAIf,EAAcxJ,UAAUtQ,OAAS,QAAsBY,IAAjB0P,UAAU,QAAmB1P,EAAY0K,EAASgF,UAAU,IAClGwF,EAASG,EAAcnD,EAAiBvR,MACxC,IAAIoZ,EAAab,QAEDlZ,IAAhBkZ,EAA4Ba,IAAiBA,EAAab,GAE9D,MADoB,KAAhBA,IAAoBc,EAA4B9E,IAAU,GACvDA,CACT,EAEAuB,EAA0BwD,EAAeF,GACzCE,EAAclb,UAAYmT,EAC1BA,EAAgBpT,YAAcmb,EAE9B,IAAI3H,EAAkE,kCAAlDlS,OAAO2Z,EAAa,0BACpCG,EAAkB7S,EAAY6K,EAAgBC,SAC9CgI,EAA0B9S,EAAY6K,EAAgBxH,UACtD0P,EAAS,wBACT7I,EAAUlK,EAAY,GAAGkK,SACzBoE,EAActO,EAAY,GAAGC,OAEjCiQ,EAAsBrF,EAAiB,cAAe,CACpD3S,cAAc,EACd4G,IAAK,WACH,IAAI+I,EAASgL,EAAgBvZ,MAC7B,GAAI2P,EAAO0J,EAA6B9K,GAAS,MAAO,GACxD,IAAI2C,EAASsI,EAAwBjL,GACjCmL,EAAO/H,EAAgBqD,EAAY9D,EAAQ,GAAI,GAAKN,EAAQM,EAAQuI,EAAQ,MAChF,MAAgB,KAATC,OAAcra,EAAYqa,CACnC,IAGFlO,EAAE,CAAEgF,QAAQ,EAAMrS,aAAa,EAAMsP,QAAQ,GAAQ,CACnDxP,OAAQqb,GAEZ,mBCzDA,IAAI9N,EAAI,EAAQ,OACZ8F,EAAa,EAAQ,OACrB3B,EAAS,EAAQ,OACjB5F,EAAW,EAAQ,OACnB8M,EAAS,EAAQ,OACjB8C,EAAyB,EAAQ,OAEjCC,EAAyB/C,EAAO,6BAChCgD,EAAyBhD,EAAO,6BAIpCrL,EAAE,CAAElN,OAAQ,SAAU8V,MAAM,EAAM3G,QAASkM,GAA0B,CACnE,IAAO,SAAU5a,GACf,IAAImS,EAASnH,EAAShL,GACtB,GAAI4Q,EAAOiK,EAAwB1I,GAAS,OAAO0I,EAAuB1I,GAC1E,IAAI3C,EAAS+C,EAAW,SAAXA,CAAqBJ,GAGlC,OAFA0I,EAAuB1I,GAAU3C,EACjCsL,EAAuBtL,GAAU2C,EAC1B3C,CACT,qBCpB0B,EAAQ,MAIpCwI,CAAsB,6BCHtB,EAAQ,OACR,EAAQ,OACR,EAAQ,OACR,EAAQ,OACR,EAAQ,wBCLR,IAAIvL,EAAI,EAAQ,OACZmE,EAAS,EAAQ,OACjBqD,EAAW,EAAQ,OACnB8G,EAAc,EAAQ,OACtBjD,EAAS,EAAQ,OACjB8C,EAAyB,EAAQ,OAEjCE,EAAyBhD,EAAO,6BAIpCrL,EAAE,CAAElN,OAAQ,SAAU8V,MAAM,EAAM3G,QAASkM,GAA0B,CACnE/H,OAAQ,SAAgBmI,GACtB,IAAK/G,EAAS+G,GAAM,MAAM,IAAIva,UAAUsa,EAAYC,GAAO,oBAC3D,GAAIpK,EAAOkK,EAAwBE,GAAM,OAAOF,EAAuBE,EACzE,qBCfF,IAAIhD,EAAwB,EAAQ,OAChCC,EAA0B,EAAQ,OAItCD,EAAsB,eAItBC,qBCTA,IAAIxG,EAAS,EAAQ,OACjBwJ,EAAe,EAAQ,OACvBzQ,EAAwB,EAAQ,OAChC0Q,EAAuB,EAAQ,KAC/BrO,EAA8B,EAAQ,OACtCZ,EAAiB,EAAQ,OAGzBoB,EAFkB,EAAQ,MAEf/F,CAAgB,YAC3B6T,EAAcD,EAAqB1M,OAEnC4M,EAAkB,SAAUC,EAAqBC,GACnD,GAAID,EAAqB,CAEvB,GAAIA,EAAoBhO,KAAc8N,EAAa,IACjDtO,EAA4BwO,EAAqBhO,EAAU8N,EAC7D,CAAE,MAAOnZ,GACPqZ,EAAoBhO,GAAY8N,CAClC,CAEA,GADAlP,EAAeoP,EAAqBC,GAAiB,GACjDL,EAAaK,GAAkB,IAAK,IAAIC,KAAeL,EAEzD,GAAIG,EAAoBE,KAAiBL,EAAqBK,GAAc,IAC1E1O,EAA4BwO,EAAqBE,EAAaL,EAAqBK,GACrF,CAAE,MAAOvZ,GACPqZ,EAAoBE,GAAeL,EAAqBK,EAC1D,CAEJ,CACF,EAEA,IAAK,IAAID,KAAmBL,EAC1BG,EAAgB3J,EAAO6J,IAAoB7J,EAAO6J,GAAiBjc,UAAWic,GAGhFF,EAAgB5Q,EAAuB,+GCZvC,MAAMgR,GAAU,QAAW,iBAAiBC,SAAQ,GAAMC,QAC1D,IAAIC,EAUJ,MAAMC,EAAc,CAACC,EAAOC,EAAa,MAClCH,IACHA,EAAa,IAAI,EAAAI,WAAW,IAE9B,MAAMC,EAAkBC,IACxB,IAAIC,EASJ,OARIL,GACFK,EAAUP,EAAWQ,OAAO,IAAIza,OAAOma,GAAQC,GAC3CI,EAAQxc,OAASoc,IACnBI,EAAUA,EAAQxa,OAAOia,EAAWQ,OAAON,EAAOC,EAAaI,EAAQxc,WAGzEwc,EAAU,EAAAE,WAAW3V,IAAIqV,GAAYO,KAAKC,GAAOX,EAAWY,MAAMD,MAAQ,GAErEJ,EAAQG,KAAKE,GAAUA,EAAMC,QAAQR,IAAiB,EAEzDS,EAAiB,SAASH,GAC9B,EAAAF,WAAWM,IAAIJ,EACjB,EACML,EAAqB,KACzB,IAAIU,EACJ,MAAMC,EAAWjc,OAAO+V,SAAqE,OAA3DiG,EAAKnB,EAAQqB,QAAQ,mCAA6CF,EAAK,KACzG,OAAOG,KAAKC,IACVD,KAAKE,IACHJ,EACA,GAGF,EAED,EAEGK,EAAsBL,IAC1BA,EAAWE,KAAKC,IACdD,KAAKE,IACHJ,EACA,GAGF,GAGFpB,EAAQ0B,QAAQ,iCAAkCN,EAAS5R,WAAW,qIClExE,MACMmS,EAAWL,KAAKM,IAAI,EAAG,IAE7B,SAASC,EAAa1e,GAAS,OAHf,MAGsBA,CAAiB,CAOvD,MAAM2e,EAIF,WAAAle,CAIAme,EAIAC,EAIAC,GACIxc,KAAKsc,IAAMA,EACXtc,KAAKuc,QAAUA,EACfvc,KAAKwc,QAAUA,CACnB,CAMA,WAAIC,GAAY,OA/B4C,EA+BpCzc,KAAKuc,SAAsB,CAAG,CAItD,iBAAIG,GAAkB,OAAuB,EAAf1c,KAAKuc,SAAuC,CAAG,CAI7E,gBAAII,GAAiB,OAAuB,EAAf3c,KAAKuc,SAAsC,CAAG,CAM3E,iBAAIK,GAAkB,OA7CwB,EA6ChB5c,KAAKuc,SAAwB,CAAG,EAQlE,MAAMM,EAMF,WAAA1e,CAIA2e,EAIAC,GAAW,GAGP,GAFA/c,KAAK8c,OAASA,EACd9c,KAAK+c,SAAWA,GACXD,EAAOre,QAAUoe,EAAQG,MAC1B,OAAOH,EAAQG,KACvB,CAIA,OAAAR,CAAQ9e,GACJ,IAAIuf,EAAO,EAAGjO,EAAQoN,EAAa1e,GACnC,IAAKsC,KAAK+c,SACN,IAAK,IAAIve,EAAI,EAAGA,EAAIwQ,EAAOxQ,IACvBye,GAAQjd,KAAK8c,OAAW,EAAJte,EAAQ,GAAKwB,KAAK8c,OAAW,EAAJte,EAAQ,GAC7D,OAAOwB,KAAK8c,OAAe,EAAR9N,GAAaiO,EAlFxC,SAAuBvf,GAAS,OAAQA,GAJxB,MAIiCA,IAAoBwe,CAAU,CAkFhCgB,CAAcxf,EACzD,CACA,SAAAyf,CAAUb,EAAKc,EAAQ,GAAK,OAAOpd,KAAKqd,KAAKf,EAAKc,GAAO,EAAQ,CACjE,GAAAhC,CAAIkB,EAAKc,EAAQ,GAAK,OAAOpd,KAAKqd,KAAKf,EAAKc,GAAO,EAAO,CAI1D,IAAAC,CAAKf,EAAKc,EAAOE,GACb,IAAIL,EAAO,EAAGM,EAAWvd,KAAK+c,SAAW,EAAI,EAAGS,EAAWxd,KAAK+c,SAAW,EAAI,EAC/E,IAAK,IAAIve,EAAI,EAAGA,EAAIwB,KAAK8c,OAAOre,OAAQD,GAAK,EAAG,CAC5C,IAAI2S,EAAQnR,KAAK8c,OAAOte,IAAMwB,KAAK+c,SAAWE,EAAO,GACrD,GAAI9L,EAAQmL,EACR,MACJ,IAAImB,EAAUzd,KAAK8c,OAAOte,EAAI+e,GAAWG,EAAU1d,KAAK8c,OAAOte,EAAIgf,GAAWpM,EAAMD,EAAQsM,EAC5F,GAAInB,GAAOlL,EAAK,CACZ,IACImD,EAASpD,EAAQ8L,IADTQ,EAAkBnB,GAAOnL,GAAS,EAAImL,GAAOlL,EAAM,EAAIgM,EAA7CA,GACc,EAAI,EAAIM,GAC5C,GAAIJ,EACA,OAAO/I,EACX,IAAIiI,EAAUF,IAAQc,EAAQ,EAAIjM,EAAQC,GAAO,KAAmB5S,EAAI,GAAG8d,EAAMnL,GAvGnC+K,EAwG1CyB,EAAMrB,GAAOnL,EArGC,EAqGmBmL,GAAOlL,EArGzC,EAA+B,EAwGlC,OAFIgM,EAAQ,EAAId,GAAOnL,EAAQmL,GAAOlL,KAClCuM,GAvG4C,GAwGzC,IAAItB,EAAU9H,EAAQoJ,EAAKnB,EACtC,CACAS,GAAQS,EAAUD,CACtB,CACA,OAAOH,EAAShB,EAAMW,EAAO,IAAIZ,EAAUC,EAAMW,EAAM,EAAG,KAC9D,CAIA,OAAAW,CAAQtB,EAAKE,GACT,IAAIS,EAAO,EAAGjO,EAAQoN,EAAaI,GAC/Be,EAAWvd,KAAK+c,SAAW,EAAI,EAAGS,EAAWxd,KAAK+c,SAAW,EAAI,EACrE,IAAK,IAAIve,EAAI,EAAGA,EAAIwB,KAAK8c,OAAOre,OAAQD,GAAK,EAAG,CAC5C,IAAI2S,EAAQnR,KAAK8c,OAAOte,IAAMwB,KAAK+c,SAAWE,EAAO,GACrD,GAAI9L,EAAQmL,EACR,MACJ,IAAImB,EAAUzd,KAAK8c,OAAOte,EAAI+e,GAC9B,GAAIjB,GAD2CnL,EAAQsM,GACrCjf,GAAa,EAARwQ,EACnB,OAAO,EACXiO,GAAQjd,KAAK8c,OAAOte,EAAIgf,GAAYC,CACxC,CACA,OAAO,CACX,CAKA,OAAAha,CAAQ4D,GACJ,IAAIkW,EAAWvd,KAAK+c,SAAW,EAAI,EAAGS,EAAWxd,KAAK+c,SAAW,EAAI,EACrE,IAAK,IAAIve,EAAI,EAAGye,EAAO,EAAGze,EAAIwB,KAAK8c,OAAOre,OAAQD,GAAK,EAAG,CACtD,IAAI2S,EAAQnR,KAAK8c,OAAOte,GAAIqf,EAAW1M,GAASnR,KAAK+c,SAAWE,EAAO,GAAIa,EAAW3M,GAASnR,KAAK+c,SAAW,EAAIE,GAC/GQ,EAAUzd,KAAK8c,OAAOte,EAAI+e,GAAWG,EAAU1d,KAAK8c,OAAOte,EAAIgf,GACnEnW,EAAEwW,EAAUA,EAAWJ,EAASK,EAAUA,EAAWJ,GACrDT,GAAQS,EAAUD,CACtB,CACJ,CAKA,MAAAM,GACI,OAAO,IAAIlB,EAAQ7c,KAAK8c,QAAS9c,KAAK+c,SAC1C,CAIA,QAAAhT,GACI,OAAQ/J,KAAK+c,SAAW,IAAM,IAAMiB,KAAK3J,UAAUrU,KAAK8c,OAC5D,CAMA,aAAO5I,CAAO7Q,GACV,OAAY,GAALA,EAASwZ,EAAQG,MAAQ,IAAIH,EAAQxZ,EAAI,EAAI,CAAC,GAAIA,EAAG,GAAK,CAAC,EAAG,EAAGA,GAC5E,EAKJwZ,EAAQG,MAAQ,IAAIH,EAAQ,IAS5B,MAAMoB,EAIF,WAAA9f,CAIA+f,EAAO,GAIPC,EAKAC,EAAO,EAIPC,EAAKH,EAAKzf,QACNuB,KAAKke,KAAOA,EACZle,KAAKme,OAASA,EACdne,KAAKoe,KAAOA,EACZpe,KAAKqe,GAAKA,CACd,CAIA,KAAA1X,CAAMyX,EAAO,EAAGC,EAAKre,KAAKke,KAAKzf,QAC3B,OAAO,IAAIwf,EAAQje,KAAKke,KAAMle,KAAKme,OAAQC,EAAMC,EACrD,CAIA,IAAAC,GACI,OAAO,IAAIL,EAAQje,KAAKke,KAAKvX,QAAS3G,KAAKme,QAAUne,KAAKme,OAAOxX,QAAS3G,KAAKoe,KAAMpe,KAAKqe,GAC9F,CAMA,SAAAE,CAAUnD,EAAKoD,GACXxe,KAAKqe,GAAKre,KAAKke,KAAK9Z,KAAKgX,GACV,MAAXoD,GACAxe,KAAKye,UAAUze,KAAKke,KAAKzf,OAAS,EAAG+f,EAC7C,CAKA,aAAAE,CAAcC,GACV,IAAK,IAAIngB,EAAI,EAAGogB,EAAY5e,KAAKke,KAAKzf,OAAQD,EAAImgB,EAAQT,KAAKzf,OAAQD,IAAK,CACxE,IAAIqgB,EAAOF,EAAQG,UAAUtgB,GAC7BwB,KAAKue,UAAUI,EAAQT,KAAK1f,GAAY,MAARqgB,GAAgBA,EAAOrgB,EAAIogB,EAAYC,OAAOxf,EAClF,CACJ,CAMA,SAAAyf,CAAUzb,GACN,GAAIrD,KAAKme,OACL,IAAK,IAAI3f,EAAI,EAAGA,EAAIwB,KAAKme,OAAO1f,OAAQD,IACpC,GAAIwB,KAAKme,OAAO3f,IAAM6E,EAClB,OAAOrD,KAAKme,OAAO3f,GAAKA,EAAI,GAAK,EAAI,GACrD,CAIA,SAAAigB,CAAUpb,EAAG0b,GACJ/e,KAAKme,SACNne,KAAKme,OAAS,IAClBne,KAAKme,OAAO/Z,KAAKf,EAAG0b,EACxB,CAIA,qBAAAC,CAAsBL,GAClB,IAAK,IAAIngB,EAAImgB,EAAQT,KAAKzf,OAAS,EAAGwgB,EAAYjf,KAAKke,KAAKzf,OAASkgB,EAAQT,KAAKzf,OAAQD,GAAK,EAAGA,IAAK,CACnG,IAAIqgB,EAAOF,EAAQG,UAAUtgB,GAC7BwB,KAAKue,UAAUI,EAAQT,KAAK1f,GAAGuf,SAAkB,MAARc,GAAgBA,EAAOrgB,EAAIygB,EAAYJ,EAAO,OAAIxf,EAC/F,CACJ,CAIA,MAAA0e,GACI,IAAImB,EAAU,IAAIjB,EAElB,OADAiB,EAAQF,sBAAsBhf,MACvBkf,CACX,CAIA,GAAA9D,CAAIkB,EAAKc,EAAQ,GACb,GAAIpd,KAAKme,OACL,OAAOne,KAAKqd,KAAKf,EAAKc,GAAO,GACjC,IAAK,IAAI5e,EAAIwB,KAAKoe,KAAM5f,EAAIwB,KAAKqe,GAAI7f,IACjC8d,EAAMtc,KAAKke,KAAK1f,GAAG4c,IAAIkB,EAAKc,GAChC,OAAOd,CACX,CAKA,SAAAa,CAAUb,EAAKc,EAAQ,GAAK,OAAOpd,KAAKqd,KAAKf,EAAKc,GAAO,EAAQ,CAIjE,IAAAC,CAAKf,EAAKc,EAAOE,GACb,IAAIf,EAAU,EACd,IAAK,IAAI/d,EAAIwB,KAAKoe,KAAM5f,EAAIwB,KAAKqe,GAAI7f,IAAK,CACtC,IAAwB+V,EAAdvU,KAAKke,KAAK1f,GAAiB2e,UAAUb,EAAKc,GACpD,GAAsB,MAAlB7I,EAAOiI,QAAiB,CACxB,IAAI2C,EAAOnf,KAAK8e,UAAUtgB,GAC1B,GAAY,MAAR2gB,GAAgBA,EAAO3gB,GAAK2gB,EAAOnf,KAAKqe,GAAI,CAC5C7f,EAAI2gB,EACJ7C,EAAMtc,KAAKke,KAAKiB,GAAM3C,QAAQjI,EAAOiI,SACrC,QACJ,CACJ,CACAD,GAAWhI,EAAOgI,QAClBD,EAAM/H,EAAO+H,GACjB,CACA,OAAOgB,EAAShB,EAAM,IAAID,EAAUC,EAAKC,EAAS,KACtD,EAGJ,MAAM6C,EAAY7hB,OAAO+I,OAAO,MAYhC,MAAM+Y,EAMF,MAAAC,GAAW,OAAOzC,EAAQG,KAAO,CAMjC,KAAAuC,CAAMC,GAAS,OAAO,IAAM,CAK5B,eAAOC,CAASC,EAAQC,GACpB,IAAKA,IAASA,EAAKC,SACf,MAAM,IAAItI,WAAW,mCACzB,IAAI7E,EAAO2M,EAAUO,EAAKC,UAC1B,IAAKnN,EACD,MAAM,IAAI6E,WAAW,gBAAgBqI,EAAKC,oBAC9C,OAAOnN,EAAKgN,SAASC,EAAQC,EACjC,CAOA,aAAOE,CAAOxE,EAAIyE,GACd,GAAIzE,KAAM+D,EACN,MAAM,IAAI9H,WAAW,iCAAmC+D,GAG5D,OAFA+D,EAAU/D,GAAMyE,EAChBA,EAAU1hB,UAAUyhB,OAASxE,EACtByE,CACX,EAMJ,MAAMC,EAIF,WAAA5hB,CAIA6hB,EAIAC,GACIjgB,KAAKggB,IAAMA,EACXhgB,KAAKigB,OAASA,CAClB,CAIA,SAAOC,CAAGF,GAAO,OAAO,IAAID,EAAWC,EAAK,KAAO,CAInD,WAAOG,CAAKhgB,GAAW,OAAO,IAAI4f,EAAW,KAAM5f,EAAU,CAM7D,kBAAOigB,CAAYJ,EAAK5B,EAAMC,EAAI1X,GAC9B,IACI,OAAOoZ,EAAWG,GAAGF,EAAIpP,QAAQwN,EAAMC,EAAI1X,GAC/C,CACA,MAAOpD,GACH,GAAIA,aAAa,KACb,OAAOwc,EAAWI,KAAK5c,EAAEpD,SAC7B,MAAMoD,CACV,CACJ,EAGJ,SAAS8c,EAAYC,EAAUjZ,EAAGkZ,GAC9B,IAAIC,EAAS,GACb,IAAK,IAAIhiB,EAAI,EAAGA,EAAI8hB,EAASG,WAAYjiB,IAAK,CAC1C,IAAIkiB,EAAQJ,EAASI,MAAMliB,GACvBkiB,EAAMC,QAAQC,OACdF,EAAQA,EAAMpC,KAAK+B,EAAYK,EAAMC,QAAStZ,EAAGqZ,KACjDA,EAAMG,WACNH,EAAQrZ,EAAEqZ,EAAOH,EAAQ/hB,IAC7BgiB,EAAOpc,KAAKsc,EAChB,CACA,OAAO,KAASI,UAAUN,EAC9B,CAIA,MAAMO,UAAoB1B,EAItB,WAAAlhB,CAIAigB,EAIAC,EAIA2C,GACIC,QACAjhB,KAAKoe,KAAOA,EACZpe,KAAKqe,GAAKA,EACVre,KAAKghB,KAAOA,CAChB,CACA,KAAAjO,CAAMiN,GACF,IAAIkB,EAAWlB,EAAIrZ,MAAM3G,KAAKoe,KAAMpe,KAAKqe,IAAK8C,EAAQnB,EAAIoB,QAAQphB,KAAKoe,MACnEmC,EAASY,EAAME,KAAKF,EAAMG,YAAYthB,KAAKqe,KAC3C1X,EAAQ,IAAI,KAAM0Z,EAAYa,EAASP,SAAS,CAACU,EAAMd,IAClDc,EAAKE,QAAWhB,EAAO9N,KAAK+O,eAAexhB,KAAKghB,KAAKvO,MAEnD4O,EAAKL,KAAKhhB,KAAKghB,KAAKS,SAASJ,EAAKK,QAD9BL,GAEZd,GAASW,EAASS,UAAWT,EAASU,SACzC,OAAO7B,EAAWK,YAAYJ,EAAKhgB,KAAKoe,KAAMpe,KAAKqe,GAAI1X,EAC3D,CACA,MAAAoX,GACI,OAAO,IAAI8D,EAAe7hB,KAAKoe,KAAMpe,KAAKqe,GAAIre,KAAKghB,KACvD,CACA,GAAA5F,CAAIuD,GACA,IAAIP,EAAOO,EAAQxB,UAAUnd,KAAKoe,KAAM,GAAIC,EAAKM,EAAQxB,UAAUnd,KAAKqe,IAAK,GAC7E,OAAID,EAAK3B,SAAW4B,EAAG5B,SAAW2B,EAAK9B,KAAO+B,EAAG/B,IACtC,KACJ,IAAIyE,EAAY3C,EAAK9B,IAAK+B,EAAG/B,IAAKtc,KAAKghB,KAClD,CACA,KAAAzB,CAAMC,GACF,OAAIA,aAAiBuB,GACjBvB,EAAMwB,KAAKc,GAAG9hB,KAAKghB,OACnBhhB,KAAKoe,MAAQoB,EAAMnB,IAAMre,KAAKqe,IAAMmB,EAAMpB,KACnC,IAAI2C,EAAYlF,KAAKC,IAAI9b,KAAKoe,KAAMoB,EAAMpB,MAAOvC,KAAKE,IAAI/b,KAAKqe,GAAImB,EAAMnB,IAAKre,KAAKghB,MACvF,IACX,CACA,MAAAe,GACI,MAAO,CAAEnC,SAAU,UAAWoB,KAAMhhB,KAAKghB,KAAKe,SAC1C3D,KAAMpe,KAAKoe,KAAMC,GAAIre,KAAKqe,GAClC,CAIA,eAAOoB,CAASC,EAAQC,GACpB,GAAwB,iBAAbA,EAAKvB,MAAsC,iBAAXuB,EAAKtB,GAC5C,MAAM,IAAI/G,WAAW,0CACzB,OAAO,IAAIyJ,EAAYpB,EAAKvB,KAAMuB,EAAKtB,GAAIqB,EAAOsC,aAAarC,EAAKqB,MACxE,EAEJ3B,EAAKQ,OAAO,UAAWkB,GAIvB,MAAMc,UAAuBxC,EAIzB,WAAAlhB,CAIAigB,EAIAC,EAIA2C,GACIC,QACAjhB,KAAKoe,KAAOA,EACZpe,KAAKqe,GAAKA,EACVre,KAAKghB,KAAOA,CAChB,CACA,KAAAjO,CAAMiN,GACF,IAAIkB,EAAWlB,EAAIrZ,MAAM3G,KAAKoe,KAAMpe,KAAKqe,IACrC1X,EAAQ,IAAI,KAAM0Z,EAAYa,EAASP,SAASU,GACzCA,EAAKL,KAAKhhB,KAAKghB,KAAKiB,cAAcZ,EAAKK,SAC/C1B,GAAMkB,EAASS,UAAWT,EAASU,SACtC,OAAO7B,EAAWK,YAAYJ,EAAKhgB,KAAKoe,KAAMpe,KAAKqe,GAAI1X,EAC3D,CACA,MAAAoX,GACI,OAAO,IAAIgD,EAAY/gB,KAAKoe,KAAMpe,KAAKqe,GAAIre,KAAKghB,KACpD,CACA,GAAA5F,CAAIuD,GACA,IAAIP,EAAOO,EAAQxB,UAAUnd,KAAKoe,KAAM,GAAIC,EAAKM,EAAQxB,UAAUnd,KAAKqe,IAAK,GAC7E,OAAID,EAAK3B,SAAW4B,EAAG5B,SAAW2B,EAAK9B,KAAO+B,EAAG/B,IACtC,KACJ,IAAIuF,EAAezD,EAAK9B,IAAK+B,EAAG/B,IAAKtc,KAAKghB,KACrD,CACA,KAAAzB,CAAMC,GACF,OAAIA,aAAiBqC,GACjBrC,EAAMwB,KAAKc,GAAG9hB,KAAKghB,OACnBhhB,KAAKoe,MAAQoB,EAAMnB,IAAMre,KAAKqe,IAAMmB,EAAMpB,KACnC,IAAIyD,EAAehG,KAAKC,IAAI9b,KAAKoe,KAAMoB,EAAMpB,MAAOvC,KAAKE,IAAI/b,KAAKqe,GAAImB,EAAMnB,IAAKre,KAAKghB,MAC1F,IACX,CACA,MAAAe,GACI,MAAO,CAAEnC,SAAU,aAAcoB,KAAMhhB,KAAKghB,KAAKe,SAC7C3D,KAAMpe,KAAKoe,KAAMC,GAAIre,KAAKqe,GAClC,CAIA,eAAOoB,CAASC,EAAQC,GACpB,GAAwB,iBAAbA,EAAKvB,MAAsC,iBAAXuB,EAAKtB,GAC5C,MAAM,IAAI/G,WAAW,6CACzB,OAAO,IAAIuK,EAAelC,EAAKvB,KAAMuB,EAAKtB,GAAIqB,EAAOsC,aAAarC,EAAKqB,MAC3E,EAEJ3B,EAAKQ,OAAO,aAAcgC,GAI1B,MAAMK,UAAwB7C,EAI1B,WAAAlhB,CAIAme,EAIA0E,GACIC,QACAjhB,KAAKsc,IAAMA,EACXtc,KAAKghB,KAAOA,CAChB,CACA,KAAAjO,CAAMiN,GACF,IAAIqB,EAAOrB,EAAImC,OAAOniB,KAAKsc,KAC3B,IAAK+E,EACD,OAAOtB,EAAWI,KAAK,mCAC3B,IAAIiC,EAAUf,EAAK5O,KAAKnM,OAAO+a,EAAKgB,MAAO,KAAMriB,KAAKghB,KAAKS,SAASJ,EAAKK,QACzE,OAAO3B,EAAWK,YAAYJ,EAAKhgB,KAAKsc,IAAKtc,KAAKsc,IAAM,EAAG,IAAI,KAAM,KAAS8B,KAAKgE,GAAU,EAAGf,EAAKiB,OAAS,EAAI,GACtH,CACA,MAAAvE,CAAOiC,GACH,IAAIqB,EAAOrB,EAAImC,OAAOniB,KAAKsc,KAC3B,GAAI+E,EAAM,CACN,IAAIkB,EAASviB,KAAKghB,KAAKS,SAASJ,EAAKK,OACrC,GAAIa,EAAO9jB,QAAU4iB,EAAKK,MAAMjjB,OAAQ,CACpC,IAAK,IAAID,EAAI,EAAGA,EAAI6iB,EAAKK,MAAMjjB,OAAQD,IACnC,IAAK6iB,EAAKK,MAAMljB,GAAGgkB,QAAQD,GACvB,OAAO,IAAIL,EAAgBliB,KAAKsc,IAAK+E,EAAKK,MAAMljB,IACxD,OAAO,IAAI0jB,EAAgBliB,KAAKsc,IAAKtc,KAAKghB,KAC9C,CACJ,CACA,OAAO,IAAIyB,EAAmBziB,KAAKsc,IAAKtc,KAAKghB,KACjD,CACA,GAAA5F,CAAIuD,GACA,IAAIrC,EAAMqC,EAAQxB,UAAUnd,KAAKsc,IAAK,GACtC,OAAOA,EAAIK,aAAe,KAAO,IAAIuF,EAAgB5F,EAAIA,IAAKtc,KAAKghB,KACvE,CACA,MAAAe,GACI,MAAO,CAAEnC,SAAU,cAAetD,IAAKtc,KAAKsc,IAAK0E,KAAMhhB,KAAKghB,KAAKe,SACrE,CAIA,eAAOtC,CAASC,EAAQC,GACpB,GAAuB,iBAAZA,EAAKrD,IACZ,MAAM,IAAIhF,WAAW,8CACzB,OAAO,IAAI4K,EAAgBvC,EAAKrD,IAAKoD,EAAOsC,aAAarC,EAAKqB,MAClE,EAEJ3B,EAAKQ,OAAO,cAAeqC,GAI3B,MAAMO,UAA2BpD,EAI7B,WAAAlhB,CAIAme,EAIA0E,GACIC,QACAjhB,KAAKsc,IAAMA,EACXtc,KAAKghB,KAAOA,CAChB,CACA,KAAAjO,CAAMiN,GACF,IAAIqB,EAAOrB,EAAImC,OAAOniB,KAAKsc,KAC3B,IAAK+E,EACD,OAAOtB,EAAWI,KAAK,mCAC3B,IAAIiC,EAAUf,EAAK5O,KAAKnM,OAAO+a,EAAKgB,MAAO,KAAMriB,KAAKghB,KAAKiB,cAAcZ,EAAKK,QAC9E,OAAO3B,EAAWK,YAAYJ,EAAKhgB,KAAKsc,IAAKtc,KAAKsc,IAAM,EAAG,IAAI,KAAM,KAAS8B,KAAKgE,GAAU,EAAGf,EAAKiB,OAAS,EAAI,GACtH,CACA,MAAAvE,CAAOiC,GACH,IAAIqB,EAAOrB,EAAImC,OAAOniB,KAAKsc,KAC3B,OAAK+E,GAASrhB,KAAKghB,KAAKwB,QAAQnB,EAAKK,OAE9B,IAAIQ,EAAgBliB,KAAKsc,IAAKtc,KAAKghB,MAD/BhhB,IAEf,CACA,GAAAob,CAAIuD,GACA,IAAIrC,EAAMqC,EAAQxB,UAAUnd,KAAKsc,IAAK,GACtC,OAAOA,EAAIK,aAAe,KAAO,IAAI8F,EAAmBnG,EAAIA,IAAKtc,KAAKghB,KAC1E,CACA,MAAAe,GACI,MAAO,CAAEnC,SAAU,iBAAkBtD,IAAKtc,KAAKsc,IAAK0E,KAAMhhB,KAAKghB,KAAKe,SACxE,CAIA,eAAOtC,CAASC,EAAQC,GACpB,GAAuB,iBAAZA,EAAKrD,IACZ,MAAM,IAAIhF,WAAW,iDACzB,OAAO,IAAImL,EAAmB9C,EAAKrD,IAAKoD,EAAOsC,aAAarC,EAAKqB,MACrE,EAEJ3B,EAAKQ,OAAO,iBAAkB4C,GAK9B,MAAMC,UAAoBrD,EAUtB,WAAAlhB,CAIAigB,EAIAC,EAIA1X,EAIAgc,GAAY,GACR1B,QACAjhB,KAAKoe,KAAOA,EACZpe,KAAKqe,GAAKA,EACVre,KAAK2G,MAAQA,EACb3G,KAAK2iB,UAAYA,CACrB,CACA,KAAA5P,CAAMiN,GACF,OAAIhgB,KAAK2iB,WAAaC,EAAe5C,EAAKhgB,KAAKoe,KAAMpe,KAAKqe,IAC/C0B,EAAWI,KAAK,6CACpBJ,EAAWK,YAAYJ,EAAKhgB,KAAKoe,KAAMpe,KAAKqe,GAAIre,KAAK2G,MAChE,CACA,MAAA2Y,GACI,OAAO,IAAIzC,EAAQ,CAAC7c,KAAKoe,KAAMpe,KAAKqe,GAAKre,KAAKoe,KAAMpe,KAAK2G,MAAMia,MACnE,CACA,MAAA7C,CAAOiC,GACH,OAAO,IAAI0C,EAAY1iB,KAAKoe,KAAMpe,KAAKoe,KAAOpe,KAAK2G,MAAMia,KAAMZ,EAAIrZ,MAAM3G,KAAKoe,KAAMpe,KAAKqe,IAC7F,CACA,GAAAjD,CAAIuD,GACA,IAAIP,EAAOO,EAAQxB,UAAUnd,KAAKoe,KAAM,GAAIC,EAAKM,EAAQxB,UAAUnd,KAAKqe,IAAK,GAC7E,OAAID,EAAKxB,eAAiByB,EAAGzB,cAClB,KACJ,IAAI8F,EAAYtE,EAAK9B,IAAKT,KAAKE,IAAIqC,EAAK9B,IAAK+B,EAAG/B,KAAMtc,KAAK2G,MACtE,CACA,KAAA4Y,CAAMC,GACF,KAAMA,aAAiBkD,IAAgBlD,EAAMmD,WAAa3iB,KAAK2iB,UAC3D,OAAO,KACX,GAAI3iB,KAAKoe,KAAOpe,KAAK2G,MAAMia,MAAQpB,EAAMpB,MAASpe,KAAK2G,MAAMib,SAAYpC,EAAM7Y,MAAMgb,UAKhF,IAAInC,EAAMnB,IAAMre,KAAKoe,MAASpe,KAAK2G,MAAMgb,WAAcnC,EAAM7Y,MAAMib,QAMpE,OAAO,KANsE,CAC7E,IAAIjb,EAAQ3G,KAAK2G,MAAMia,KAAOpB,EAAM7Y,MAAMia,MAAQ,EAAI,KAAM5D,MACtD,IAAI,KAAMwC,EAAM7Y,MAAMga,QAAQkC,OAAO7iB,KAAK2G,MAAMga,SAAUnB,EAAM7Y,MAAMgb,UAAW3hB,KAAK2G,MAAMib,SAClG,OAAO,IAAIc,EAAYlD,EAAMpB,KAAMpe,KAAKqe,GAAI1X,EAAO3G,KAAK2iB,UAC5D,CAGA,CAZgG,CAC5F,IAAIhc,EAAQ3G,KAAK2G,MAAMia,KAAOpB,EAAM7Y,MAAMia,MAAQ,EAAI,KAAM5D,MACtD,IAAI,KAAMhd,KAAK2G,MAAMga,QAAQkC,OAAOrD,EAAM7Y,MAAMga,SAAU3gB,KAAK2G,MAAMgb,UAAWnC,EAAM7Y,MAAMib,SAClG,OAAO,IAAIc,EAAY1iB,KAAKoe,KAAMpe,KAAKqe,IAAMmB,EAAMnB,GAAKmB,EAAMpB,MAAOzX,EAAO3G,KAAK2iB,UACrF,CASJ,CACA,MAAAZ,GACI,IAAIpC,EAAO,CAAEC,SAAU,UAAWxB,KAAMpe,KAAKoe,KAAMC,GAAIre,KAAKqe,IAK5D,OAJIre,KAAK2G,MAAMia,OACXjB,EAAKhZ,MAAQ3G,KAAK2G,MAAMob,UACxB/hB,KAAK2iB,YACLhD,EAAKgD,WAAY,GACdhD,CACX,CAIA,eAAOF,CAASC,EAAQC,GACpB,GAAwB,iBAAbA,EAAKvB,MAAsC,iBAAXuB,EAAKtB,GAC5C,MAAM,IAAI/G,WAAW,0CACzB,OAAO,IAAIoL,EAAY/C,EAAKvB,KAAMuB,EAAKtB,GAAI,KAAMoB,SAASC,EAAQC,EAAKhZ,SAAUgZ,EAAKgD,UAC1F,EAEJtD,EAAKQ,OAAO,UAAW6C,GAMvB,MAAMI,UAA0BzD,EAO5B,WAAAlhB,CAIAigB,EAIAC,EAIA0E,EAIAC,EAIArc,EAKAsc,EAIAN,GAAY,GACR1B,QACAjhB,KAAKoe,KAAOA,EACZpe,KAAKqe,GAAKA,EACVre,KAAK+iB,QAAUA,EACf/iB,KAAKgjB,MAAQA,EACbhjB,KAAK2G,MAAQA,EACb3G,KAAKijB,OAASA,EACdjjB,KAAK2iB,UAAYA,CACrB,CACA,KAAA5P,CAAMiN,GACF,GAAIhgB,KAAK2iB,YAAcC,EAAe5C,EAAKhgB,KAAKoe,KAAMpe,KAAK+iB,UACvDH,EAAe5C,EAAKhgB,KAAKgjB,MAAOhjB,KAAKqe,KACrC,OAAO0B,EAAWI,KAAK,iDAC3B,IAAI+C,EAAMlD,EAAIrZ,MAAM3G,KAAK+iB,QAAS/iB,KAAKgjB,OACvC,GAAIE,EAAIvB,WAAauB,EAAItB,QACrB,OAAO7B,EAAWI,KAAK,2BAC3B,IAAIgD,EAAWnjB,KAAK2G,MAAMyc,SAASpjB,KAAKijB,OAAQC,EAAIvC,SACpD,OAAKwC,EAEEpD,EAAWK,YAAYJ,EAAKhgB,KAAKoe,KAAMpe,KAAKqe,GAAI8E,GAD5CpD,EAAWI,KAAK,8BAE/B,CACA,MAAAb,GACI,OAAO,IAAIzC,EAAQ,CAAC7c,KAAKoe,KAAMpe,KAAK+iB,QAAU/iB,KAAKoe,KAAMpe,KAAKijB,OAC1DjjB,KAAKgjB,MAAOhjB,KAAKqe,GAAKre,KAAKgjB,MAAOhjB,KAAK2G,MAAMia,KAAO5gB,KAAKijB,QACjE,CACA,MAAAlF,CAAOiC,GACH,IAAIkD,EAAMljB,KAAKgjB,MAAQhjB,KAAK+iB,QAC5B,OAAO,IAAID,EAAkB9iB,KAAKoe,KAAMpe,KAAKoe,KAAOpe,KAAK2G,MAAMia,KAAOsC,EAAKljB,KAAKoe,KAAOpe,KAAKijB,OAAQjjB,KAAKoe,KAAOpe,KAAKijB,OAASC,EAAKlD,EAAIrZ,MAAM3G,KAAKoe,KAAMpe,KAAKqe,IAAIgF,cAAcrjB,KAAK+iB,QAAU/iB,KAAKoe,KAAMpe,KAAKgjB,MAAQhjB,KAAKoe,MAAOpe,KAAK+iB,QAAU/iB,KAAKoe,KAAMpe,KAAK2iB,UACrQ,CACA,GAAAvH,CAAIuD,GACA,IAAIP,EAAOO,EAAQxB,UAAUnd,KAAKoe,KAAM,GAAIC,EAAKM,EAAQxB,UAAUnd,KAAKqe,IAAK,GACzE0E,EAAUpE,EAAQvD,IAAIpb,KAAK+iB,SAAU,GAAIC,EAAQrE,EAAQvD,IAAIpb,KAAKgjB,MAAO,GAC7E,OAAK5E,EAAKxB,eAAiByB,EAAGzB,eAAkBmG,EAAU3E,EAAK9B,KAAO0G,EAAQ3E,EAAG/B,IACtE,KACJ,IAAIwG,EAAkB1E,EAAK9B,IAAK+B,EAAG/B,IAAKyG,EAASC,EAAOhjB,KAAK2G,MAAO3G,KAAKijB,OAAQjjB,KAAK2iB,UACjG,CACA,MAAAZ,GACI,IAAIpC,EAAO,CAAEC,SAAU,gBAAiBxB,KAAMpe,KAAKoe,KAAMC,GAAIre,KAAKqe,GAC9D0E,QAAS/iB,KAAK+iB,QAASC,MAAOhjB,KAAKgjB,MAAOC,OAAQjjB,KAAKijB,QAK3D,OAJIjjB,KAAK2G,MAAMia,OACXjB,EAAKhZ,MAAQ3G,KAAK2G,MAAMob,UACxB/hB,KAAK2iB,YACLhD,EAAKgD,WAAY,GACdhD,CACX,CAIA,eAAOF,CAASC,EAAQC,GACpB,GAAwB,iBAAbA,EAAKvB,MAAsC,iBAAXuB,EAAKtB,IACrB,iBAAhBsB,EAAKoD,SAA4C,iBAAdpD,EAAKqD,OAA2C,iBAAfrD,EAAKsD,OAChF,MAAM,IAAI3L,WAAW,gDACzB,OAAO,IAAIwL,EAAkBnD,EAAKvB,KAAMuB,EAAKtB,GAAIsB,EAAKoD,QAASpD,EAAKqD,MAAO,KAAMvD,SAASC,EAAQC,EAAKhZ,OAAQgZ,EAAKsD,SAAUtD,EAAKgD,UACvI,EAGJ,SAASC,EAAe5C,EAAK5B,EAAMC,GAC/B,IAAI8C,EAAQnB,EAAIoB,QAAQhD,GAAOkF,EAAOjF,EAAKD,EAAMmF,EAAQpC,EAAMoC,MAC/D,KAAOD,EAAO,GAAKC,EAAQ,GAAKpC,EAAMqC,WAAWD,IAAUpC,EAAME,KAAKkC,GAAO9C,YACzE8C,IACAD,IAEJ,GAAIA,EAAO,EAAG,CACV,IAAIjY,EAAO8V,EAAME,KAAKkC,GAAOE,WAAWtC,EAAMqC,WAAWD,IACzD,KAAOD,EAAO,GAAG,CACb,IAAKjY,GAAQA,EAAKiX,OACd,OAAO,EACXjX,EAAOA,EAAKqY,WACZJ,GACJ,CACJ,CACA,OAAO,CACX,CAwGA,SAASK,EAAOtC,EAAMlQ,EAAOC,GACzB,OAAiB,GAATD,GAAckQ,EAAKuC,WAAWzS,EAAOkQ,EAAKZ,eAC7CrP,GAAOiQ,EAAKZ,YAAcY,EAAKuC,WAAW,EAAGxS,GACtD,CAMA,SAASyS,EAAWC,GAChB,IACInD,EADSmD,EAAMvD,OACEI,QAAQoD,WAAWD,EAAME,WAAYF,EAAMG,UAChE,IAAK,IAAIV,EAAQO,EAAMP,SAAUA,EAAO,CACpC,IAAIlC,EAAOyC,EAAM3C,MAAME,KAAKkC,GACxBvU,EAAQ8U,EAAM3C,MAAMnS,MAAMuU,GAAQU,EAAWH,EAAMI,IAAIV,WAAWD,GACtE,GAAIA,EAAQO,EAAMP,OAASlC,EAAKuC,WAAW5U,EAAOiV,EAAUtD,GACxD,OAAO4C,EACX,GAAa,GAATA,GAAclC,EAAK5O,KAAK0R,KAAKC,YAAcT,EAAOtC,EAAMrS,EAAOiV,GAC/D,KACR,CACA,OAAO,IACX,CAmCA,SAASI,EAAaP,EAAOQ,EAAUjC,EAAQ,KAAMkC,EAAaT,GAC9D,IAAIU,EAQR,SAA6BV,EAAOrR,GAChC,IAAI,OAAE8N,EAAM,WAAEyD,EAAU,SAAEC,GAAaH,EACnCU,EAASjE,EAAOkE,eAAeT,GAAYK,aAAa5R,GAC5D,IAAK+R,EACD,OAAO,KACX,IAAIE,EAAQF,EAAO/lB,OAAS+lB,EAAO,GAAK/R,EACxC,OAAO8N,EAAOoE,eAAeX,EAAYC,EAAUS,GAASF,EAAS,IACzE,CAfiBI,CAAoBd,EAAOQ,GACpCO,EAAQL,GAehB,SAA4BV,EAAOrR,GAC/B,IAAI,OAAE8N,EAAM,WAAEyD,EAAU,SAAEC,GAAaH,EACnCe,EAAQtE,EAAOG,MAAMsD,GACrBc,EAASrS,EAAKsS,aAAaV,aAAaQ,EAAMpS,MAClD,IAAKqS,EACD,OAAO,KACX,IACIE,GADWF,EAAOrmB,OAASqmB,EAAOA,EAAOrmB,OAAS,GAAKgU,GACjCsS,aAC1B,IAAK,IAAIvmB,EAAIwlB,EAAYgB,GAAcxmB,EAAIylB,EAAUzlB,IACjDwmB,EAAaA,EAAWC,UAAU1E,EAAOG,MAAMliB,GAAGiU,MACtD,OAAKuS,GAAeA,EAAWE,SAExBJ,EADI,IAEf,CA5B0BK,CAAmBZ,EAAYD,GACrD,OAAKO,EAEEL,EAAOpJ,IAAIgK,GACb3kB,OAAO,CAAEgS,KAAM6R,EAAUjC,UAAS5hB,OAAOokB,EAAMzJ,IAAIgK,IAF7C,IAGf,CACA,SAASA,EAAU3S,GAAQ,MAAO,CAAEA,OAAM4P,MAAO,KAAQ,CA2EzD,SAASgD,EAASrF,EAAK1D,EAAKiH,EAAQ,EAAG+B,GACnC,IAAIC,EAAOvF,EAAIoB,QAAQ9E,GAAMkJ,EAAOD,EAAKhC,MAAQA,EAC7CkC,EAAaH,GAAcA,EAAWA,EAAW7mB,OAAS,IAAO8mB,EAAKhF,OAC1E,GAAIiF,EAAO,GAAKD,EAAKhF,OAAO9N,KAAK0R,KAAKC,YACjCmB,EAAKhF,OAAOqD,WAAW2B,EAAKvW,QAASuW,EAAKhF,OAAOE,cACjDgF,EAAUhT,KAAKiT,aAAaH,EAAKhF,OAAOI,QAAQoD,WAAWwB,EAAKvW,QAASuW,EAAKhF,OAAOE,aACtF,OAAO,EACX,IAAK,IAAIkF,EAAIJ,EAAKhC,MAAQ,EAAG/kB,EAAI+kB,EAAQ,EAAGoC,EAAIH,EAAMG,IAAKnnB,IAAK,CAC5D,IAAI6iB,EAAOkE,EAAKlE,KAAKsE,GAAI3W,EAAQuW,EAAKvW,MAAM2W,GAC5C,GAAItE,EAAK5O,KAAK0R,KAAKC,UACf,OAAO,EACX,IAAIwB,EAAOvE,EAAKV,QAAQoD,WAAW/U,EAAOqS,EAAKZ,YAC3CoF,EAAgBP,GAAcA,EAAW9mB,EAAI,GAC7CqnB,IACAD,EAAOA,EAAKE,aAAa,EAAGD,EAAcpT,KAAKnM,OAAOuf,EAAcxD,SACxE,IAAI0D,EAAST,GAAcA,EAAW9mB,IAAO6iB,EAC7C,IAAKA,EAAKuC,WAAW5U,EAAQ,EAAGqS,EAAKZ,cAAgBsF,EAAMtT,KAAKiT,aAAaE,GACzE,OAAO,CACf,CACA,IAAI5W,EAAQuW,EAAK/B,WAAWgC,GACxBQ,EAAWV,GAAcA,EAAW,GACxC,OAAOC,EAAKlE,KAAKmE,GAAMb,eAAe3V,EAAOA,EAAOgX,EAAWA,EAASvT,KAAO8S,EAAKlE,KAAKmE,EAAO,GAAG/S,KACvG,CAcA,SAASwT,EAAQjG,EAAK1D,GAClB,IAAIiJ,EAAOvF,EAAIoB,QAAQ9E,GAAMtN,EAAQuW,EAAKvW,QAC1C,OAAOkX,EAASX,EAAKY,WAAYZ,EAAKa,YAClCb,EAAKhF,OAAOqD,WAAW5U,EAAOA,EAAQ,EAC9C,CACA,SAASkX,EAASvS,EAAGvF,GACjB,SAAUuF,IAAKvF,GAAMuF,EAAE2O,SAAU3O,EAAE0S,UAAUjY,GACjD,CAMA,SAASkY,EAAUtG,EAAK1D,EAAKiK,GAAM,GAC/B,IAAIhB,EAAOvF,EAAIoB,QAAQ9E,GACvB,IAAK,IAAIqJ,EAAIJ,EAAKhC,OAAQoC,IAAK,CAC3B,IAAIa,EAAQT,EAAO/W,EAAQuW,EAAKvW,MAAM2W,GActC,GAbIA,GAAKJ,EAAKhC,OACViD,EAASjB,EAAKY,WACdJ,EAAQR,EAAKa,WAERG,EAAM,GACXC,EAASjB,EAAKlE,KAAKsE,EAAI,GACvB3W,IACA+W,EAAQR,EAAKlE,KAAKsE,GAAGlC,WAAWzU,KAGhCwX,EAASjB,EAAKlE,KAAKsE,GAAGlC,WAAWzU,EAAQ,GACzC+W,EAAQR,EAAKlE,KAAKsE,EAAI,IAEtBa,IAAWA,EAAOC,aAAeP,EAASM,EAAQT,IAClDR,EAAKlE,KAAKsE,GAAG/B,WAAW5U,EAAOA,EAAQ,GACvC,OAAOsN,EACX,GAAS,GAALqJ,EACA,MACJrJ,EAAMiK,EAAM,EAAIhB,EAAKiB,OAAOb,GAAKJ,EAAKQ,MAAMJ,EAChD,CACJ,CAuCA,SAASe,EAAU1G,EAAK1D,EAAK3V,GACzB,IAAI4e,EAAOvF,EAAIoB,QAAQ9E,GACvB,IAAK3V,EAAMga,QAAQC,KACf,OAAOtE,EACX,IAAIqE,EAAUha,EAAMga,QACpB,IAAK,IAAIniB,EAAI,EAAGA,EAAImI,EAAMgb,UAAWnjB,IACjCmiB,EAAUA,EAAQ+C,WAAW/C,QACjC,IAAK,IAAIgG,EAAO,EAAGA,IAA4B,GAAnBhgB,EAAMgb,WAAkBhb,EAAMia,KAAO,EAAI,GAAI+F,IACrE,IAAK,IAAIhB,EAAIJ,EAAKhC,MAAOoC,GAAK,EAAGA,IAAK,CAClC,IAAIiB,EAAOjB,GAAKJ,EAAKhC,MAAQ,EAAIgC,EAAKjJ,MAAQiJ,EAAKpU,MAAMwU,EAAI,GAAKJ,EAAKnU,IAAIuU,EAAI,IAAM,GAAK,EAAI,EAC1FkB,EAAYtB,EAAKvW,MAAM2W,IAAMiB,EAAO,EAAI,EAAI,GAC5CrG,EAASgF,EAAKlE,KAAKsE,GAAImB,GAAO,EAClC,GAAY,GAARH,EACAG,EAAOvG,EAAOqD,WAAWiD,EAAWA,EAAWlG,OAE9C,CACD,IAAIoG,EAAWxG,EAAOkE,eAAeoC,GAAWxC,aAAa1D,EAAQ+C,WAAWjR,MAChFqU,EAAOC,GAAYxG,EAAOoE,eAAekC,EAAWA,EAAWE,EAAS,GAC5E,CACA,GAAID,EACA,OAAe,GAARF,EAAYrB,EAAKjJ,IAAMsK,EAAO,EAAIrB,EAAKiB,OAAOb,EAAI,GAAKJ,EAAKQ,MAAMJ,EAAI,EACrF,CAEJ,OAAO,IACX,CAQA,SAASqB,EAAYhH,EAAK5B,EAAMC,EAAKD,EAAMzX,EAAQ,KAAMqW,OACrD,GAAIoB,GAAQC,IAAO1X,EAAMia,KACrB,OAAO,KACX,IAAIO,EAAQnB,EAAIoB,QAAQhD,GAAO8F,EAAMlE,EAAIoB,QAAQ/C,GAEjD,OAAI4I,EAAc9F,EAAO+C,EAAKvd,GACnB,IAAI+b,EAAYtE,EAAMC,EAAI1X,GAC9B,IAAIugB,EAAO/F,EAAO+C,EAAKvd,GAAOwgB,KACzC,CACA,SAASF,EAAc9F,EAAO+C,EAAKvd,GAC/B,OAAQA,EAAMgb,YAAchb,EAAMib,SAAWT,EAAMhQ,SAAW+S,EAAI/S,SAC9DgQ,EAAMZ,OAAOqD,WAAWzC,EAAMnS,QAASkV,EAAIlV,QAASrI,EAAMga,QAClE,CAhaAtB,EAAKQ,OAAO,gBAAiBiD,GAqb7B,MAAMoE,EACF,WAAA/oB,CAAYgjB,EAAO+C,EAAKkD,GACpBpnB,KAAKmhB,MAAQA,EACbnhB,KAAKkkB,IAAMA,EACXlkB,KAAKonB,SAAWA,EAChBpnB,KAAKqnB,SAAW,GAChBrnB,KAAKsnB,OAAS,KAAStK,MACvB,IAAK,IAAIxe,EAAI,EAAGA,GAAK2iB,EAAMoC,MAAO/kB,IAAK,CACnC,IAAI6iB,EAAOF,EAAME,KAAK7iB,GACtBwB,KAAKqnB,SAASjjB,KAAK,CACfqO,KAAM4O,EAAK5O,KACXwB,MAAOoN,EAAKoD,eAAetD,EAAMqC,WAAWhlB,KAEpD,CACA,IAAK,IAAIA,EAAI2iB,EAAMoC,MAAO/kB,EAAI,EAAGA,IAC7BwB,KAAKsnB,OAAS,KAASlJ,KAAK+C,EAAME,KAAK7iB,GAAG8f,KAAKte,KAAKsnB,QAC5D,CACA,SAAI/D,GAAU,OAAOvjB,KAAKqnB,SAAS5oB,OAAS,CAAG,CAC/C,GAAA0oB,GAII,KAAOnnB,KAAKonB,SAASxG,MAAM,CACvB,IAAIuG,EAAMnnB,KAAKunB,eACXJ,EACAnnB,KAAKwnB,WAAWL,GAEhBnnB,KAAKynB,YAAcznB,KAAK0nB,UAChC,CAMA,IAAIC,EAAa3nB,KAAK4nB,iBAAkBC,EAAa7nB,KAAKsnB,OAAO1G,KAAO5gB,KAAKujB,MAAQvjB,KAAKmhB,MAAMoC,MAC5FpC,EAAQnhB,KAAKmhB,MAAO+C,EAAMlkB,KAAK8nB,MAAMH,EAAa,EAAI3nB,KAAKkkB,IAAM/C,EAAMnB,IAAIoB,QAAQuG,IACvF,IAAKzD,EACD,OAAO,KAEX,IAAIvD,EAAU3gB,KAAKsnB,OAAQ3F,EAAYR,EAAMoC,MAAO3B,EAAUsC,EAAIX,MAClE,KAAO5B,GAAaC,GAAiC,GAAtBjB,EAAQF,YACnCE,EAAUA,EAAQ+C,WAAW/C,QAC7BgB,IACAC,IAEJ,IAAIjb,EAAQ,IAAI,KAAMga,EAASgB,EAAWC,GAC1C,OAAI+F,GAAc,EACP,IAAI7E,EAAkB3B,EAAM7E,IAAKqL,EAAY3nB,KAAKkkB,IAAI5H,IAAKtc,KAAKkkB,IAAI9S,MAAOzK,EAAOkhB,GACzFlhB,EAAMia,MAAQO,EAAM7E,KAAOtc,KAAKkkB,IAAI5H,IAC7B,IAAIoG,EAAYvB,EAAM7E,IAAK4H,EAAI5H,IAAK3V,GACxC,IACX,CAIA,YAAA4gB,GACI,IAAIQ,EAAa/nB,KAAKonB,SAASzF,UAC/B,IAAK,IAAIqG,EAAMhoB,KAAKonB,SAASzG,QAASgF,EAAI,EAAG/D,EAAU5hB,KAAKonB,SAASxF,QAAS+D,EAAIoC,EAAYpC,IAAK,CAC/F,IAAItE,EAAO2G,EAAItE,WAGf,GAFIsE,EAAIvH,WAAa,IACjBmB,EAAU,GACVP,EAAK5O,KAAK0R,KAAKC,WAAaxC,GAAW+D,EAAG,CAC1CoC,EAAapC,EACb,KACJ,CACAqC,EAAM3G,EAAKV,OACf,CAGA,IAAK,IAAIgG,EAAO,EAAGA,GAAQ,EAAGA,IAC1B,IAAK,IAAIsB,EAAqB,GAARtB,EAAYoB,EAAa/nB,KAAKonB,SAASzF,UAAWsG,GAAc,EAAGA,IAAc,CACnG,IAAI3H,EAAUC,EAAS,KACnB0H,GACA1H,EAAS2H,EAAUloB,KAAKonB,SAASzG,QAASsH,EAAa,GAAGvE,WAC1DpD,EAAWC,EAAOI,SAGlBL,EAAWtgB,KAAKonB,SAASzG,QAE7B,IAAIzL,EAAQoL,EAASoD,WACrB,IAAK,IAAIyE,EAAgBnoB,KAAKujB,MAAO4E,GAAiB,EAAGA,IAAiB,CACtE,IAAoDtS,GAAhD,KAAEpD,EAAI,MAAEwB,GAAUjU,KAAKqnB,SAASc,GAAsBC,EAAS,KAInE,GAAY,GAARzB,IAAczR,EAAQjB,EAAMgR,UAAU/P,EAAMzC,QAAU2V,EAASnU,EAAMoU,WAAW,KAASjK,KAAKlJ,IAAQ,IACpGqL,GAAU9N,EAAK6V,kBAAkB/H,EAAO9N,OAC1C,MAAO,CAAEwV,aAAYE,gBAAe5H,SAAQ6H,UAG3C,GAAY,GAARzB,GAAazR,IAAUW,EAAO5B,EAAMoQ,aAAanP,EAAMzC,OAC5D,MAAO,CAAEwV,aAAYE,gBAAe5H,SAAQ1K,QAGhD,GAAI0K,GAAUtM,EAAMgR,UAAU1E,EAAO9N,MACjC,KACR,CACJ,CAER,CACA,QAAAgV,GACI,IAAI,QAAE9G,EAAO,UAAEgB,EAAS,QAAEC,GAAY5hB,KAAKonB,SACvCvC,EAAQqD,EAAUvH,EAASgB,GAC/B,SAAKkD,EAAMpE,YAAcoE,EAAMnB,WAAWpB,UAE1CtiB,KAAKonB,SAAW,IAAI,KAAMzG,EAASgB,EAAY,EAAG9F,KAAKE,IAAI6F,EAASiD,EAAMjE,KAAOe,GAAahB,EAAQC,KAAOgB,EAAUD,EAAY,EAAI,KAChI,EACX,CACA,QAAA+F,GACI,IAAI,QAAE/G,EAAO,UAAEgB,EAAS,QAAEC,GAAY5hB,KAAKonB,SACvCvC,EAAQqD,EAAUvH,EAASgB,GAC/B,GAAIkD,EAAMpE,YAAc,GAAKkB,EAAY,EAAG,CACxC,IAAI4G,EAAY5H,EAAQC,KAAOe,GAAaA,EAAYkD,EAAMjE,KAC9D5gB,KAAKonB,SAAW,IAAI,KAAMoB,EAAiB7H,EAASgB,EAAY,EAAG,GAAIA,EAAY,EAAG4G,EAAY5G,EAAY,EAAIC,EACtH,MAEI5hB,KAAKonB,SAAW,IAAI,KAAMoB,EAAiB7H,EAASgB,EAAW,GAAIA,EAAWC,EAEtF,CAIA,UAAA4F,EAAW,WAAES,EAAU,cAAEE,EAAa,OAAE5H,EAAM,OAAE6H,EAAM,KAAEvS,IACpD,KAAO7V,KAAKujB,MAAQ4E,GAChBnoB,KAAKyoB,oBACT,GAAI5S,EACA,IAAK,IAAIrX,EAAI,EAAGA,EAAIqX,EAAKpX,OAAQD,IAC7BwB,KAAK0oB,iBAAiB7S,EAAKrX,IACnC,IAAImI,EAAQ3G,KAAKonB,SAAU9G,EAAWC,EAASA,EAAOI,QAAUha,EAAMga,QAClEgB,EAAYhb,EAAMgb,UAAYsG,EAC9BU,EAAQ,EAAGlN,EAAM,IACjB,MAAExH,EAAK,KAAExB,GAASzS,KAAKqnB,SAASc,GACpC,GAAIC,EAAQ,CACR,IAAK,IAAI5pB,EAAI,EAAGA,EAAI4pB,EAAO3H,WAAYjiB,IACnCid,EAAIrX,KAAKgkB,EAAO1H,MAAMliB,IAC1ByV,EAAQA,EAAM2U,cAAcR,EAChC,CAIA,IAAIS,EAAgBvI,EAASM,KAAOqH,GAAethB,EAAMga,QAAQC,KAAOja,EAAMib,SAG9E,KAAO+G,EAAQrI,EAASG,YAAY,CAChC,IAAIpV,EAAOiV,EAASI,MAAMiI,GAAQG,EAAU7U,EAAMgR,UAAU5Z,EAAKoH,MACjE,IAAKqW,EACD,MACJH,KACIA,EAAQ,GAAkB,GAAbhH,GAAkBtW,EAAKsV,QAAQC,QAC5C3M,EAAQ6U,EACRrN,EAAIrX,KAAK2kB,EAAe1d,EAAK2V,KAAKvO,EAAKuW,aAAa3d,EAAKqW,QAAkB,GAATiH,EAAahH,EAAY,EAAGgH,GAASrI,EAASG,WAAaoI,GAAgB,IAErJ,CACA,IAAII,EAAQN,GAASrI,EAASG,WACzBwI,IACDJ,GAAgB,GACpB7oB,KAAKsnB,OAAS4B,EAAclpB,KAAKsnB,OAAQa,EAAe,KAAS/J,KAAK3C,IACtEzb,KAAKqnB,SAASc,GAAelU,MAAQA,EAGjCgV,GAASJ,EAAe,GAAKtI,GAAUA,EAAO9N,MAAQzS,KAAKqnB,SAASrnB,KAAKujB,OAAO9Q,MAAQzS,KAAKqnB,SAAS5oB,OAAS,GAC/GuB,KAAKyoB,oBAET,IAAK,IAAIjqB,EAAI,EAAGwpB,EAAM1H,EAAU9hB,EAAIqqB,EAAcrqB,IAAK,CACnD,IAAI6iB,EAAO2G,EAAImB,UACfnpB,KAAKqnB,SAASjjB,KAAK,CAAEqO,KAAM4O,EAAK5O,KAAMwB,MAAOoN,EAAKoD,eAAepD,EAAKZ,cACtEuH,EAAM3G,EAAKV,OACf,CAIA3gB,KAAKonB,SAAY6B,EACG,GAAdhB,EAAkB,KAAMjL,MACpB,IAAI,KAAMwL,EAAiB7hB,EAAMga,QAASsH,EAAa,EAAG,GAAIA,EAAa,EAAGY,EAAe,EAAIliB,EAAMib,QAAUqG,EAAa,GAF/G,IAAI,KAAMO,EAAiB7hB,EAAMga,QAASsH,EAAYU,GAAQhiB,EAAMgb,UAAWhb,EAAMib,QAGlH,CACA,cAAAgG,GACI,IAAK5nB,KAAKkkB,IAAI3D,OAAOkG,YACjB,OAAQ,EACZ,IAAqCrmB,EAAjCgpB,EAAMppB,KAAKqnB,SAASrnB,KAAKujB,OAC7B,IAAK6F,EAAI3W,KAAKgU,cAAgB4C,EAAiBrpB,KAAKkkB,IAAKlkB,KAAKkkB,IAAIX,MAAO6F,EAAI3W,KAAM2W,EAAInV,OAAO,IACzFjU,KAAKkkB,IAAIX,OAASvjB,KAAKujB,QAAUnjB,EAAQJ,KAAKspB,eAAetpB,KAAKkkB,OAAS9jB,EAAMmjB,OAASvjB,KAAKujB,MAChG,OAAQ,EACZ,IAAI,MAAEA,GAAUvjB,KAAKkkB,IAAK6B,EAAQ/lB,KAAKkkB,IAAI6B,MAAMxC,GACjD,KAAOA,EAAQ,GAAKwC,GAAS/lB,KAAKkkB,IAAI9S,MAAMmS,MACtCwC,EACN,OAAOA,CACX,CACA,cAAAuD,CAAepF,GACXqF,EAAM,IAAK,IAAI/qB,EAAIqd,KAAKC,IAAI9b,KAAKujB,MAAOW,EAAIX,OAAQ/kB,GAAK,EAAGA,IAAK,CAC7D,IAAI,MAAEyV,EAAK,KAAExB,GAASzS,KAAKqnB,SAAS7oB,GAChCgrB,EAAYhrB,EAAI0lB,EAAIX,OAASW,EAAI9S,IAAI5S,EAAI,IAAM0lB,EAAI5H,KAAO4H,EAAIX,OAAS/kB,EAAI,IAC3E2oB,EAAMkC,EAAiBnF,EAAK1lB,EAAGiU,EAAMwB,EAAOuV,GAChD,GAAKrC,EAAL,CAEA,IAAK,IAAIxB,EAAInnB,EAAI,EAAGmnB,GAAK,EAAGA,IAAK,CAC7B,IAAI,MAAE1R,EAAK,KAAExB,GAASzS,KAAKqnB,SAAS1B,GAChCmD,EAAUO,EAAiBnF,EAAKyB,EAAGlT,EAAMwB,GAAO,GACpD,IAAK6U,GAAWA,EAAQrI,WACpB,SAAS8I,CACjB,CACA,MAAO,CAAEhG,MAAO/kB,EAAG2oB,MAAKsC,KAAMD,EAAYtF,EAAIlE,IAAIoB,QAAQ8C,EAAI6B,MAAMvnB,EAAI,IAAM0lB,EAPlE,CAQhB,CACJ,CACA,KAAA4D,CAAM5D,GACF,IAAI4D,EAAQ9nB,KAAKspB,eAAepF,GAChC,IAAK4D,EACD,OAAO,KACX,KAAO9nB,KAAKujB,MAAQuE,EAAMvE,OACtBvjB,KAAKyoB,oBACLX,EAAMX,IAAI1G,aACVzgB,KAAKsnB,OAAS4B,EAAclpB,KAAKsnB,OAAQQ,EAAMvE,MAAOuE,EAAMX,MAChEjD,EAAM4D,EAAM2B,KACZ,IAAK,IAAI9D,EAAImC,EAAMvE,MAAQ,EAAGoC,GAAKzB,EAAIX,MAAOoC,IAAK,CAC/C,IAAItE,EAAO6C,EAAI7C,KAAKsE,GAAIlK,EAAM4F,EAAK5O,KAAKsS,aAAasD,WAAWhH,EAAKV,SAAS,EAAMuD,EAAIlV,MAAM2W,IAC9F3lB,KAAK0oB,iBAAiBrH,EAAK5O,KAAM4O,EAAKgB,MAAO5G,EACjD,CACA,OAAOyI,CACX,CACA,gBAAAwE,CAAiBjW,EAAM4P,EAAQ,KAAM1B,GACjC,IAAIyI,EAAMppB,KAAKqnB,SAASrnB,KAAKujB,OAC7B6F,EAAInV,MAAQmV,EAAInV,MAAMgR,UAAUxS,GAChCzS,KAAKsnB,OAAS4B,EAAclpB,KAAKsnB,OAAQtnB,KAAKujB,MAAO,KAASnF,KAAK3L,EAAKnM,OAAO+b,EAAO1B,KACtF3gB,KAAKqnB,SAASjjB,KAAK,CAAEqO,OAAMwB,MAAOxB,EAAKsS,cAC3C,CACA,iBAAA0D,GACI,IACIhN,EADOzb,KAAKqnB,SAASqC,MACVzV,MAAMoU,WAAW,KAASrL,OAAO,GAC5CvB,EAAIgF,aACJzgB,KAAKsnB,OAAS4B,EAAclpB,KAAKsnB,OAAQtnB,KAAKqnB,SAAS5oB,OAAQgd,GACvE,EAEJ,SAAS+M,EAAiBlI,EAAUiD,EAAOoG,GACvC,OAAa,GAATpG,EACOjD,EAASyD,WAAW4F,EAAOrJ,EAASG,YACxCH,EAASwF,aAAa,EAAGxF,EAASoD,WAAWpF,KAAKkK,EAAiBlI,EAASoD,WAAW/C,QAAS4C,EAAQ,EAAGoG,IACtH,CACA,SAAST,EAAc5I,EAAUiD,EAAO5C,GACpC,OAAa,GAAT4C,EACOjD,EAASuC,OAAOlC,GACpBL,EAASwF,aAAaxF,EAASG,WAAa,EAAGH,EAAS6I,UAAU7K,KAAK4K,EAAc5I,EAAS6I,UAAUxI,QAAS4C,EAAQ,EAAG5C,IACvI,CACA,SAASuH,EAAU5H,EAAUiD,GACzB,IAAK,IAAI/kB,EAAI,EAAGA,EAAI+kB,EAAO/kB,IACvB8hB,EAAWA,EAASoD,WAAW/C,QACnC,OAAOL,CACX,CACA,SAASyI,EAAe1H,EAAMM,EAAWC,GACrC,GAAID,GAAa,EACb,OAAON,EACX,IAAIuI,EAAOvI,EAAKV,QAQhB,OAPIgB,EAAY,IACZiI,EAAOA,EAAK9D,aAAa,EAAGiD,EAAea,EAAKlG,WAAY/B,EAAY,EAAsB,GAAnBiI,EAAKnJ,WAAkBmB,EAAU,EAAI,KAChHD,EAAY,IACZiI,EAAOvI,EAAK5O,KAAKsS,aAAasD,WAAWuB,GAAM/G,OAAO+G,GAClDhI,GAAW,IACXgI,EAAOA,EAAK/G,OAAOxB,EAAK5O,KAAKsS,aAAa6D,cAAcgB,GAAMvB,WAAW,KAASrL,OAAO,MAE1FqE,EAAK/C,KAAKsL,EACrB,CACA,SAASP,EAAiBnF,EAAKX,EAAO9Q,EAAMwB,EAAO4V,GAC/C,IAAIxI,EAAO6C,EAAI7C,KAAKkC,GAAQvU,EAAQ6a,EAAO3F,EAAIV,WAAWD,GAASW,EAAIlV,MAAMuU,GAC7E,GAAIvU,GAASqS,EAAKZ,aAAehO,EAAK6V,kBAAkBjH,EAAK5O,MACzD,OAAO,KACX,IAAI0U,EAAMlT,EAAMoU,WAAWhH,EAAKV,SAAS,EAAM3R,GAC/C,OAAOmY,IAEX,SAAsB1U,EAAM6N,EAAUnP,GAClC,IAAK,IAAI3S,EAAI2S,EAAO3S,EAAI8hB,EAASG,WAAYjiB,IACzC,IAAKiU,EAAKqX,YAAYxJ,EAASI,MAAMliB,GAAGkjB,OACpC,OAAO,EACf,OAAO,CACX,CAPmBqI,CAAatX,EAAM4O,EAAKV,QAAS3R,GAASmY,EAAM,IACnE,CAuFA,SAAS6C,EAAc1J,EAAUiD,EAAO0G,EAASC,EAAS3J,GACtD,GAAIgD,EAAQ0G,EAAS,CACjB,IAAI/U,EAAQoL,EAASoD,WACrBpD,EAAWA,EAASwF,aAAa,EAAG5Q,EAAMoJ,KAAK0L,EAAc9U,EAAMyL,QAAS4C,EAAQ,EAAG0G,EAASC,EAAShV,IAC7G,CACA,GAAIqO,EAAQ2G,EAAS,CACjB,IAAIjW,EAAQsM,EAAOkE,eAAe,GAC9BtT,EAAQ8C,EAAMoU,WAAW/H,GAAUuC,OAAOvC,GAC9CA,EAAWnP,EAAM0R,OAAO5O,EAAM2U,cAAczX,GAAOkX,WAAW,KAASrL,OAAO,GAClF,CACA,OAAOsD,CACX,CA2BA,SAAS6J,EAAchJ,EAAO+C,GAC1B,IAAI3P,EAAS,GACb,IAAK,IAAIoR,EADmB9J,KAAKC,IAAIqF,EAAMoC,MAAOW,EAAIX,OAC/BoC,GAAK,EAAGA,IAAK,CAChC,IAAIxU,EAAQgQ,EAAMhQ,MAAMwU,GACxB,GAAIxU,EAAQgQ,EAAM7E,KAAO6E,EAAMoC,MAAQoC,IACnCzB,EAAI9S,IAAIuU,GAAKzB,EAAI5H,KAAO4H,EAAIX,MAAQoC,IACpCxE,EAAME,KAAKsE,GAAGlT,KAAK0R,KAAKC,WACxBF,EAAI7C,KAAKsE,GAAGlT,KAAK0R,KAAKC,UACtB,OACAjT,GAAS+S,EAAI/S,MAAMwU,IAClBA,GAAKxE,EAAMoC,OAASoC,GAAKzB,EAAIX,OAASpC,EAAMZ,OAAO6J,eAAiBlG,EAAI3D,OAAO6J,eAC5EzE,GAAKzB,EAAI/S,MAAMwU,EAAI,IAAMxU,EAAQ,IACrCoD,EAAOnQ,KAAKuhB,EACpB,CACA,OAAOpR,CACX,CAKA,MAAM8V,UAAiBhL,EAInB,WAAAlhB,CAIAme,EAIAgO,EAEA5sB,GACIujB,QACAjhB,KAAKsc,IAAMA,EACXtc,KAAKsqB,KAAOA,EACZtqB,KAAKtC,MAAQA,CACjB,CACA,KAAAqV,CAAMiN,GACF,IAAIqB,EAAOrB,EAAImC,OAAOniB,KAAKsc,KAC3B,IAAK+E,EACD,OAAOtB,EAAWI,KAAK,wCAC3B,IAAIkC,EAAQ9kB,OAAO+I,OAAO,MAC1B,IAAK,IAAI5F,KAAQ2gB,EAAKgB,MAClBA,EAAM3hB,GAAQ2gB,EAAKgB,MAAM3hB,GAC7B2hB,EAAMriB,KAAKsqB,MAAQtqB,KAAKtC,MACxB,IAAI0kB,EAAUf,EAAK5O,KAAKnM,OAAO+b,EAAO,KAAMhB,EAAKK,OACjD,OAAO3B,EAAWK,YAAYJ,EAAKhgB,KAAKsc,IAAKtc,KAAKsc,IAAM,EAAG,IAAI,KAAM,KAAS8B,KAAKgE,GAAU,EAAGf,EAAKiB,OAAS,EAAI,GACtH,CACA,MAAAhD,GACI,OAAOzC,EAAQG,KACnB,CACA,MAAAe,CAAOiC,GACH,OAAO,IAAIqK,EAASrqB,KAAKsc,IAAKtc,KAAKsqB,KAAMtK,EAAImC,OAAOniB,KAAKsc,KAAK+F,MAAMriB,KAAKsqB,MAC7E,CACA,GAAAlP,CAAIuD,GACA,IAAIrC,EAAMqC,EAAQxB,UAAUnd,KAAKsc,IAAK,GACtC,OAAOA,EAAIK,aAAe,KAAO,IAAI0N,EAAS/N,EAAIA,IAAKtc,KAAKsqB,KAAMtqB,KAAKtC,MAC3E,CACA,MAAAqkB,GACI,MAAO,CAAEnC,SAAU,OAAQtD,IAAKtc,KAAKsc,IAAKgO,KAAMtqB,KAAKsqB,KAAM5sB,MAAOsC,KAAKtC,MAC3E,CACA,eAAO+hB,CAASC,EAAQC,GACpB,GAAuB,iBAAZA,EAAKrD,KAAuC,iBAAbqD,EAAK2K,KAC3C,MAAM,IAAIhT,WAAW,uCACzB,OAAO,IAAI+S,EAAS1K,EAAKrD,IAAKqD,EAAK2K,KAAM3K,EAAKjiB,MAClD,EAEJ2hB,EAAKQ,OAAO,OAAQwK,GAIpB,MAAME,UAAoBlL,EAItB,WAAAlhB,CAIAmsB,EAEA5sB,GACIujB,QACAjhB,KAAKsqB,KAAOA,EACZtqB,KAAKtC,MAAQA,CACjB,CACA,KAAAqV,CAAMiN,GACF,IAAIqC,EAAQ9kB,OAAO+I,OAAO,MAC1B,IAAK,IAAI5F,KAAQsf,EAAIqC,MACjBA,EAAM3hB,GAAQsf,EAAIqC,MAAM3hB,GAC5B2hB,EAAMriB,KAAKsqB,MAAQtqB,KAAKtC,MACxB,IAAI0kB,EAAUpC,EAAIvN,KAAKnM,OAAO+b,EAAOrC,EAAIW,QAASX,EAAI0B,OACtD,OAAO3B,EAAWG,GAAGkC,EACzB,CACA,MAAA9C,GACI,OAAOzC,EAAQG,KACnB,CACA,MAAAe,CAAOiC,GACH,OAAO,IAAIuK,EAAYvqB,KAAKsqB,KAAMtK,EAAIqC,MAAMriB,KAAKsqB,MACrD,CACA,GAAAlP,CAAIuD,GACA,OAAO3e,IACX,CACA,MAAA+hB,GACI,MAAO,CAAEnC,SAAU,UAAW0K,KAAMtqB,KAAKsqB,KAAM5sB,MAAOsC,KAAKtC,MAC/D,CACA,eAAO+hB,CAASC,EAAQC,GACpB,GAAwB,iBAAbA,EAAK2K,KACZ,MAAM,IAAIhT,WAAW,0CACzB,OAAO,IAAIiT,EAAY5K,EAAK2K,KAAM3K,EAAKjiB,MAC3C,EAEJ2hB,EAAKQ,OAAO,UAAW0K,GAKvB,IAAIC,EAAiB,cAAcjpB,QAEnCipB,EAAiB,SAASA,EAAerqB,GACrC,IAAIsqB,EAAMlpB,MAAMhC,KAAKS,KAAMG,GAE3B,OADAsqB,EAAIna,UAAYka,EAAepsB,UACxBqsB,CACX,GACAD,EAAepsB,UAAYb,OAAO+I,OAAO/E,MAAMnD,YACtBD,YAAcqsB,EACvCA,EAAepsB,UAAUsC,KAAO,iBAQhC,MAAMgqB,EAIF,WAAAvsB,CAKA6hB,GACIhgB,KAAKggB,IAAMA,EAIXhgB,KAAK2qB,MAAQ,GAIb3qB,KAAK4qB,KAAO,GAIZ5qB,KAAK2e,QAAU,IAAIV,CACvB,CAIA,UAAIuI,GAAW,OAAOxmB,KAAK4qB,KAAKnsB,OAASuB,KAAK4qB,KAAK,GAAK5qB,KAAKggB,GAAK,CAKlE,IAAA6K,CAAKA,GACD,IAAItW,EAASvU,KAAK8qB,UAAUD,GAC5B,GAAItW,EAAO0L,OACP,MAAM,IAAIuK,EAAejW,EAAO0L,QACpC,OAAOjgB,IACX,CAKA,SAAA8qB,CAAUD,GACN,IAAItW,EAASsW,EAAK9X,MAAM/S,KAAKggB,KAG7B,OAFKzL,EAAO0L,QACRjgB,KAAK+qB,QAAQF,EAAMtW,EAAOyL,KACvBzL,CACX,CAKA,cAAIyW,GACA,OAAOhrB,KAAK2qB,MAAMlsB,OAAS,CAC/B,CAIA,OAAAssB,CAAQF,EAAM7K,GACVhgB,KAAK4qB,KAAKxmB,KAAKpE,KAAKggB,KACpBhgB,KAAK2qB,MAAMvmB,KAAKymB,GAChB7qB,KAAK2e,QAAQJ,UAAUsM,EAAKvL,UAC5Btf,KAAKggB,IAAMA,CACf,CAKA,OAAApP,CAAQwN,EAAMC,EAAKD,EAAMzX,EAAQ,KAAMqW,OACnC,IAAI6N,EAAO7D,EAAYhnB,KAAKggB,IAAK5B,EAAMC,EAAI1X,GAG3C,OAFIkkB,GACA7qB,KAAK6qB,KAAKA,GACP7qB,IACX,CAKA,WAAAirB,CAAY7M,EAAMC,EAAIsC,GAClB,OAAO3gB,KAAK4Q,QAAQwN,EAAMC,EAAI,IAAI,KAAM,KAASD,KAAKuC,GAAU,EAAG,GACvE,CAIA,OAAOvC,EAAMC,GACT,OAAOre,KAAK4Q,QAAQwN,EAAMC,EAAI,KAAMrB,MACxC,CAIA,MAAAiG,CAAO3G,EAAKqE,GACR,OAAO3gB,KAAKirB,YAAY3O,EAAKA,EAAKqE,EACtC,CAoBA,YAAAuK,CAAa9M,EAAMC,EAAI1X,GAEnB,OA9WR,SAAsBwkB,EAAI/M,EAAMC,EAAI1X,GAChC,IAAKA,EAAMia,KACP,OAAOuK,EAAGC,YAAYhN,EAAMC,GAChC,IAAI8C,EAAQgK,EAAGnL,IAAIoB,QAAQhD,GAAO8F,EAAMiH,EAAGnL,IAAIoB,QAAQ/C,GACvD,GAAI4I,EAAc9F,EAAO+C,EAAKvd,GAC1B,OAAOwkB,EAAGN,KAAK,IAAInI,EAAYtE,EAAMC,EAAI1X,IAC7C,IAAI0kB,EAAelB,EAAchJ,EAAOgK,EAAGnL,IAAIoB,QAAQ/C,IAEV,GAAzCgN,EAAaA,EAAa5sB,OAAS,IACnC4sB,EAAa3B,MAGjB,IAAI4B,IAAoBnK,EAAMoC,MAAQ,GACtC8H,EAAaE,QAAQD,GAKrB,IAAK,IAAI3F,EAAIxE,EAAMoC,MAAOjH,EAAM6E,EAAM7E,IAAM,EAAGqJ,EAAI,EAAGA,IAAKrJ,IAAO,CAC9D,IAAI6H,EAAOhD,EAAME,KAAKsE,GAAGlT,KAAK0R,KAC9B,GAAIA,EAAKqH,UAAYrH,EAAKsH,mBAAqBtH,EAAKC,UAChD,MACAiH,EAAaK,QAAQ/F,IAAM,EAC3B2F,EAAkB3F,EACbxE,EAAMqF,OAAOb,IAAMrJ,GACxB+O,EAAaM,OAAO,EAAG,GAAIhG,EACnC,CAGA,IAAIiG,EAAuBP,EAAaK,QAAQJ,GAC5CO,EAAY,GAAIC,EAAiBnlB,EAAMgb,UAC3C,IAAK,IAAIhB,EAAUha,EAAMga,QAASniB,EAAI,GAAIA,IAAK,CAC3C,IAAI6iB,EAAOV,EAAQ+C,WAEnB,GADAmI,EAAUznB,KAAKid,GACX7iB,GAAKmI,EAAMgb,UACX,MACJhB,EAAUU,EAAKV,OACnB,CAGA,IAAK,IAAIgF,EAAImG,EAAiB,EAAGnG,GAAK,EAAGA,IAAK,CAC1C,IAAIoG,EAAWF,EAAUlG,GAAIqG,GA5CbvZ,EA4CkCsZ,EAAStZ,MA3CnD0R,KAAKqH,UAAY/Y,EAAK0R,KAAK8H,mBA4CnC,GAAID,IAAQD,EAASG,WAAW/K,EAAME,KAAKxF,KAAKsQ,IAAIb,GAAmB,IACnEQ,EAAiBnG,OAChB,GAAIqG,IAAQD,EAAStZ,KAAKgU,YAC3B,KACR,CAjDJ,IAAwBhU,EAkDpB,IAAK,IAAInI,EAAI3D,EAAMgb,UAAWrX,GAAK,EAAGA,IAAK,CACvC,IAAI8hB,GAAa9hB,EAAIwhB,EAAiB,IAAMnlB,EAAMgb,UAAY,GAC1DsB,EAAS4I,EAAUO,GACvB,GAAKnJ,EAEL,IAAK,IAAIzkB,EAAI,EAAGA,EAAI6sB,EAAa5sB,OAAQD,IAAK,CAG1C,IAAI6tB,EAAchB,GAAc7sB,EAAIotB,GAAwBP,EAAa5sB,QAAS6tB,GAAS,EACvFD,EAAc,IACdC,GAAS,EACTD,GAAeA,GAEnB,IAAI9L,EAASY,EAAME,KAAKgL,EAAc,GAAIrd,EAAQmS,EAAMnS,MAAMqd,EAAc,GAC5E,GAAI9L,EAAOoE,eAAe3V,EAAOA,EAAOiU,EAAOxQ,KAAMwQ,EAAOvB,OACxD,OAAOyJ,EAAGva,QAAQuQ,EAAMqF,OAAO6F,GAAcC,EAASpI,EAAI6B,MAAMsG,GAAehO,EAAI,IAAI,KAAM2L,EAAcrjB,EAAMga,QAAS,EAAGha,EAAMgb,UAAWyK,GAAYA,EAAWzlB,EAAMib,SACnL,CACJ,CACA,IAAI2K,EAAapB,EAAGR,MAAMlsB,OAC1B,IAAK,IAAID,EAAI6sB,EAAa5sB,OAAS,EAAGD,GAAK,IACvC2sB,EAAGva,QAAQwN,EAAMC,EAAI1X,KACjBwkB,EAAGR,MAAMlsB,OAAS8tB,IAFoB/tB,IAAK,CAI/C,IAAI+kB,EAAQ8H,EAAa7sB,GACrB+kB,EAAQ,IAEZnF,EAAO+C,EAAMqF,OAAOjD,GACpBlF,EAAK6F,EAAI6B,MAAMxC,GACnB,CACJ,CAiSQ2H,CAAalrB,KAAMoe,EAAMC,EAAI1X,GACtB3G,IACX,CAUA,gBAAAwsB,CAAiBpO,EAAMC,EAAIgD,GAEvB,OAlSR,SAA0B8J,EAAI/M,EAAMC,EAAIgD,GACpC,IAAKA,EAAKR,UAAYzC,GAAQC,GAAM8M,EAAGnL,IAAIoB,QAAQhD,GAAMmC,OAAOI,QAAQC,KAAM,CAC1E,IAAIzK,EA3cZ,SAAqB6J,EAAK1D,EAAKgI,GAC3B,IAAIiB,EAAOvF,EAAIoB,QAAQ9E,GACvB,GAAIiJ,EAAKhF,OAAOoE,eAAeY,EAAKvW,QAASuW,EAAKvW,QAASsV,GACvD,OAAOhI,EACX,GAAyB,GAArBiJ,EAAKkH,aACL,IAAK,IAAI9G,EAAIJ,EAAKhC,MAAQ,EAAGoC,GAAK,EAAGA,IAAK,CACtC,IAAI3W,EAAQuW,EAAKvW,MAAM2W,GACvB,GAAIJ,EAAKlE,KAAKsE,GAAGhB,eAAe3V,EAAOA,EAAOsV,GAC1C,OAAOiB,EAAKiB,OAAOb,EAAI,GAC3B,GAAI3W,EAAQ,EACR,OAAO,IACf,CACJ,GAAIuW,EAAKkH,cAAgBlH,EAAKhF,OAAOI,QAAQC,KACzC,IAAK,IAAI+E,EAAIJ,EAAKhC,MAAQ,EAAGoC,GAAK,EAAGA,IAAK,CACtC,IAAI3W,EAAQuW,EAAK/B,WAAWmC,GAC5B,GAAIJ,EAAKlE,KAAKsE,GAAGhB,eAAe3V,EAAOA,EAAOsV,GAC1C,OAAOiB,EAAKQ,MAAMJ,EAAI,GAC1B,GAAI3W,EAAQuW,EAAKlE,KAAKsE,GAAGlF,WACrB,OAAO,IACf,CACJ,OAAO,IACX,CAsboBiM,CAAYvB,EAAGnL,IAAK5B,EAAMiD,EAAK5O,MAC9B,MAAT0D,IACAiI,EAAOC,EAAKlI,EACpB,CACAgV,EAAGD,aAAa9M,EAAMC,EAAI,IAAI,KAAM,KAASD,KAAKiD,GAAO,EAAG,GAChE,CA0RQmL,CAAiBxsB,KAAMoe,EAAMC,EAAIgD,GAC1BrhB,IACX,CAKA,WAAAorB,CAAYhN,EAAMC,GAEd,OAlSR,SAAqB8M,EAAI/M,EAAMC,GAC3B,IAAI8C,EAAQgK,EAAGnL,IAAIoB,QAAQhD,GAAO8F,EAAMiH,EAAGnL,IAAIoB,QAAQ/C,GACnDsO,EAAUxC,EAAchJ,EAAO+C,GACnC,IAAK,IAAI1lB,EAAI,EAAGA,EAAImuB,EAAQluB,OAAQD,IAAK,CACrC,IAAI+kB,EAAQoJ,EAAQnuB,GAAIouB,EAAOpuB,GAAKmuB,EAAQluB,OAAS,EACrD,GAAKmuB,GAAiB,GAATrJ,GAAepC,EAAME,KAAKkC,GAAO9Q,KAAKsS,aAAaG,SAC5D,OAAOiG,EAAG0B,OAAO1L,EAAMhQ,MAAMoS,GAAQW,EAAI9S,IAAImS,IACjD,GAAIA,EAAQ,IAAMqJ,GAAQzL,EAAME,KAAKkC,EAAQ,GAAGK,WAAWzC,EAAMnS,MAAMuU,EAAQ,GAAIW,EAAIV,WAAWD,EAAQ,KACtG,OAAO4H,EAAG0B,OAAO1L,EAAMqF,OAAOjD,GAAQW,EAAI6B,MAAMxC,GACxD,CACA,IAAK,IAAIoC,EAAI,EAAGA,GAAKxE,EAAMoC,OAASoC,GAAKzB,EAAIX,MAAOoC,IAChD,GAAIvH,EAAO+C,EAAMhQ,MAAMwU,IAAMxE,EAAMoC,MAAQoC,GAAKtH,EAAK8C,EAAM/P,IAAIuU,IAAMzB,EAAI9S,IAAIuU,GAAKtH,GAAM6F,EAAIX,MAAQoC,EAChG,OAAOwF,EAAG0B,OAAO1L,EAAMqF,OAAOb,GAAItH,GAE1C8M,EAAG0B,OAAOzO,EAAMC,EACpB,CAkRQ+M,CAAYprB,KAAMoe,EAAMC,GACjBre,IACX,CAQA,IAAA8sB,CAAKhJ,EAAOxlB,GAER,OAv8BR,SAAc6sB,EAAIrH,EAAOxlB,GACrB,IAAI,MAAE6iB,EAAK,IAAE+C,EAAG,MAAEX,GAAUO,EACxBiJ,EAAW5L,EAAMqF,OAAOjD,EAAQ,GAAIyJ,EAAS9I,EAAI6B,MAAMxC,EAAQ,GAC/DpS,EAAQ4b,EAAU3b,EAAM4b,EACxBxG,EAAS,KAASxJ,MAAO2E,EAAY,EACzC,IAAK,IAAIgE,EAAIpC,EAAO0J,GAAY,EAAOtH,EAAIrnB,EAAQqnB,IAC3CsH,GAAa9L,EAAMnS,MAAM2W,GAAK,GAC9BsH,GAAY,EACZzG,EAAS,KAASpI,KAAK+C,EAAME,KAAKsE,GAAGrH,KAAKkI,IAC1C7E,KAGAxQ,IAER,IAAI4U,EAAQ,KAAS/I,MAAO4E,EAAU,EACtC,IAAK,IAAI+D,EAAIpC,EAAO0J,GAAY,EAAOtH,EAAIrnB,EAAQqnB,IAC3CsH,GAAa/I,EAAI6B,MAAMJ,EAAI,GAAKzB,EAAI9S,IAAIuU,IACxCsH,GAAY,EACZlH,EAAQ,KAAS3H,KAAK8F,EAAI7C,KAAKsE,GAAGrH,KAAKyH,IACvCnE,KAGAxQ,IAER+Z,EAAGN,KAAK,IAAI/H,EAAkB3R,EAAOC,EAAK2b,EAAUC,EAAQ,IAAI,KAAMxG,EAAO3D,OAAOkD,GAAQpE,EAAWC,GAAU4E,EAAO5F,KAAOe,GAAW,GAC9I,CA66BQmL,CAAK9sB,KAAM8jB,EAAOxlB,GACX0B,IACX,CAKA,IAAA2O,CAAK2N,EAAKiH,EAAQ,GAEd,OAhxBR,SAAc4H,EAAI7O,EAAKiH,GACnB,IAAIsH,EAAO,IAAInI,EAAYpG,EAAMiH,EAAOjH,EAAMiH,EAAO,KAAMvG,OAAO,GAClEmO,EAAGN,KAAKA,EACZ,CA4wBQlc,CAAK3O,KAAMsc,EAAKiH,GACTvjB,IACX,CAMA,IAAA6V,CAAKiO,EAAOoJ,GAER,OAv5BR,SAAc/B,EAAIrH,EAAOoJ,GACrB,IAAIvM,EAAU,KAAS3D,MACvB,IAAK,IAAIxe,EAAI0uB,EAASzuB,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAC3C,GAAImiB,EAAQC,KAAM,CACd,IAAI3M,EAAQiZ,EAAS1uB,GAAGiU,KAAKsS,aAAa6D,cAAcjI,GACxD,IAAK1M,IAAUA,EAAMiR,SACjB,MAAM,IAAI5N,WAAW,yFAC7B,CACAqJ,EAAU,KAASvC,KAAK8O,EAAS1uB,GAAGiU,KAAKnM,OAAO4mB,EAAS1uB,GAAG6jB,MAAO1B,GACvE,CACA,IAAIxP,EAAQ2S,EAAM3S,MAAOC,EAAM0S,EAAM1S,IACrC+Z,EAAGN,KAAK,IAAI/H,EAAkB3R,EAAOC,EAAKD,EAAOC,EAAK,IAAI,KAAMuP,EAAS,EAAG,GAAIuM,EAASzuB,QAAQ,GACrG,CA04BQoX,CAAK7V,KAAM8jB,EAAOoJ,GACXltB,IACX,CAKA,YAAAmtB,CAAa/O,EAAMC,EAAKD,EAAM3L,EAAM4P,EAAQ,MAExC,OAl5BR,SAAsB8I,EAAI/M,EAAMC,EAAI5L,EAAM4P,GACtC,IAAK5P,EAAKgU,YACN,MAAM,IAAInP,WAAW,oDACzB,IAAI8V,EAAUjC,EAAGR,MAAMlsB,OACvB0sB,EAAGnL,IAAIqN,aAAajP,EAAMC,GAAI,CAACgD,EAAM/E,KACjC,GAAI+E,EAAKoF,cAAgBpF,EAAKiM,UAAU7a,EAAM4P,IAUtD,SAAuBrC,EAAK1D,EAAK7J,GAC7B,IAAI8S,EAAOvF,EAAIoB,QAAQ9E,GAAMtN,EAAQuW,EAAKvW,QAC1C,OAAOuW,EAAKhF,OAAOoE,eAAe3V,EAAOA,EAAQ,EAAGyD,EACxD,CAbgE8a,CAAcpC,EAAGnL,IAAKmL,EAAGxM,QAAQhY,MAAMymB,GAAShS,IAAIkB,GAAM7J,GAAO,CAErH0Y,EAAGqC,kBAAkBrC,EAAGxM,QAAQhY,MAAMymB,GAAShS,IAAIkB,EAAK,GAAI7J,GAC5D,IAAIkM,EAAUwM,EAAGxM,QAAQhY,MAAMymB,GAC3BK,EAAS9O,EAAQvD,IAAIkB,EAAK,GAAIoR,EAAO/O,EAAQvD,IAAIkB,EAAM+E,EAAKsM,SAAU,GAE1E,OADAxC,EAAGN,KAAK,IAAI/H,EAAkB2K,EAAQC,EAAMD,EAAS,EAAGC,EAAO,EAAG,IAAI,KAAM,KAAStP,KAAK3L,EAAKnM,OAAO+b,EAAO,KAAMhB,EAAKK,QAAS,EAAG,GAAI,GAAG,KACpI,CACX,IAER,CAm4BQyL,CAAantB,KAAMoe,EAAMC,EAAI5L,EAAM4P,GAC5BriB,IACX,CAKA,aAAA4tB,CAActR,EAAK7J,EAAM4P,EAAQ,KAAMX,GAEnC,OAn4BR,SAAuByJ,EAAI7O,EAAK7J,EAAM4P,EAAOX,GACzC,IAAIL,EAAO8J,EAAGnL,IAAImC,OAAO7F,GACzB,IAAK+E,EACD,MAAM,IAAI/J,WAAW,6BACpB7E,IACDA,EAAO4O,EAAK5O,MAChB,IAAIob,EAAUpb,EAAKnM,OAAO+b,EAAO,KAAMX,GAASL,EAAKK,OACrD,GAAIL,EAAKiB,OACL,OAAO6I,EAAGF,YAAY3O,EAAKA,EAAM+E,EAAKsM,SAAUE,GACpD,IAAKpb,EAAKiT,aAAarE,EAAKV,SACxB,MAAM,IAAIrJ,WAAW,iCAAmC7E,EAAK/R,MACjEyqB,EAAGN,KAAK,IAAI/H,EAAkBxG,EAAKA,EAAM+E,EAAKsM,SAAUrR,EAAM,EAAGA,EAAM+E,EAAKsM,SAAW,EAAG,IAAI,KAAM,KAASvP,KAAKyP,GAAU,EAAG,GAAI,GAAG,GAC1I,CAs3BQD,CAAc5tB,KAAMsc,EAAK7J,EAAM4P,EAAOX,GAC/B1hB,IACX,CAMA,gBAAA8tB,CAAiBxR,EAAKgO,EAAM5sB,GAExB,OADAsC,KAAK6qB,KAAK,IAAIR,EAAS/N,EAAKgO,EAAM5sB,IAC3BsC,IACX,CAIA,eAAA+tB,CAAgBzD,EAAM5sB,GAElB,OADAsC,KAAK6qB,KAAK,IAAIN,EAAYD,EAAM5sB,IACzBsC,IACX,CAIA,WAAAguB,CAAY1R,EAAK0E,GAEb,OADAhhB,KAAK6qB,KAAK,IAAI3I,EAAgB5F,EAAK0E,IAC5BhhB,IACX,CAKA,cAAAiuB,CAAe3R,EAAK0E,GAChB,KAAMA,aAAgB,MAAO,CACzB,IAAIK,EAAOrhB,KAAKggB,IAAImC,OAAO7F,GAC3B,IAAK+E,EACD,MAAM,IAAI/J,WAAW,uBAAyBgF,GAElD,KADA0E,EAAOA,EAAKwB,QAAQnB,EAAKK,QAErB,OAAO1hB,IACf,CAEA,OADAA,KAAK6qB,KAAK,IAAIpI,EAAmBnG,EAAK0E,IAC/BhhB,IACX,CAQA,KAAAyO,CAAM6N,EAAKiH,EAAQ,EAAG+B,GAElB,OA94BR,SAAe6F,EAAI7O,EAAKiH,EAAQ,EAAG+B,GAC/B,IAAIC,EAAO4F,EAAGnL,IAAIoB,QAAQ9E,GAAMkK,EAAS,KAASxJ,MAAO+I,EAAQ,KAAS/I,MAC1E,IAAK,IAAI2I,EAAIJ,EAAKhC,MAAOhgB,EAAIgiB,EAAKhC,MAAQA,EAAO/kB,EAAI+kB,EAAQ,EAAGoC,EAAIpiB,EAAGoiB,IAAKnnB,IAAK,CAC7EgoB,EAAS,KAASpI,KAAKmH,EAAKlE,KAAKsE,GAAGrH,KAAKkI,IACzC,IAAI0H,EAAY5I,GAAcA,EAAW9mB,GACzCunB,EAAQ,KAAS3H,KAAK8P,EAAYA,EAAUzb,KAAKnM,OAAO4nB,EAAU7L,MAAO0D,GAASR,EAAKlE,KAAKsE,GAAGrH,KAAKyH,GACxG,CACAoF,EAAGN,KAAK,IAAInI,EAAYpG,EAAKA,EAAK,IAAI,KAAMkK,EAAO3D,OAAOkD,GAAQxC,EAAOA,IAAQ,GACrF,CAq4BQ9U,CAAMzO,KAAMsc,EAAKiH,EAAO+B,GACjBtlB,IACX,CAIA,OAAAmuB,CAAQ/P,EAAMC,EAAI2C,GAEd,OA7pCR,SAAiBmK,EAAI/M,EAAMC,EAAI2C,GAC3B,IACIoN,EAAUC,EADVC,EAAU,GAAIC,EAAQ,GAE1BpD,EAAGnL,IAAIqN,aAAajP,EAAMC,GAAI,CAACgD,EAAM/E,EAAKiE,KACtC,IAAKc,EAAKR,SACN,OACJ,IAAIa,EAAQL,EAAKK,MACjB,IAAKV,EAAKwB,QAAQd,IAAUnB,EAAO9N,KAAK+O,eAAeR,EAAKvO,MAAO,CAC/D,IAAItB,EAAQ0K,KAAKE,IAAIO,EAAK8B,GAAOhN,EAAMyK,KAAKC,IAAIQ,EAAM+E,EAAKsM,SAAUtP,GACjEkE,EAASvB,EAAKS,SAASC,GAC3B,IAAK,IAAIljB,EAAI,EAAGA,EAAIkjB,EAAMjjB,OAAQD,IACzBkjB,EAAMljB,GAAGgkB,QAAQD,KACd6L,GAAYA,EAAS/P,IAAMlN,GAASid,EAASpN,KAAKc,GAAGJ,EAAMljB,IAC3D4vB,EAAS/P,GAAKjN,EAEdkd,EAAQlqB,KAAKgqB,EAAW,IAAIvM,EAAe1Q,EAAOC,EAAKsQ,EAAMljB,MAGrE6vB,GAAUA,EAAOhQ,IAAMlN,EACvBkd,EAAOhQ,GAAKjN,EAEZmd,EAAMnqB,KAAKiqB,EAAS,IAAItN,EAAY5P,EAAOC,EAAK4P,GACxD,KAEJsN,EAAQ7qB,SAAQE,GAAKwnB,EAAGN,KAAKlnB,KAC7B4qB,EAAM9qB,SAAQE,GAAKwnB,EAAGN,KAAKlnB,IAC/B,CAkoCQwqB,CAAQnuB,KAAMoe,EAAMC,EAAI2C,GACjBhhB,IACX,CAOA,UAAAwuB,CAAWpQ,EAAMC,EAAI2C,GAEjB,OA5oCR,SAAoBmK,EAAI/M,EAAMC,EAAI2C,GAC9B,IAAIyN,EAAU,GAAI5D,EAAO,EACzBM,EAAGnL,IAAIqN,aAAajP,EAAMC,GAAI,CAACgD,EAAM/E,KACjC,IAAK+E,EAAKR,SACN,OACJgK,IACA,IAAI6D,EAAW,KACf,GAAI1N,aAAgB,KAAU,CAC1B,IAAsB2N,EAAlBppB,EAAM8b,EAAKK,MACf,KAAOiN,EAAQ3N,EAAKwB,QAAQjd,KACvBmpB,IAAaA,EAAW,KAAKtqB,KAAKuqB,GACnCppB,EAAMopB,EAAM1M,cAAc1c,EAElC,MACSyb,EACDA,EAAKwB,QAAQnB,EAAKK,SAClBgN,EAAW,CAAC1N,IAGhB0N,EAAWrN,EAAKK,MAEpB,GAAIgN,GAAYA,EAASjwB,OAAQ,CAC7B,IAAI2S,EAAMyK,KAAKC,IAAIQ,EAAM+E,EAAKsM,SAAUtP,GACxC,IAAK,IAAI7f,EAAI,EAAGA,EAAIkwB,EAASjwB,OAAQD,IAAK,CACtC,IAAyBmwB,EAArBC,EAAQF,EAASlwB,GACrB,IAAK,IAAI8L,EAAI,EAAGA,EAAImkB,EAAQhwB,OAAQ6L,IAAK,CACrC,IAAIyU,EAAI0P,EAAQnkB,GACZyU,EAAE8L,MAAQA,EAAO,GAAK+D,EAAM9M,GAAG2M,EAAQnkB,GAAGskB,SAC1CD,EAAQ5P,EAChB,CACI4P,GACAA,EAAMtQ,GAAKjN,EACXud,EAAM9D,KAAOA,GAGb4D,EAAQrqB,KAAK,CAAEwqB,QAAOxQ,KAAMvC,KAAKE,IAAIO,EAAK8B,GAAOC,GAAIjN,EAAKyZ,QAElE,CACJ,KAEJ4D,EAAQhrB,SAAQsb,GAAKoM,EAAGN,KAAK,IAAIhJ,EAAe9C,EAAEX,KAAMW,EAAEV,GAAIU,EAAE6P,SACpE,CAkmCQJ,CAAWxuB,KAAMoe,EAAMC,EAAI2C,GACpBhhB,IACX,CAOA,iBAAAwtB,CAAkBlR,EAAKuS,EAAY5a,GAE/B,OA5mCR,SAA2BkX,EAAI7O,EAAKuS,EAAY5a,EAAQ4a,EAAW9J,cAC/D,IAAI1D,EAAO8J,EAAGnL,IAAImC,OAAO7F,GACrBwS,EAAY,GAAI9G,EAAM1L,EAAM,EAChC,IAAK,IAAI9d,EAAI,EAAGA,EAAI6iB,EAAKZ,WAAYjiB,IAAK,CACtC,IAAIkiB,EAAQW,EAAKX,MAAMliB,GAAI4S,EAAM4W,EAAMtH,EAAMiN,SACzCoB,EAAU9a,EAAMgR,UAAUvE,EAAMjO,MACpC,GAAKsc,EAGA,CACD9a,EAAQ8a,EACR,IAAK,IAAIzkB,EAAI,EAAGA,EAAIoW,EAAMgB,MAAMjjB,OAAQ6L,IAC/BukB,EAAWrN,eAAed,EAAMgB,MAAMpX,GAAGmI,OAC1C0Y,EAAGN,KAAK,IAAIhJ,EAAemG,EAAK5W,EAAKsP,EAAMgB,MAAMpX,KACzD,GAAIoW,EAAMsO,SAAWH,EAAW1K,KAAK5O,KAAM,CACvC,IAAIwJ,EAA0BpY,EAAvBsoB,EAAU,YACjB,KAAOlQ,EAAIkQ,EAAQ9b,KAAKuN,EAAMwO,OACrBvoB,IACDA,EAAQ,IAAI,KAAM,KAASyX,KAAKyQ,EAAWnP,OAAOwP,KAAK,IAAKL,EAAW7F,aAAatI,EAAMgB,SAAU,EAAG,IAC3GoN,EAAU1qB,KAAK,IAAIse,EAAYsF,EAAMjJ,EAAE/P,MAAOgZ,EAAMjJ,EAAE/P,MAAQ+P,EAAE,GAAGtgB,OAAQkI,GAEnF,CACJ,MAfImoB,EAAU1qB,KAAK,IAAIse,EAAYsF,EAAK5W,EAAK,KAAM4L,QAgBnDgL,EAAM5W,CACV,CACA,IAAK6C,EAAMiR,SAAU,CACjB,IAAIiK,EAAOlb,EAAMoU,WAAW,KAASrL,OAAO,GAC5CmO,EAAGva,QAAQoX,EAAKA,EAAK,IAAI,KAAMmH,EAAM,EAAG,GAC5C,CACA,IAAK,IAAI3wB,EAAIswB,EAAUrwB,OAAS,EAAGD,GAAK,EAAGA,IACvC2sB,EAAGN,KAAKiE,EAAUtwB,GAC1B,CA4kCQgvB,CAAkBxtB,KAAMsc,EAAKuS,EAAY5a,GAClCjU,IACX","sources":["webpack:///text/node_modules/@nextcloud/logger/dist/ConsoleLogger.js","webpack:///text/node_modules/@nextcloud/logger/dist/LoggerBuilder.js","webpack:///text/node_modules/@nextcloud/logger/dist/contracts.js","webpack:///text/node_modules/@nextcloud/logger/dist/index.js","webpack:///text/node_modules/@nextcloud/auth/dist/index.cjs","webpack:///text/node_modules/@nextcloud/event-bus/dist/index.cjs","webpack:///text/node_modules/core-js/internals/a-possible-prototype.js","webpack:///text/node_modules/core-js/internals/add-to-unscopables.js","webpack:///text/node_modules/core-js/internals/array-slice.js","webpack:///text/node_modules/core-js/internals/correct-prototype-getter.js","webpack:///text/node_modules/core-js/internals/create-iter-result-object.js","webpack:///text/node_modules/core-js/internals/date-to-primitive.js","webpack:///text/node_modules/core-js/internals/define-built-in-accessor.js","webpack:///text/node_modules/core-js/internals/dom-iterables.js","webpack:///text/node_modules/core-js/internals/dom-token-list-prototype.js","webpack:///text/node_modules/core-js/internals/function-uncurry-this-accessor.js","webpack:///text/node_modules/core-js/internals/get-json-replacer-function.js","webpack:///text/node_modules/core-js/internals/inherit-if-required.js","webpack:///text/node_modules/core-js/internals/is-possible-prototype.js","webpack:///text/node_modules/core-js/internals/iterator-create-constructor.js","webpack:///text/node_modules/core-js/internals/iterator-define.js","webpack:///text/node_modules/core-js/internals/iterators-core.js","webpack:///text/node_modules/core-js/internals/iterators.js","webpack:///text/node_modules/core-js/internals/object-assign.js","webpack:///text/node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///text/node_modules/core-js/internals/object-get-prototype-of.js","webpack:///text/node_modules/core-js/internals/object-set-prototype-of.js","webpack:///text/node_modules/core-js/internals/object-to-string.js","webpack:///text/node_modules/core-js/internals/path.js","webpack:///text/node_modules/core-js/internals/set-to-string-tag.js","webpack:///text/node_modules/core-js/internals/string-trim.js","webpack:///text/node_modules/core-js/internals/symbol-define-to-primitive.js","webpack:///text/node_modules/core-js/internals/symbol-registry-detection.js","webpack:///text/node_modules/core-js/internals/this-number-value.js","webpack:///text/node_modules/core-js/internals/well-known-symbol-define.js","webpack:///text/node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///text/node_modules/core-js/internals/whitespaces.js","webpack:///text/node_modules/core-js/modules/es.array.iterator.js","webpack:///text/node_modules/core-js/modules/es.date.to-primitive.js","webpack:///text/node_modules/core-js/modules/es.json.stringify.js","webpack:///text/node_modules/core-js/modules/es.number.constructor.js","webpack:///text/node_modules/core-js/modules/es.object.assign.js","webpack:///text/node_modules/core-js/modules/es.object.define-property.js","webpack:///text/node_modules/core-js/modules/es.object.get-own-property-symbols.js","webpack:///text/node_modules/core-js/modules/es.object.to-string.js","webpack:///text/node_modules/core-js/modules/es.string.iterator.js","webpack:///text/node_modules/core-js/modules/es.symbol.constructor.js","webpack:///text/node_modules/core-js/modules/es.symbol.description.js","webpack:///text/node_modules/core-js/modules/es.symbol.for.js","webpack:///text/node_modules/core-js/modules/es.symbol.iterator.js","webpack:///text/node_modules/core-js/modules/es.symbol.js","webpack:///text/node_modules/core-js/modules/es.symbol.key-for.js","webpack:///text/node_modules/core-js/modules/es.symbol.to-primitive.js","webpack:///text/node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///text/node_modules/@nextcloud/vue/dist/chunks/emoji-CbOkKZx5.mjs","webpack:///text/node_modules/prosemirror-transform/dist/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ConsoleLogger = void 0;\nexports.buildConsoleLogger = buildConsoleLogger;\nrequire(\"core-js/modules/es.object.assign.js\");\nrequire(\"core-js/modules/es.symbol.to-primitive.js\");\nrequire(\"core-js/modules/es.date.to-primitive.js\");\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nvar _contracts = require(\"./contracts\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar ConsoleLogger = /*#__PURE__*/function () {\n  function ConsoleLogger(context) {\n    _classCallCheck(this, ConsoleLogger);\n    _defineProperty(this, \"context\", void 0);\n    this.context = context || {};\n  }\n  _createClass(ConsoleLogger, [{\n    key: \"formatMessage\",\n    value: function formatMessage(message, level, context) {\n      var msg = '[' + _contracts.LogLevel[level].toUpperCase() + '] ';\n      if (context && context.app) {\n        msg += context.app + ': ';\n      }\n      if (typeof message === 'string') return msg + message;\n\n      // basic error formatting\n      msg += \"Unexpected \".concat(message.name);\n      if (message.message) msg += \" \\\"\".concat(message.message, \"\\\"\");\n      // only add stack trace when debugging\n      if (level === _contracts.LogLevel.Debug && message.stack) msg += \"\\n\\nStack trace:\\n\".concat(message.stack);\n      return msg;\n    }\n  }, {\n    key: \"log\",\n    value: function log(level, message, context) {\n      var _this$context, _this$context2;\n      // Skip if level is configured and this is below the level\n      if (typeof ((_this$context = this.context) === null || _this$context === void 0 ? void 0 : _this$context.level) === 'number' && level < ((_this$context2 = this.context) === null || _this$context2 === void 0 ? void 0 : _this$context2.level)) {\n        return;\n      }\n\n      // Add error object to context\n      if (_typeof(message) === 'object' && (context === null || context === void 0 ? void 0 : context.error) === undefined) {\n        context.error = message;\n      }\n      switch (level) {\n        case _contracts.LogLevel.Debug:\n          console.debug(this.formatMessage(message, _contracts.LogLevel.Debug, context), context);\n          break;\n        case _contracts.LogLevel.Info:\n          console.info(this.formatMessage(message, _contracts.LogLevel.Info, context), context);\n          break;\n        case _contracts.LogLevel.Warn:\n          console.warn(this.formatMessage(message, _contracts.LogLevel.Warn, context), context);\n          break;\n        case _contracts.LogLevel.Error:\n          console.error(this.formatMessage(message, _contracts.LogLevel.Error, context), context);\n          break;\n        case _contracts.LogLevel.Fatal:\n        default:\n          console.error(this.formatMessage(message, _contracts.LogLevel.Fatal, context), context);\n          break;\n      }\n    }\n  }, {\n    key: \"debug\",\n    value: function debug(message, context) {\n      this.log(_contracts.LogLevel.Debug, message, Object.assign({}, this.context, context));\n    }\n  }, {\n    key: \"info\",\n    value: function info(message, context) {\n      this.log(_contracts.LogLevel.Info, message, Object.assign({}, this.context, context));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn(message, context) {\n      this.log(_contracts.LogLevel.Warn, message, Object.assign({}, this.context, context));\n    }\n  }, {\n    key: \"error\",\n    value: function error(message, context) {\n      this.log(_contracts.LogLevel.Error, message, Object.assign({}, this.context, context));\n    }\n  }, {\n    key: \"fatal\",\n    value: function fatal(message, context) {\n      this.log(_contracts.LogLevel.Fatal, message, Object.assign({}, this.context, context));\n    }\n  }]);\n  return ConsoleLogger;\n}();\n/**\n * Create a new console logger\n *\n * @param context Optional global context which should be included for all logging messages\n */\nexports.ConsoleLogger = ConsoleLogger;\nfunction buildConsoleLogger(context) {\n  return new ConsoleLogger(context);\n}\n//# sourceMappingURL=ConsoleLogger.js.map","\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LoggerBuilder = void 0;\nrequire(\"core-js/modules/es.symbol.to-primitive.js\");\nrequire(\"core-js/modules/es.date.to-primitive.js\");\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nvar _auth = require(\"@nextcloud/auth\");\nvar _contracts = require(\"./contracts\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * @notExported\n */\nvar LoggerBuilder = /*#__PURE__*/function () {\n  function LoggerBuilder(factory) {\n    _classCallCheck(this, LoggerBuilder);\n    _defineProperty(this, \"context\", void 0);\n    _defineProperty(this, \"factory\", void 0);\n    this.context = {};\n    this.factory = factory;\n  }\n\n  /**\n   * Set the app name within the logging context\n   *\n   * @param appId App name\n   */\n  _createClass(LoggerBuilder, [{\n    key: \"setApp\",\n    value: function setApp(appId) {\n      this.context.app = appId;\n      return this;\n    }\n\n    /**\n     * Set the logging level within the logging context\n     *\n     * @param level Logging level\n     */\n  }, {\n    key: \"setLogLevel\",\n    value: function setLogLevel(level) {\n      this.context.level = level;\n      return this;\n    }\n\n    /* eslint-disable jsdoc/no-undefined-types */\n    /**\n     * Set the user id within the logging context\n     * @param uid User ID\n     * @see {@link detectUser}\n     */\n    /* eslint-enable jsdoc/no-undefined-types */\n  }, {\n    key: \"setUid\",\n    value: function setUid(uid) {\n      this.context.uid = uid;\n      return this;\n    }\n\n    /**\n     * Detect the currently logged in user and set the user id within the logging context\n     */\n  }, {\n    key: \"detectUser\",\n    value: function detectUser() {\n      var user = (0, _auth.getCurrentUser)();\n      if (user !== null) {\n        this.context.uid = user.uid;\n      }\n      return this;\n    }\n\n    /**\n     * Detect and use logging level configured in nextcloud config\n     */\n  }, {\n    key: \"detectLogLevel\",\n    value: function detectLogLevel() {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      var self = this;\n\n      // Use arrow function to prevent undefined `this` within event handler\n      var onLoaded = function onLoaded() {\n        if (document.readyState === 'complete' || document.readyState === 'interactive') {\n          var _window$_oc_config$lo, _window$_oc_config;\n          // Up to, including, nextcloud 24 the loglevel was not exposed\n          self.context.level = (_window$_oc_config$lo = (_window$_oc_config = window._oc_config) === null || _window$_oc_config === void 0 ? void 0 : _window$_oc_config.loglevel) !== null && _window$_oc_config$lo !== void 0 ? _window$_oc_config$lo : _contracts.LogLevel.Warn;\n          // Override loglevel if we are in debug mode\n          if (window._oc_debug) {\n            self.context.level = _contracts.LogLevel.Debug;\n          }\n          document.removeEventListener('readystatechange', onLoaded);\n        } else {\n          document.addEventListener('readystatechange', onLoaded);\n        }\n      };\n      onLoaded();\n      return this;\n    }\n\n    /** Build a logger using the logging context and factory */\n  }, {\n    key: \"build\",\n    value: function build() {\n      if (this.context.level === undefined) {\n        // No logging level set manually, use the configured one\n        this.detectLogLevel();\n      }\n      return this.factory(this.context);\n    }\n  }]);\n  return LoggerBuilder;\n}();\nexports.LoggerBuilder = LoggerBuilder;\n//# sourceMappingURL=LoggerBuilder.js.map","\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LogLevel = void 0;\nvar LogLevel = /*#__PURE__*/function (LogLevel) {\n  LogLevel[LogLevel[\"Debug\"] = 0] = \"Debug\";\n  LogLevel[LogLevel[\"Info\"] = 1] = \"Info\";\n  LogLevel[LogLevel[\"Warn\"] = 2] = \"Warn\";\n  LogLevel[LogLevel[\"Error\"] = 3] = \"Error\";\n  LogLevel[LogLevel[\"Fatal\"] = 4] = \"Fatal\";\n  return LogLevel;\n}({});\nexports.LogLevel = LogLevel;\n//# sourceMappingURL=contracts.js.map","\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"LogLevel\", {\n  enumerable: true,\n  get: function get() {\n    return _contracts.LogLevel;\n  }\n});\nexports.getLogger = getLogger;\nexports.getLoggerBuilder = getLoggerBuilder;\nvar _ConsoleLogger = require(\"./ConsoleLogger\");\nvar _LoggerBuilder = require(\"./LoggerBuilder\");\nvar _contracts = require(\"./contracts\");\n/**\n * Build a customized logger instance\n */\nfunction getLoggerBuilder() {\n  return new _LoggerBuilder.LoggerBuilder(_ConsoleLogger.buildConsoleLogger);\n}\n\n/**\n * Get a default logger instance without any configuration\n */\nfunction getLogger() {\n  return getLoggerBuilder().build();\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, Symbol.toStringTag, { value: \"Module\" });\nconst i = require(\"@nextcloud/event-bus\");\nlet r;\nconst o = [];\nfunction a() {\n  if (r === void 0) {\n    const e = document?.getElementsByTagName(\"head\")[0];\n    r = e ? e.getAttribute(\"data-requesttoken\") : null;\n  }\n  return r;\n}\nfunction d(e) {\n  o.push(e);\n}\ni.subscribe(\"csrf-token-update\", (e) => {\n  r = e.token, o.forEach((t) => {\n    try {\n      t(r);\n    } catch (s) {\n      console.error(\"error updating CSRF token observer\", s);\n    }\n  });\n});\nlet n;\nconst u = (e, t) => e ? e.getAttribute(t) : null;\nfunction c() {\n  if (n !== void 0)\n    return n;\n  const e = document?.getElementsByTagName(\"head\")[0];\n  if (!e)\n    return null;\n  const t = u(e, \"data-user\");\n  return t === null ? (n = null, n) : (n = {\n    uid: t,\n    displayName: u(e, \"data-user-displayname\"),\n    isAdmin: !!window._oc_isadmin\n  }, n);\n}\nexports.getCurrentUser = c;\nexports.getRequestToken = a;\nexports.onRequestTokenUpdate = d;\n","\"use strict\";\nObject.defineProperty(exports, Symbol.toStringTag, { value: \"Module\" });\nconst valid = require(\"semver/functions/valid.js\");\nconst major = require(\"semver/functions/major.js\");\nconst _interopDefault = (e) => e && e.__esModule ? e : { default: e };\nconst valid__default = /* @__PURE__ */ _interopDefault(valid);\nconst major__default = /* @__PURE__ */ _interopDefault(major);\nclass ProxyBus {\n  bus;\n  constructor(bus2) {\n    if (typeof bus2.getVersion !== \"function\" || !valid__default.default(bus2.getVersion())) {\n      console.warn(\"Proxying an event bus with an unknown or invalid version\");\n    } else if (major__default.default(bus2.getVersion()) !== major__default.default(this.getVersion())) {\n      console.warn(\n        \"Proxying an event bus of version \" + bus2.getVersion() + \" with \" + this.getVersion()\n      );\n    }\n    this.bus = bus2;\n  }\n  getVersion() {\n    return \"3.3.1\";\n  }\n  subscribe(name, handler) {\n    this.bus.subscribe(name, handler);\n  }\n  unsubscribe(name, handler) {\n    this.bus.unsubscribe(name, handler);\n  }\n  emit(name, event) {\n    this.bus.emit(name, event);\n  }\n}\nclass SimpleBus {\n  handlers = /* @__PURE__ */ new Map();\n  getVersion() {\n    return \"3.3.1\";\n  }\n  subscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).concat(\n        handler\n      )\n    );\n  }\n  unsubscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).filter((h) => h !== handler)\n    );\n  }\n  emit(name, event) {\n    (this.handlers.get(name) || []).forEach((h) => {\n      try {\n        h(event);\n      } catch (e) {\n        console.error(\"could not invoke event listener\", e);\n      }\n    });\n  }\n}\nlet bus = null;\nfunction getBus() {\n  if (bus !== null) {\n    return bus;\n  }\n  if (typeof window === \"undefined\") {\n    return new Proxy({}, {\n      get: () => {\n        return () => console.error(\n          \"Window not available, EventBus can not be established!\"\n        );\n      }\n    });\n  }\n  if (window.OC?._eventBus && typeof window._nc_event_bus === \"undefined\") {\n    console.warn(\n      \"found old event bus instance at OC._eventBus. Update your version!\"\n    );\n    window._nc_event_bus = window.OC._eventBus;\n  }\n  if (typeof window?._nc_event_bus !== \"undefined\") {\n    bus = new ProxyBus(window._nc_event_bus);\n  } else {\n    bus = window._nc_event_bus = new SimpleBus();\n  }\n  return bus;\n}\nfunction subscribe(name, handler) {\n  getBus().subscribe(name, handler);\n}\nfunction unsubscribe(name, handler) {\n  getBus().unsubscribe(name, handler);\n}\nfunction emit(name, event) {\n  getBus().emit(name, event);\n}\nexports.ProxyBus = ProxyBus;\nexports.SimpleBus = SimpleBus;\nexports.emit = emit;\nexports.subscribe = subscribe;\nexports.unsubscribe = unsubscribe;\n","'use strict';\nvar isPossiblePrototype = require('../internals/is-possible-prototype');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (isPossiblePrototype(argument)) return argument;\n  throw new $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] === undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis([].slice);\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\n// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\n\nvar $TypeError = TypeError;\n\n// `Date.prototype[@@toPrimitive](hint)` method implementation\n// https://tc39.es/ecma262/#sec-date.prototype-@@toprimitive\nmodule.exports = function (hint) {\n  anObject(this);\n  if (hint === 'string' || hint === 'default') hint = 'string';\n  else if (hint !== 'number') throw new $TypeError('Incorrect hint');\n  return ordinaryToPrimitive(this, hint);\n};\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\n// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","'use strict';\n// in old WebKit versions, `element.classList` is not an instance of global `DOMTokenList`\nvar documentCreateElement = require('../internals/document-create-element');\n\nvar classList = documentCreateElement('span').classList;\nvar DOMTokenListPrototype = classList && classList.constructor && classList.constructor.prototype;\n\nmodule.exports = DOMTokenListPrototype === Object.prototype ? undefined : DOMTokenListPrototype;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isArray = require('../internals/is-array');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof-raw');\nvar toString = require('../internals/to-string');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (replacer) {\n  if (isCallable(replacer)) return replacer;\n  if (!isArray(replacer)) return;\n  var rawLength = replacer.length;\n  var keys = [];\n  for (var i = 0; i < rawLength; i++) {\n    var element = replacer[i];\n    if (typeof element == 'string') push(keys, element);\n    else if (typeof element == 'number' || classof(element) === 'Number' || classof(element) === 'String') push(keys, toString(element));\n  }\n  var keysLength = keys.length;\n  var root = true;\n  return function (key, value) {\n    if (root) {\n      root = false;\n      return value;\n    }\n    if (isArray(this)) return value;\n    for (var j = 0; j < keysLength; j++) if (keys[j] === key) return value;\n  };\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nmodule.exports = function (argument) {\n  return isObject(argument) || argument === null;\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar IS_PURE = require('../internals/is-pure');\nvar FunctionName = require('../internals/function-name');\nvar isCallable = require('../internals/is-callable');\nvar createIteratorConstructor = require('../internals/iterator-create-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar PROPER_FUNCTION_NAME = FunctionName.PROPER;\nvar CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND && KIND in IterablePrototype) return IterablePrototype[KIND];\n\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    }\n\n    return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME === 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (!isCallable(CurrentIteratorPrototype[ITERATOR])) {\n          defineBuiltIn(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n  if (PROPER_FUNCTION_NAME && DEFAULT === VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    if (!IS_PURE && CONFIGURABLE_FUNCTION_NAME) {\n      createNonEnumerableProperty(IterablePrototype, 'name', VALUES);\n    } else {\n      INCORRECT_VALUES_NAME = true;\n      defaultIterator = function values() { return call(nativeIterator, this); };\n    }\n  }\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        defineBuiltIn(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    defineBuiltIn(IterablePrototype, ITERATOR, defaultIterator, { name: DEFAULT });\n  }\n  Iterators[NAME] = defaultIterator;\n\n  return methods;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar call = require('../internals/function-call');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\nvar concat = uncurryThis([].concat);\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol('assign detection');\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] !== 7 || objectKeys($assign({}, B)).join('') !== alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || call(propertyIsEnumerable, S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","'use strict';\n/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar classof = require('../internals/classof-raw');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar arraySlice = require('../internals/array-slice');\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return arraySlice(windowNames);\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && classof(it) === 'Window'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","'use strict';\n/* eslint-disable no-proto -- safe */\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar isObject = require('../internals/is-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    requireObjectCoercible(O);\n    aPossiblePrototype(proto);\n    if (!isObject(O)) return O;\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","'use strict';\nvar global = require('../internals/global');\n\nmodule.exports = global;\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (target, TAG, STATIC) {\n  if (target && !STATIC) target = target.prototype;\n  if (target && !hasOwn(target, TO_STRING_TAG)) {\n    defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar ltrim = RegExp('^[' + whitespaces + ']+');\nvar rtrim = RegExp('(^|[^' + whitespaces + '])[' + whitespaces + ']+$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '$1');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar getBuiltIn = require('../internals/get-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nmodule.exports = function () {\n  var Symbol = getBuiltIn('Symbol');\n  var SymbolPrototype = Symbol && Symbol.prototype;\n  var valueOf = SymbolPrototype && SymbolPrototype.valueOf;\n  var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n  if (SymbolPrototype && !SymbolPrototype[TO_PRIMITIVE]) {\n    // `Symbol.prototype[@@toPrimitive]` method\n    // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\n    // eslint-disable-next-line no-unused-vars -- required for .length\n    defineBuiltIn(SymbolPrototype, TO_PRIMITIVE, function (hint) {\n      return call(valueOf, this);\n    }, { arity: 1 });\n  }\n};\n","'use strict';\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\n/* eslint-disable es/no-symbol -- safe */\nmodule.exports = NATIVE_SYMBOL && !!Symbol['for'] && !!Symbol.keyFor;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = uncurryThis(1.0.valueOf);\n","'use strict';\nvar path = require('../internals/path');\nvar hasOwn = require('../internals/has-own-property');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!hasOwn(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","'use strict';\n// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineProperty = require('../internals/object-define-property').f;\nvar defineIterator = require('../internals/iterator-define');\nvar createIterResultObject = require('../internals/create-iter-result-object');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return createIterResultObject(undefined, true);\n  }\n  switch (state.kind) {\n    case 'keys': return createIterResultObject(index, false);\n    case 'values': return createIterResultObject(target[index], false);\n  } return createIterResultObject([index, target[index]], false);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nvar values = Iterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n// V8 ~ Chrome 45- bug\nif (!IS_PURE && DESCRIPTORS && values.name !== 'values') try {\n  defineProperty(values, 'name', { value: 'values' });\n} catch (error) { /* empty */ }\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar dateToPrimitive = require('../internals/date-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar DatePrototype = Date.prototype;\n\n// `Date.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-date.prototype-@@toprimitive\nif (!hasOwn(DatePrototype, TO_PRIMITIVE)) {\n  defineBuiltIn(DatePrototype, TO_PRIMITIVE, dateToPrimitive);\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar isSymbol = require('../internals/is-symbol');\nvar arraySlice = require('../internals/array-slice');\nvar getReplacerFunction = require('../internals/get-json-replacer-function');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nvar $String = String;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar WRONG_SYMBOLS_CONVERSION = !NATIVE_SYMBOL || fails(function () {\n  var symbol = getBuiltIn('Symbol')('stringify detection');\n  // MS Edge converts symbol values to JSON as {}\n  return $stringify([symbol]) !== '[null]'\n    // WebKit converts symbol values to JSON as null\n    || $stringify({ a: symbol }) !== '{}'\n    // V8 throws on boxed symbols\n    || $stringify(Object(symbol)) !== '{}';\n});\n\n// https://github.com/tc39/proposal-well-formed-stringify\nvar ILL_FORMED_UNICODE = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nvar stringifyWithSymbolsFix = function (it, replacer) {\n  var args = arraySlice(arguments);\n  var $replacer = getReplacerFunction(replacer);\n  if (!isCallable($replacer) && (it === undefined || isSymbol(it))) return; // IE8 returns string on undefined\n  args[1] = function (key, value) {\n    // some old implementations (like WebKit) could pass numbers as keys\n    if (isCallable($replacer)) value = call($replacer, this, $String(key), value);\n    if (!isSymbol(value)) return value;\n  };\n  return apply($stringify, null, args);\n};\n\nvar fixIllFormed = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  $({ target: 'JSON', stat: true, arity: 3, forced: WRONG_SYMBOLS_CONVERSION || ILL_FORMED_UNICODE }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = arraySlice(arguments);\n      var result = apply(WRONG_SYMBOLS_CONVERSION ? stringifyWithSymbolsFix : $stringify, null, args);\n      return ILL_FORMED_UNICODE && typeof result == 'string' ? replace(result, tester, fixIllFormed) : result;\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar path = require('../internals/path');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isForced = require('../internals/is-forced');\nvar hasOwn = require('../internals/has-own-property');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar isSymbol = require('../internals/is-symbol');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar thisNumberValue = require('../internals/this-number-value');\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar PureNumberNamespace = path[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\nvar TypeError = global.TypeError;\nvar stringSlice = uncurryThis(''.slice);\nvar charCodeAt = uncurryThis(''.charCodeAt);\n\n// `ToNumeric` abstract operation\n// https://tc39.es/ecma262/#sec-tonumeric\nvar toNumeric = function (value) {\n  var primValue = toPrimitive(value, 'number');\n  return typeof primValue == 'bigint' ? primValue : toNumber(primValue);\n};\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, 'number');\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (isSymbol(it)) throw new TypeError('Cannot convert a Symbol value to a number');\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = charCodeAt(it, 0);\n    if (first === 43 || first === 45) {\n      third = charCodeAt(it, 2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (charCodeAt(it, 1)) {\n        // fast equal of /^0b[01]+$/i\n        case 66:\n        case 98:\n          radix = 2;\n          maxCode = 49;\n          break;\n        // fast equal of /^0o[0-7]+$/i\n        case 79:\n        case 111:\n          radix = 8;\n          maxCode = 55;\n          break;\n        default:\n          return +it;\n      }\n      digits = stringSlice(it, 2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = charCodeAt(digits, index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nvar FORCED = isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'));\n\nvar calledWithNew = function (dummy) {\n  // includes check on 1..constructor(foo) case\n  return isPrototypeOf(NumberPrototype, dummy) && fails(function () { thisNumberValue(dummy); });\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nvar NumberWrapper = function Number(value) {\n  var n = arguments.length < 1 ? 0 : NativeNumber(toNumeric(value));\n  return calledWithNew(this) ? inheritIfRequired(Object(n), this, NumberWrapper) : n;\n};\n\nNumberWrapper.prototype = NumberPrototype;\nif (FORCED && !IS_PURE) NumberPrototype.constructor = NumberWrapper;\n\n$({ global: true, constructor: true, wrap: true, forced: FORCED }, {\n  Number: NumberWrapper\n});\n\n// Use `internal/copy-constructor-properties` helper in `core-js@4`\nvar copyConstructorProperties = function (target, source) {\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(source) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (hasOwn(source, key = keys[j]) && !hasOwn(target, key)) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n\nif (IS_PURE && PureNumberNamespace) copyConstructorProperties(path[NUMBER], PureNumberNamespace);\nif (FORCED || IS_PURE) copyConstructorProperties(path[NUMBER], NativeNumber);\n","'use strict';\nvar $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, arity: 2, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\n// eslint-disable-next-line es/no-object-defineproperty -- safe\n$({ target: 'Object', stat: true, forced: Object.defineProperty !== defineProperty, sham: !DESCRIPTORS }, {\n  defineProperty: defineProperty\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar fails = require('../internals/fails');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar toObject = require('../internals/to-object');\n\n// V8 ~ Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FORCED = !NATIVE_SYMBOL || fails(function () { getOwnPropertySymbolsModule.f(1); });\n\n// `Object.getOwnPropertySymbols` method\n// https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n$({ target: 'Object', stat: true, forced: FORCED }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    var $getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n    return $getOwnPropertySymbols ? $getOwnPropertySymbols(toObject(it)) : [];\n  }\n});\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  defineBuiltIn(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar toString = require('../internals/to-string');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/iterator-define');\nvar createIterResultObject = require('../internals/create-iter-result-object');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: toString(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return createIterResultObject(undefined, true);\n  point = charAt(string, index);\n  state.index += point.length;\n  return createIterResultObject(point, false);\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar fails = require('../internals/fails');\nvar hasOwn = require('../internals/has-own-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar $toString = require('../internals/to-string');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/well-known-symbol-define');\nvar defineSymbolToPrimitive = require('../internals/symbol-define-to-primitive');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\n\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\n\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar SymbolPrototype = $Symbol && $Symbol[PROTOTYPE];\nvar RangeError = global.RangeError;\nvar TypeError = global.TypeError;\nvar QObject = global.QObject;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar push = uncurryThis([].push);\n\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar WellKnownSymbolsStore = shared('wks');\n\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar fallbackDefineProperty = function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n};\n\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a !== 7;\n}) ? fallbackDefineProperty : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate(SymbolPrototype);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPropertyKey(P);\n  anObject(Attributes);\n  if (hasOwn(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!hasOwn(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, nativeObjectCreate(null)));\n      O[HIDDEN][key] = true;\n    } else {\n      if (hasOwn(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || call($propertyIsEnumerable, properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPropertyKey(V);\n  var enumerable = call(nativePropertyIsEnumerable, this, P);\n  if (this === ObjectPrototype && hasOwn(AllSymbols, P) && !hasOwn(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !hasOwn(this, P) || !hasOwn(AllSymbols, P) || hasOwn(this, HIDDEN) && this[HIDDEN][P]\n    ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPropertyKey(P);\n  if (it === ObjectPrototype && hasOwn(AllSymbols, key) && !hasOwn(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && hasOwn(AllSymbols, key) && !(hasOwn(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!hasOwn(AllSymbols, key) && !hasOwn(hiddenKeys, key)) push(result, key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function (O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (hasOwn(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || hasOwn(ObjectPrototype, key))) {\n      push(result, AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (isPrototypeOf(SymbolPrototype, this)) throw new TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      var $this = this === undefined ? global : this;\n      if ($this === ObjectPrototype) call(setter, ObjectPrototypeSymbols, value);\n      if (hasOwn($this, HIDDEN) && hasOwn($this[HIDDEN], tag)) $this[HIDDEN][tag] = false;\n      var descriptor = createPropertyDescriptor(1, value);\n      try {\n        setSymbolDescriptor($this, tag, descriptor);\n      } catch (error) {\n        if (!(error instanceof RangeError)) throw error;\n        fallbackDefineProperty($this, tag, descriptor);\n      }\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  SymbolPrototype = $Symbol[PROTOTYPE];\n\n  defineBuiltIn(SymbolPrototype, 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  defineBuiltIn($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  definePropertiesModule.f = $defineProperties;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    defineBuiltInAccessor(SymbolPrototype, 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      defineBuiltIn(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, constructor: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames\n});\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\ndefineSymbolToPrimitive();\n\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('description detection')) === 'Symbol(description detection)';\n  var thisSymbolValue = uncurryThis(SymbolPrototype.valueOf);\n  var symbolDescriptiveString = uncurryThis(SymbolPrototype.toString);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineBuiltInAccessor(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = thisSymbolValue(this);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var string = symbolDescriptiveString(symbol);\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, constructor: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar toString = require('../internals/to-string');\nvar shared = require('../internals/shared');\nvar NATIVE_SYMBOL_REGISTRY = require('../internals/symbol-registry-detection');\n\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\n\n// `Symbol.for` method\n// https://tc39.es/ecma262/#sec-symbol.for\n$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {\n  'for': function (key) {\n    var string = toString(key);\n    if (hasOwn(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = getBuiltIn('Symbol')(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  }\n});\n","'use strict';\nvar defineWellKnownSymbol = require('../internals/well-known-symbol-define');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","'use strict';\n// TODO: Remove this module from `core-js@4` since it's split to modules listed below\nrequire('../modules/es.symbol.constructor');\nrequire('../modules/es.symbol.for');\nrequire('../modules/es.symbol.key-for');\nrequire('../modules/es.json.stringify');\nrequire('../modules/es.object.get-own-property-symbols');\n","'use strict';\nvar $ = require('../internals/export');\nvar hasOwn = require('../internals/has-own-property');\nvar isSymbol = require('../internals/is-symbol');\nvar tryToString = require('../internals/try-to-string');\nvar shared = require('../internals/shared');\nvar NATIVE_SYMBOL_REGISTRY = require('../internals/symbol-registry-detection');\n\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\n\n// `Symbol.keyFor` method\n// https://tc39.es/ecma262/#sec-symbol.keyfor\n$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw new TypeError(tryToString(sym) + ' is not a symbol');\n    if (hasOwn(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  }\n});\n","'use strict';\nvar defineWellKnownSymbol = require('../internals/well-known-symbol-define');\nvar defineSymbolToPrimitive = require('../internals/symbol-define-to-primitive');\n\n// `Symbol.toPrimitive` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.toprimitive\ndefineWellKnownSymbol('toPrimitive');\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\ndefineSymbolToPrimitive();\n","'use strict';\nvar global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nvar handlePrototype = function (CollectionPrototype, COLLECTION_NAME) {\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    setToStringTag(CollectionPrototype, COLLECTION_NAME, true);\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype, COLLECTION_NAME);\n}\n\nhandlePrototype(DOMTokenListPrototype, 'DOMTokenList');\n","import { getBuilder } from \"@nextcloud/browser-storage\";\nimport { EmojiIndex, frequently } from \"emoji-mart-vue-fast\";\nimport data from \"emoji-mart-vue-fast/data/all.json\";\n/**\n * @copyright Copyright (c) 2021 Jonas Meurer <jonas@freesources.org>\n *\n * @author Jonas Meurer <jonas@freesources.org>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst storage = getBuilder(\"nextcloud-vue\").persist(true).build();\nlet emojiIndex;\nvar EmojiSkinTone = /* @__PURE__ */ ((EmojiSkinTone2) => {\n  EmojiSkinTone2[EmojiSkinTone2[\"Neutral\"] = 1] = \"Neutral\";\n  EmojiSkinTone2[EmojiSkinTone2[\"Light\"] = 2] = \"Light\";\n  EmojiSkinTone2[EmojiSkinTone2[\"MediumLight\"] = 3] = \"MediumLight\";\n  EmojiSkinTone2[EmojiSkinTone2[\"Medium\"] = 4] = \"Medium\";\n  EmojiSkinTone2[EmojiSkinTone2[\"MediumDark\"] = 5] = \"MediumDark\";\n  EmojiSkinTone2[EmojiSkinTone2[\"Dark\"] = 6] = \"Dark\";\n  return EmojiSkinTone2;\n})(EmojiSkinTone || {});\nconst emojiSearch = (query, maxResults = 10) => {\n  if (!emojiIndex) {\n    emojiIndex = new EmojiIndex(data);\n  }\n  const currentSkinTone = getCurrentSkinTone();\n  let results;\n  if (query) {\n    results = emojiIndex.search(\":\".concat(query), maxResults);\n    if (results.length < maxResults) {\n      results = results.concat(emojiIndex.search(query, maxResults - results.length));\n    }\n  } else {\n    results = frequently.get(maxResults).map((id) => emojiIndex.emoji(id)) || [];\n  }\n  return results.map((emoji) => emoji.getSkin(currentSkinTone));\n};\nconst emojiAddRecent = function(id) {\n  frequently.add(id);\n};\nconst getCurrentSkinTone = () => {\n  var _a;\n  const skinTone = Number.parseInt((_a = storage.getItem(\"NcEmojiPicker::currentSkinTone\")) != null ? _a : \"1\");\n  return Math.min(\n    Math.max(\n      skinTone,\n      1\n      /* Neutral */\n    ),\n    6\n    /* Dark */\n  );\n};\nconst setCurrentSkinTone = (skinTone) => {\n  skinTone = Math.min(\n    Math.max(\n      skinTone,\n      1\n      /* Neutral */\n    ),\n    6\n    /* Dark */\n  );\n  storage.setItem(\"NcEmojiPicker::currentSkinTone\", skinTone.toString());\n};\nexport {\n  EmojiSkinTone as E,\n  emojiAddRecent as a,\n  emojiSearch as e,\n  getCurrentSkinTone as g,\n  setCurrentSkinTone as s\n};\n","import { ReplaceError, Slice, Fragment, MarkType, Mark } from 'prosemirror-model';\n\n// Recovery values encode a range index and an offset. They are\n// represented as numbers, because tons of them will be created when\n// mapping, for example, a large number of decorations. The number's\n// lower 16 bits provide the index, the remaining bits the offset.\n//\n// Note: We intentionally don't use bit shift operators to en- and\n// decode these, since those clip to 32 bits, which we might in rare\n// cases want to overflow. A 64-bit float can represent 48-bit\n// integers precisely.\nconst lower16 = 0xffff;\nconst factor16 = Math.pow(2, 16);\nfunction makeRecover(index, offset) { return index + offset * factor16; }\nfunction recoverIndex(value) { return value & lower16; }\nfunction recoverOffset(value) { return (value - (value & lower16)) / factor16; }\nconst DEL_BEFORE = 1, DEL_AFTER = 2, DEL_ACROSS = 4, DEL_SIDE = 8;\n/**\nAn object representing a mapped position with extra\ninformation.\n*/\nclass MapResult {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The mapped version of the position.\n    */\n    pos, \n    /**\n    @internal\n    */\n    delInfo, \n    /**\n    @internal\n    */\n    recover) {\n        this.pos = pos;\n        this.delInfo = delInfo;\n        this.recover = recover;\n    }\n    /**\n    Tells you whether the position was deleted, that is, whether the\n    step removed the token on the side queried (via the `assoc`)\n    argument from the document.\n    */\n    get deleted() { return (this.delInfo & DEL_SIDE) > 0; }\n    /**\n    Tells you whether the token before the mapped position was deleted.\n    */\n    get deletedBefore() { return (this.delInfo & (DEL_BEFORE | DEL_ACROSS)) > 0; }\n    /**\n    True when the token after the mapped position was deleted.\n    */\n    get deletedAfter() { return (this.delInfo & (DEL_AFTER | DEL_ACROSS)) > 0; }\n    /**\n    Tells whether any of the steps mapped through deletes across the\n    position (including both the token before and after the\n    position).\n    */\n    get deletedAcross() { return (this.delInfo & DEL_ACROSS) > 0; }\n}\n/**\nA map describing the deletions and insertions made by a step, which\ncan be used to find the correspondence between positions in the\npre-step version of a document and the same position in the\npost-step version.\n*/\nclass StepMap {\n    /**\n    Create a position map. The modifications to the document are\n    represented as an array of numbers, in which each group of three\n    represents a modified chunk as `[start, oldSize, newSize]`.\n    */\n    constructor(\n    /**\n    @internal\n    */\n    ranges, \n    /**\n    @internal\n    */\n    inverted = false) {\n        this.ranges = ranges;\n        this.inverted = inverted;\n        if (!ranges.length && StepMap.empty)\n            return StepMap.empty;\n    }\n    /**\n    @internal\n    */\n    recover(value) {\n        let diff = 0, index = recoverIndex(value);\n        if (!this.inverted)\n            for (let i = 0; i < index; i++)\n                diff += this.ranges[i * 3 + 2] - this.ranges[i * 3 + 1];\n        return this.ranges[index * 3] + diff + recoverOffset(value);\n    }\n    mapResult(pos, assoc = 1) { return this._map(pos, assoc, false); }\n    map(pos, assoc = 1) { return this._map(pos, assoc, true); }\n    /**\n    @internal\n    */\n    _map(pos, assoc, simple) {\n        let diff = 0, oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;\n        for (let i = 0; i < this.ranges.length; i += 3) {\n            let start = this.ranges[i] - (this.inverted ? diff : 0);\n            if (start > pos)\n                break;\n            let oldSize = this.ranges[i + oldIndex], newSize = this.ranges[i + newIndex], end = start + oldSize;\n            if (pos <= end) {\n                let side = !oldSize ? assoc : pos == start ? -1 : pos == end ? 1 : assoc;\n                let result = start + diff + (side < 0 ? 0 : newSize);\n                if (simple)\n                    return result;\n                let recover = pos == (assoc < 0 ? start : end) ? null : makeRecover(i / 3, pos - start);\n                let del = pos == start ? DEL_AFTER : pos == end ? DEL_BEFORE : DEL_ACROSS;\n                if (assoc < 0 ? pos != start : pos != end)\n                    del |= DEL_SIDE;\n                return new MapResult(result, del, recover);\n            }\n            diff += newSize - oldSize;\n        }\n        return simple ? pos + diff : new MapResult(pos + diff, 0, null);\n    }\n    /**\n    @internal\n    */\n    touches(pos, recover) {\n        let diff = 0, index = recoverIndex(recover);\n        let oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;\n        for (let i = 0; i < this.ranges.length; i += 3) {\n            let start = this.ranges[i] - (this.inverted ? diff : 0);\n            if (start > pos)\n                break;\n            let oldSize = this.ranges[i + oldIndex], end = start + oldSize;\n            if (pos <= end && i == index * 3)\n                return true;\n            diff += this.ranges[i + newIndex] - oldSize;\n        }\n        return false;\n    }\n    /**\n    Calls the given function on each of the changed ranges included in\n    this map.\n    */\n    forEach(f) {\n        let oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;\n        for (let i = 0, diff = 0; i < this.ranges.length; i += 3) {\n            let start = this.ranges[i], oldStart = start - (this.inverted ? diff : 0), newStart = start + (this.inverted ? 0 : diff);\n            let oldSize = this.ranges[i + oldIndex], newSize = this.ranges[i + newIndex];\n            f(oldStart, oldStart + oldSize, newStart, newStart + newSize);\n            diff += newSize - oldSize;\n        }\n    }\n    /**\n    Create an inverted version of this map. The result can be used to\n    map positions in the post-step document to the pre-step document.\n    */\n    invert() {\n        return new StepMap(this.ranges, !this.inverted);\n    }\n    /**\n    @internal\n    */\n    toString() {\n        return (this.inverted ? \"-\" : \"\") + JSON.stringify(this.ranges);\n    }\n    /**\n    Create a map that moves all positions by offset `n` (which may be\n    negative). This can be useful when applying steps meant for a\n    sub-document to a larger document, or vice-versa.\n    */\n    static offset(n) {\n        return n == 0 ? StepMap.empty : new StepMap(n < 0 ? [0, -n, 0] : [0, 0, n]);\n    }\n}\n/**\nA StepMap that contains no changed ranges.\n*/\nStepMap.empty = new StepMap([]);\n/**\nA mapping represents a pipeline of zero or more [step\nmaps](https://prosemirror.net/docs/ref/#transform.StepMap). It has special provisions for losslessly\nhandling mapping positions through a series of steps in which some\nsteps are inverted versions of earlier steps. (This comes up when\n‘[rebasing](/docs/guide/#transform.rebasing)’ steps for\ncollaboration or history management.)\n*/\nclass Mapping {\n    /**\n    Create a new mapping with the given position maps.\n    */\n    constructor(\n    /**\n    The step maps in this mapping.\n    */\n    maps = [], \n    /**\n    @internal\n    */\n    mirror, \n    /**\n    The starting position in the `maps` array, used when `map` or\n    `mapResult` is called.\n    */\n    from = 0, \n    /**\n    The end position in the `maps` array.\n    */\n    to = maps.length) {\n        this.maps = maps;\n        this.mirror = mirror;\n        this.from = from;\n        this.to = to;\n    }\n    /**\n    Create a mapping that maps only through a part of this one.\n    */\n    slice(from = 0, to = this.maps.length) {\n        return new Mapping(this.maps, this.mirror, from, to);\n    }\n    /**\n    @internal\n    */\n    copy() {\n        return new Mapping(this.maps.slice(), this.mirror && this.mirror.slice(), this.from, this.to);\n    }\n    /**\n    Add a step map to the end of this mapping. If `mirrors` is\n    given, it should be the index of the step map that is the mirror\n    image of this one.\n    */\n    appendMap(map, mirrors) {\n        this.to = this.maps.push(map);\n        if (mirrors != null)\n            this.setMirror(this.maps.length - 1, mirrors);\n    }\n    /**\n    Add all the step maps in a given mapping to this one (preserving\n    mirroring information).\n    */\n    appendMapping(mapping) {\n        for (let i = 0, startSize = this.maps.length; i < mapping.maps.length; i++) {\n            let mirr = mapping.getMirror(i);\n            this.appendMap(mapping.maps[i], mirr != null && mirr < i ? startSize + mirr : undefined);\n        }\n    }\n    /**\n    Finds the offset of the step map that mirrors the map at the\n    given offset, in this mapping (as per the second argument to\n    `appendMap`).\n    */\n    getMirror(n) {\n        if (this.mirror)\n            for (let i = 0; i < this.mirror.length; i++)\n                if (this.mirror[i] == n)\n                    return this.mirror[i + (i % 2 ? -1 : 1)];\n    }\n    /**\n    @internal\n    */\n    setMirror(n, m) {\n        if (!this.mirror)\n            this.mirror = [];\n        this.mirror.push(n, m);\n    }\n    /**\n    Append the inverse of the given mapping to this one.\n    */\n    appendMappingInverted(mapping) {\n        for (let i = mapping.maps.length - 1, totalSize = this.maps.length + mapping.maps.length; i >= 0; i--) {\n            let mirr = mapping.getMirror(i);\n            this.appendMap(mapping.maps[i].invert(), mirr != null && mirr > i ? totalSize - mirr - 1 : undefined);\n        }\n    }\n    /**\n    Create an inverted version of this mapping.\n    */\n    invert() {\n        let inverse = new Mapping;\n        inverse.appendMappingInverted(this);\n        return inverse;\n    }\n    /**\n    Map a position through this mapping.\n    */\n    map(pos, assoc = 1) {\n        if (this.mirror)\n            return this._map(pos, assoc, true);\n        for (let i = this.from; i < this.to; i++)\n            pos = this.maps[i].map(pos, assoc);\n        return pos;\n    }\n    /**\n    Map a position through this mapping, returning a mapping\n    result.\n    */\n    mapResult(pos, assoc = 1) { return this._map(pos, assoc, false); }\n    /**\n    @internal\n    */\n    _map(pos, assoc, simple) {\n        let delInfo = 0;\n        for (let i = this.from; i < this.to; i++) {\n            let map = this.maps[i], result = map.mapResult(pos, assoc);\n            if (result.recover != null) {\n                let corr = this.getMirror(i);\n                if (corr != null && corr > i && corr < this.to) {\n                    i = corr;\n                    pos = this.maps[corr].recover(result.recover);\n                    continue;\n                }\n            }\n            delInfo |= result.delInfo;\n            pos = result.pos;\n        }\n        return simple ? pos : new MapResult(pos, delInfo, null);\n    }\n}\n\nconst stepsByID = Object.create(null);\n/**\nA step object represents an atomic change. It generally applies\nonly to the document it was created for, since the positions\nstored in it will only make sense for that document.\n\nNew steps are defined by creating classes that extend `Step`,\noverriding the `apply`, `invert`, `map`, `getMap` and `fromJSON`\nmethods, and registering your class with a unique\nJSON-serialization identifier using\n[`Step.jsonID`](https://prosemirror.net/docs/ref/#transform.Step^jsonID).\n*/\nclass Step {\n    /**\n    Get the step map that represents the changes made by this step,\n    and which can be used to transform between positions in the old\n    and the new document.\n    */\n    getMap() { return StepMap.empty; }\n    /**\n    Try to merge this step with another one, to be applied directly\n    after it. Returns the merged step when possible, null if the\n    steps can't be merged.\n    */\n    merge(other) { return null; }\n    /**\n    Deserialize a step from its JSON representation. Will call\n    through to the step class' own implementation of this method.\n    */\n    static fromJSON(schema, json) {\n        if (!json || !json.stepType)\n            throw new RangeError(\"Invalid input for Step.fromJSON\");\n        let type = stepsByID[json.stepType];\n        if (!type)\n            throw new RangeError(`No step type ${json.stepType} defined`);\n        return type.fromJSON(schema, json);\n    }\n    /**\n    To be able to serialize steps to JSON, each step needs a string\n    ID to attach to its JSON representation. Use this method to\n    register an ID for your step classes. Try to pick something\n    that's unlikely to clash with steps from other modules.\n    */\n    static jsonID(id, stepClass) {\n        if (id in stepsByID)\n            throw new RangeError(\"Duplicate use of step JSON ID \" + id);\n        stepsByID[id] = stepClass;\n        stepClass.prototype.jsonID = id;\n        return stepClass;\n    }\n}\n/**\nThe result of [applying](https://prosemirror.net/docs/ref/#transform.Step.apply) a step. Contains either a\nnew document or a failure value.\n*/\nclass StepResult {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The transformed document, if successful.\n    */\n    doc, \n    /**\n    The failure message, if unsuccessful.\n    */\n    failed) {\n        this.doc = doc;\n        this.failed = failed;\n    }\n    /**\n    Create a successful step result.\n    */\n    static ok(doc) { return new StepResult(doc, null); }\n    /**\n    Create a failed step result.\n    */\n    static fail(message) { return new StepResult(null, message); }\n    /**\n    Call [`Node.replace`](https://prosemirror.net/docs/ref/#model.Node.replace) with the given\n    arguments. Create a successful result if it succeeds, and a\n    failed one if it throws a `ReplaceError`.\n    */\n    static fromReplace(doc, from, to, slice) {\n        try {\n            return StepResult.ok(doc.replace(from, to, slice));\n        }\n        catch (e) {\n            if (e instanceof ReplaceError)\n                return StepResult.fail(e.message);\n            throw e;\n        }\n    }\n}\n\nfunction mapFragment(fragment, f, parent) {\n    let mapped = [];\n    for (let i = 0; i < fragment.childCount; i++) {\n        let child = fragment.child(i);\n        if (child.content.size)\n            child = child.copy(mapFragment(child.content, f, child));\n        if (child.isInline)\n            child = f(child, parent, i);\n        mapped.push(child);\n    }\n    return Fragment.fromArray(mapped);\n}\n/**\nAdd a mark to all inline content between two positions.\n*/\nclass AddMarkStep extends Step {\n    /**\n    Create a mark step.\n    */\n    constructor(\n    /**\n    The start of the marked range.\n    */\n    from, \n    /**\n    The end of the marked range.\n    */\n    to, \n    /**\n    The mark to add.\n    */\n    mark) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let oldSlice = doc.slice(this.from, this.to), $from = doc.resolve(this.from);\n        let parent = $from.node($from.sharedDepth(this.to));\n        let slice = new Slice(mapFragment(oldSlice.content, (node, parent) => {\n            if (!node.isAtom || !parent.type.allowsMarkType(this.mark.type))\n                return node;\n            return node.mark(this.mark.addToSet(node.marks));\n        }, parent), oldSlice.openStart, oldSlice.openEnd);\n        return StepResult.fromReplace(doc, this.from, this.to, slice);\n    }\n    invert() {\n        return new RemoveMarkStep(this.from, this.to, this.mark);\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        if (from.deleted && to.deleted || from.pos >= to.pos)\n            return null;\n        return new AddMarkStep(from.pos, to.pos, this.mark);\n    }\n    merge(other) {\n        if (other instanceof AddMarkStep &&\n            other.mark.eq(this.mark) &&\n            this.from <= other.to && this.to >= other.from)\n            return new AddMarkStep(Math.min(this.from, other.from), Math.max(this.to, other.to), this.mark);\n        return null;\n    }\n    toJSON() {\n        return { stepType: \"addMark\", mark: this.mark.toJSON(),\n            from: this.from, to: this.to };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\")\n            throw new RangeError(\"Invalid input for AddMarkStep.fromJSON\");\n        return new AddMarkStep(json.from, json.to, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"addMark\", AddMarkStep);\n/**\nRemove a mark from all inline content between two positions.\n*/\nclass RemoveMarkStep extends Step {\n    /**\n    Create a mark-removing step.\n    */\n    constructor(\n    /**\n    The start of the unmarked range.\n    */\n    from, \n    /**\n    The end of the unmarked range.\n    */\n    to, \n    /**\n    The mark to remove.\n    */\n    mark) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let oldSlice = doc.slice(this.from, this.to);\n        let slice = new Slice(mapFragment(oldSlice.content, node => {\n            return node.mark(this.mark.removeFromSet(node.marks));\n        }, doc), oldSlice.openStart, oldSlice.openEnd);\n        return StepResult.fromReplace(doc, this.from, this.to, slice);\n    }\n    invert() {\n        return new AddMarkStep(this.from, this.to, this.mark);\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        if (from.deleted && to.deleted || from.pos >= to.pos)\n            return null;\n        return new RemoveMarkStep(from.pos, to.pos, this.mark);\n    }\n    merge(other) {\n        if (other instanceof RemoveMarkStep &&\n            other.mark.eq(this.mark) &&\n            this.from <= other.to && this.to >= other.from)\n            return new RemoveMarkStep(Math.min(this.from, other.from), Math.max(this.to, other.to), this.mark);\n        return null;\n    }\n    toJSON() {\n        return { stepType: \"removeMark\", mark: this.mark.toJSON(),\n            from: this.from, to: this.to };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\")\n            throw new RangeError(\"Invalid input for RemoveMarkStep.fromJSON\");\n        return new RemoveMarkStep(json.from, json.to, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"removeMark\", RemoveMarkStep);\n/**\nAdd a mark to a specific node.\n*/\nclass AddNodeMarkStep extends Step {\n    /**\n    Create a node mark step.\n    */\n    constructor(\n    /**\n    The position of the target node.\n    */\n    pos, \n    /**\n    The mark to add.\n    */\n    mark) {\n        super();\n        this.pos = pos;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (!node)\n            return StepResult.fail(\"No node at mark step's position\");\n        let updated = node.type.create(node.attrs, null, this.mark.addToSet(node.marks));\n        return StepResult.fromReplace(doc, this.pos, this.pos + 1, new Slice(Fragment.from(updated), 0, node.isLeaf ? 0 : 1));\n    }\n    invert(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (node) {\n            let newSet = this.mark.addToSet(node.marks);\n            if (newSet.length == node.marks.length) {\n                for (let i = 0; i < node.marks.length; i++)\n                    if (!node.marks[i].isInSet(newSet))\n                        return new AddNodeMarkStep(this.pos, node.marks[i]);\n                return new AddNodeMarkStep(this.pos, this.mark);\n            }\n        }\n        return new RemoveNodeMarkStep(this.pos, this.mark);\n    }\n    map(mapping) {\n        let pos = mapping.mapResult(this.pos, 1);\n        return pos.deletedAfter ? null : new AddNodeMarkStep(pos.pos, this.mark);\n    }\n    toJSON() {\n        return { stepType: \"addNodeMark\", pos: this.pos, mark: this.mark.toJSON() };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.pos != \"number\")\n            throw new RangeError(\"Invalid input for AddNodeMarkStep.fromJSON\");\n        return new AddNodeMarkStep(json.pos, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"addNodeMark\", AddNodeMarkStep);\n/**\nRemove a mark from a specific node.\n*/\nclass RemoveNodeMarkStep extends Step {\n    /**\n    Create a mark-removing step.\n    */\n    constructor(\n    /**\n    The position of the target node.\n    */\n    pos, \n    /**\n    The mark to remove.\n    */\n    mark) {\n        super();\n        this.pos = pos;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (!node)\n            return StepResult.fail(\"No node at mark step's position\");\n        let updated = node.type.create(node.attrs, null, this.mark.removeFromSet(node.marks));\n        return StepResult.fromReplace(doc, this.pos, this.pos + 1, new Slice(Fragment.from(updated), 0, node.isLeaf ? 0 : 1));\n    }\n    invert(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (!node || !this.mark.isInSet(node.marks))\n            return this;\n        return new AddNodeMarkStep(this.pos, this.mark);\n    }\n    map(mapping) {\n        let pos = mapping.mapResult(this.pos, 1);\n        return pos.deletedAfter ? null : new RemoveNodeMarkStep(pos.pos, this.mark);\n    }\n    toJSON() {\n        return { stepType: \"removeNodeMark\", pos: this.pos, mark: this.mark.toJSON() };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.pos != \"number\")\n            throw new RangeError(\"Invalid input for RemoveNodeMarkStep.fromJSON\");\n        return new RemoveNodeMarkStep(json.pos, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"removeNodeMark\", RemoveNodeMarkStep);\n\n/**\nReplace a part of the document with a slice of new content.\n*/\nclass ReplaceStep extends Step {\n    /**\n    The given `slice` should fit the 'gap' between `from` and\n    `to`—the depths must line up, and the surrounding nodes must be\n    able to be joined with the open sides of the slice. When\n    `structure` is true, the step will fail if the content between\n    from and to is not just a sequence of closing and then opening\n    tokens (this is to guard against rebased replace steps\n    overwriting something they weren't supposed to).\n    */\n    constructor(\n    /**\n    The start position of the replaced range.\n    */\n    from, \n    /**\n    The end position of the replaced range.\n    */\n    to, \n    /**\n    The slice to insert.\n    */\n    slice, \n    /**\n    @internal\n    */\n    structure = false) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.slice = slice;\n        this.structure = structure;\n    }\n    apply(doc) {\n        if (this.structure && contentBetween(doc, this.from, this.to))\n            return StepResult.fail(\"Structure replace would overwrite content\");\n        return StepResult.fromReplace(doc, this.from, this.to, this.slice);\n    }\n    getMap() {\n        return new StepMap([this.from, this.to - this.from, this.slice.size]);\n    }\n    invert(doc) {\n        return new ReplaceStep(this.from, this.from + this.slice.size, doc.slice(this.from, this.to));\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        if (from.deletedAcross && to.deletedAcross)\n            return null;\n        return new ReplaceStep(from.pos, Math.max(from.pos, to.pos), this.slice);\n    }\n    merge(other) {\n        if (!(other instanceof ReplaceStep) || other.structure || this.structure)\n            return null;\n        if (this.from + this.slice.size == other.from && !this.slice.openEnd && !other.slice.openStart) {\n            let slice = this.slice.size + other.slice.size == 0 ? Slice.empty\n                : new Slice(this.slice.content.append(other.slice.content), this.slice.openStart, other.slice.openEnd);\n            return new ReplaceStep(this.from, this.to + (other.to - other.from), slice, this.structure);\n        }\n        else if (other.to == this.from && !this.slice.openStart && !other.slice.openEnd) {\n            let slice = this.slice.size + other.slice.size == 0 ? Slice.empty\n                : new Slice(other.slice.content.append(this.slice.content), other.slice.openStart, this.slice.openEnd);\n            return new ReplaceStep(other.from, this.to, slice, this.structure);\n        }\n        else {\n            return null;\n        }\n    }\n    toJSON() {\n        let json = { stepType: \"replace\", from: this.from, to: this.to };\n        if (this.slice.size)\n            json.slice = this.slice.toJSON();\n        if (this.structure)\n            json.structure = true;\n        return json;\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\")\n            throw new RangeError(\"Invalid input for ReplaceStep.fromJSON\");\n        return new ReplaceStep(json.from, json.to, Slice.fromJSON(schema, json.slice), !!json.structure);\n    }\n}\nStep.jsonID(\"replace\", ReplaceStep);\n/**\nReplace a part of the document with a slice of content, but\npreserve a range of the replaced content by moving it into the\nslice.\n*/\nclass ReplaceAroundStep extends Step {\n    /**\n    Create a replace-around step with the given range and gap.\n    `insert` should be the point in the slice into which the content\n    of the gap should be moved. `structure` has the same meaning as\n    it has in the [`ReplaceStep`](https://prosemirror.net/docs/ref/#transform.ReplaceStep) class.\n    */\n    constructor(\n    /**\n    The start position of the replaced range.\n    */\n    from, \n    /**\n    The end position of the replaced range.\n    */\n    to, \n    /**\n    The start of preserved range.\n    */\n    gapFrom, \n    /**\n    The end of preserved range.\n    */\n    gapTo, \n    /**\n    The slice to insert.\n    */\n    slice, \n    /**\n    The position in the slice where the preserved range should be\n    inserted.\n    */\n    insert, \n    /**\n    @internal\n    */\n    structure = false) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.gapFrom = gapFrom;\n        this.gapTo = gapTo;\n        this.slice = slice;\n        this.insert = insert;\n        this.structure = structure;\n    }\n    apply(doc) {\n        if (this.structure && (contentBetween(doc, this.from, this.gapFrom) ||\n            contentBetween(doc, this.gapTo, this.to)))\n            return StepResult.fail(\"Structure gap-replace would overwrite content\");\n        let gap = doc.slice(this.gapFrom, this.gapTo);\n        if (gap.openStart || gap.openEnd)\n            return StepResult.fail(\"Gap is not a flat range\");\n        let inserted = this.slice.insertAt(this.insert, gap.content);\n        if (!inserted)\n            return StepResult.fail(\"Content does not fit in gap\");\n        return StepResult.fromReplace(doc, this.from, this.to, inserted);\n    }\n    getMap() {\n        return new StepMap([this.from, this.gapFrom - this.from, this.insert,\n            this.gapTo, this.to - this.gapTo, this.slice.size - this.insert]);\n    }\n    invert(doc) {\n        let gap = this.gapTo - this.gapFrom;\n        return new ReplaceAroundStep(this.from, this.from + this.slice.size + gap, this.from + this.insert, this.from + this.insert + gap, doc.slice(this.from, this.to).removeBetween(this.gapFrom - this.from, this.gapTo - this.from), this.gapFrom - this.from, this.structure);\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        let gapFrom = mapping.map(this.gapFrom, -1), gapTo = mapping.map(this.gapTo, 1);\n        if ((from.deletedAcross && to.deletedAcross) || gapFrom < from.pos || gapTo > to.pos)\n            return null;\n        return new ReplaceAroundStep(from.pos, to.pos, gapFrom, gapTo, this.slice, this.insert, this.structure);\n    }\n    toJSON() {\n        let json = { stepType: \"replaceAround\", from: this.from, to: this.to,\n            gapFrom: this.gapFrom, gapTo: this.gapTo, insert: this.insert };\n        if (this.slice.size)\n            json.slice = this.slice.toJSON();\n        if (this.structure)\n            json.structure = true;\n        return json;\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\" ||\n            typeof json.gapFrom != \"number\" || typeof json.gapTo != \"number\" || typeof json.insert != \"number\")\n            throw new RangeError(\"Invalid input for ReplaceAroundStep.fromJSON\");\n        return new ReplaceAroundStep(json.from, json.to, json.gapFrom, json.gapTo, Slice.fromJSON(schema, json.slice), json.insert, !!json.structure);\n    }\n}\nStep.jsonID(\"replaceAround\", ReplaceAroundStep);\nfunction contentBetween(doc, from, to) {\n    let $from = doc.resolve(from), dist = to - from, depth = $from.depth;\n    while (dist > 0 && depth > 0 && $from.indexAfter(depth) == $from.node(depth).childCount) {\n        depth--;\n        dist--;\n    }\n    if (dist > 0) {\n        let next = $from.node(depth).maybeChild($from.indexAfter(depth));\n        while (dist > 0) {\n            if (!next || next.isLeaf)\n                return true;\n            next = next.firstChild;\n            dist--;\n        }\n    }\n    return false;\n}\n\nfunction addMark(tr, from, to, mark) {\n    let removed = [], added = [];\n    let removing, adding;\n    tr.doc.nodesBetween(from, to, (node, pos, parent) => {\n        if (!node.isInline)\n            return;\n        let marks = node.marks;\n        if (!mark.isInSet(marks) && parent.type.allowsMarkType(mark.type)) {\n            let start = Math.max(pos, from), end = Math.min(pos + node.nodeSize, to);\n            let newSet = mark.addToSet(marks);\n            for (let i = 0; i < marks.length; i++) {\n                if (!marks[i].isInSet(newSet)) {\n                    if (removing && removing.to == start && removing.mark.eq(marks[i]))\n                        removing.to = end;\n                    else\n                        removed.push(removing = new RemoveMarkStep(start, end, marks[i]));\n                }\n            }\n            if (adding && adding.to == start)\n                adding.to = end;\n            else\n                added.push(adding = new AddMarkStep(start, end, mark));\n        }\n    });\n    removed.forEach(s => tr.step(s));\n    added.forEach(s => tr.step(s));\n}\nfunction removeMark(tr, from, to, mark) {\n    let matched = [], step = 0;\n    tr.doc.nodesBetween(from, to, (node, pos) => {\n        if (!node.isInline)\n            return;\n        step++;\n        let toRemove = null;\n        if (mark instanceof MarkType) {\n            let set = node.marks, found;\n            while (found = mark.isInSet(set)) {\n                (toRemove || (toRemove = [])).push(found);\n                set = found.removeFromSet(set);\n            }\n        }\n        else if (mark) {\n            if (mark.isInSet(node.marks))\n                toRemove = [mark];\n        }\n        else {\n            toRemove = node.marks;\n        }\n        if (toRemove && toRemove.length) {\n            let end = Math.min(pos + node.nodeSize, to);\n            for (let i = 0; i < toRemove.length; i++) {\n                let style = toRemove[i], found;\n                for (let j = 0; j < matched.length; j++) {\n                    let m = matched[j];\n                    if (m.step == step - 1 && style.eq(matched[j].style))\n                        found = m;\n                }\n                if (found) {\n                    found.to = end;\n                    found.step = step;\n                }\n                else {\n                    matched.push({ style, from: Math.max(pos, from), to: end, step });\n                }\n            }\n        }\n    });\n    matched.forEach(m => tr.step(new RemoveMarkStep(m.from, m.to, m.style)));\n}\nfunction clearIncompatible(tr, pos, parentType, match = parentType.contentMatch) {\n    let node = tr.doc.nodeAt(pos);\n    let replSteps = [], cur = pos + 1;\n    for (let i = 0; i < node.childCount; i++) {\n        let child = node.child(i), end = cur + child.nodeSize;\n        let allowed = match.matchType(child.type);\n        if (!allowed) {\n            replSteps.push(new ReplaceStep(cur, end, Slice.empty));\n        }\n        else {\n            match = allowed;\n            for (let j = 0; j < child.marks.length; j++)\n                if (!parentType.allowsMarkType(child.marks[j].type))\n                    tr.step(new RemoveMarkStep(cur, end, child.marks[j]));\n            if (child.isText && !parentType.spec.code) {\n                let m, newline = /\\r?\\n|\\r/g, slice;\n                while (m = newline.exec(child.text)) {\n                    if (!slice)\n                        slice = new Slice(Fragment.from(parentType.schema.text(\" \", parentType.allowedMarks(child.marks))), 0, 0);\n                    replSteps.push(new ReplaceStep(cur + m.index, cur + m.index + m[0].length, slice));\n                }\n            }\n        }\n        cur = end;\n    }\n    if (!match.validEnd) {\n        let fill = match.fillBefore(Fragment.empty, true);\n        tr.replace(cur, cur, new Slice(fill, 0, 0));\n    }\n    for (let i = replSteps.length - 1; i >= 0; i--)\n        tr.step(replSteps[i]);\n}\n\nfunction canCut(node, start, end) {\n    return (start == 0 || node.canReplace(start, node.childCount)) &&\n        (end == node.childCount || node.canReplace(0, end));\n}\n/**\nTry to find a target depth to which the content in the given range\ncan be lifted. Will not go across\n[isolating](https://prosemirror.net/docs/ref/#model.NodeSpec.isolating) parent nodes.\n*/\nfunction liftTarget(range) {\n    let parent = range.parent;\n    let content = parent.content.cutByIndex(range.startIndex, range.endIndex);\n    for (let depth = range.depth;; --depth) {\n        let node = range.$from.node(depth);\n        let index = range.$from.index(depth), endIndex = range.$to.indexAfter(depth);\n        if (depth < range.depth && node.canReplace(index, endIndex, content))\n            return depth;\n        if (depth == 0 || node.type.spec.isolating || !canCut(node, index, endIndex))\n            break;\n    }\n    return null;\n}\nfunction lift(tr, range, target) {\n    let { $from, $to, depth } = range;\n    let gapStart = $from.before(depth + 1), gapEnd = $to.after(depth + 1);\n    let start = gapStart, end = gapEnd;\n    let before = Fragment.empty, openStart = 0;\n    for (let d = depth, splitting = false; d > target; d--)\n        if (splitting || $from.index(d) > 0) {\n            splitting = true;\n            before = Fragment.from($from.node(d).copy(before));\n            openStart++;\n        }\n        else {\n            start--;\n        }\n    let after = Fragment.empty, openEnd = 0;\n    for (let d = depth, splitting = false; d > target; d--)\n        if (splitting || $to.after(d + 1) < $to.end(d)) {\n            splitting = true;\n            after = Fragment.from($to.node(d).copy(after));\n            openEnd++;\n        }\n        else {\n            end++;\n        }\n    tr.step(new ReplaceAroundStep(start, end, gapStart, gapEnd, new Slice(before.append(after), openStart, openEnd), before.size - openStart, true));\n}\n/**\nTry to find a valid way to wrap the content in the given range in a\nnode of the given type. May introduce extra nodes around and inside\nthe wrapper node, if necessary. Returns null if no valid wrapping\ncould be found. When `innerRange` is given, that range's content is\nused as the content to fit into the wrapping, instead of the\ncontent of `range`.\n*/\nfunction findWrapping(range, nodeType, attrs = null, innerRange = range) {\n    let around = findWrappingOutside(range, nodeType);\n    let inner = around && findWrappingInside(innerRange, nodeType);\n    if (!inner)\n        return null;\n    return around.map(withAttrs)\n        .concat({ type: nodeType, attrs }).concat(inner.map(withAttrs));\n}\nfunction withAttrs(type) { return { type, attrs: null }; }\nfunction findWrappingOutside(range, type) {\n    let { parent, startIndex, endIndex } = range;\n    let around = parent.contentMatchAt(startIndex).findWrapping(type);\n    if (!around)\n        return null;\n    let outer = around.length ? around[0] : type;\n    return parent.canReplaceWith(startIndex, endIndex, outer) ? around : null;\n}\nfunction findWrappingInside(range, type) {\n    let { parent, startIndex, endIndex } = range;\n    let inner = parent.child(startIndex);\n    let inside = type.contentMatch.findWrapping(inner.type);\n    if (!inside)\n        return null;\n    let lastType = inside.length ? inside[inside.length - 1] : type;\n    let innerMatch = lastType.contentMatch;\n    for (let i = startIndex; innerMatch && i < endIndex; i++)\n        innerMatch = innerMatch.matchType(parent.child(i).type);\n    if (!innerMatch || !innerMatch.validEnd)\n        return null;\n    return inside;\n}\nfunction wrap(tr, range, wrappers) {\n    let content = Fragment.empty;\n    for (let i = wrappers.length - 1; i >= 0; i--) {\n        if (content.size) {\n            let match = wrappers[i].type.contentMatch.matchFragment(content);\n            if (!match || !match.validEnd)\n                throw new RangeError(\"Wrapper type given to Transform.wrap does not form valid content of its parent wrapper\");\n        }\n        content = Fragment.from(wrappers[i].type.create(wrappers[i].attrs, content));\n    }\n    let start = range.start, end = range.end;\n    tr.step(new ReplaceAroundStep(start, end, start, end, new Slice(content, 0, 0), wrappers.length, true));\n}\nfunction setBlockType(tr, from, to, type, attrs) {\n    if (!type.isTextblock)\n        throw new RangeError(\"Type given to setBlockType should be a textblock\");\n    let mapFrom = tr.steps.length;\n    tr.doc.nodesBetween(from, to, (node, pos) => {\n        if (node.isTextblock && !node.hasMarkup(type, attrs) && canChangeType(tr.doc, tr.mapping.slice(mapFrom).map(pos), type)) {\n            // Ensure all markup that isn't allowed in the new node type is cleared\n            tr.clearIncompatible(tr.mapping.slice(mapFrom).map(pos, 1), type);\n            let mapping = tr.mapping.slice(mapFrom);\n            let startM = mapping.map(pos, 1), endM = mapping.map(pos + node.nodeSize, 1);\n            tr.step(new ReplaceAroundStep(startM, endM, startM + 1, endM - 1, new Slice(Fragment.from(type.create(attrs, null, node.marks)), 0, 0), 1, true));\n            return false;\n        }\n    });\n}\nfunction canChangeType(doc, pos, type) {\n    let $pos = doc.resolve(pos), index = $pos.index();\n    return $pos.parent.canReplaceWith(index, index + 1, type);\n}\n/**\nChange the type, attributes, and/or marks of the node at `pos`.\nWhen `type` isn't given, the existing node type is preserved,\n*/\nfunction setNodeMarkup(tr, pos, type, attrs, marks) {\n    let node = tr.doc.nodeAt(pos);\n    if (!node)\n        throw new RangeError(\"No node at given position\");\n    if (!type)\n        type = node.type;\n    let newNode = type.create(attrs, null, marks || node.marks);\n    if (node.isLeaf)\n        return tr.replaceWith(pos, pos + node.nodeSize, newNode);\n    if (!type.validContent(node.content))\n        throw new RangeError(\"Invalid content for node type \" + type.name);\n    tr.step(new ReplaceAroundStep(pos, pos + node.nodeSize, pos + 1, pos + node.nodeSize - 1, new Slice(Fragment.from(newNode), 0, 0), 1, true));\n}\n/**\nCheck whether splitting at the given position is allowed.\n*/\nfunction canSplit(doc, pos, depth = 1, typesAfter) {\n    let $pos = doc.resolve(pos), base = $pos.depth - depth;\n    let innerType = (typesAfter && typesAfter[typesAfter.length - 1]) || $pos.parent;\n    if (base < 0 || $pos.parent.type.spec.isolating ||\n        !$pos.parent.canReplace($pos.index(), $pos.parent.childCount) ||\n        !innerType.type.validContent($pos.parent.content.cutByIndex($pos.index(), $pos.parent.childCount)))\n        return false;\n    for (let d = $pos.depth - 1, i = depth - 2; d > base; d--, i--) {\n        let node = $pos.node(d), index = $pos.index(d);\n        if (node.type.spec.isolating)\n            return false;\n        let rest = node.content.cutByIndex(index, node.childCount);\n        let overrideChild = typesAfter && typesAfter[i + 1];\n        if (overrideChild)\n            rest = rest.replaceChild(0, overrideChild.type.create(overrideChild.attrs));\n        let after = (typesAfter && typesAfter[i]) || node;\n        if (!node.canReplace(index + 1, node.childCount) || !after.type.validContent(rest))\n            return false;\n    }\n    let index = $pos.indexAfter(base);\n    let baseType = typesAfter && typesAfter[0];\n    return $pos.node(base).canReplaceWith(index, index, baseType ? baseType.type : $pos.node(base + 1).type);\n}\nfunction split(tr, pos, depth = 1, typesAfter) {\n    let $pos = tr.doc.resolve(pos), before = Fragment.empty, after = Fragment.empty;\n    for (let d = $pos.depth, e = $pos.depth - depth, i = depth - 1; d > e; d--, i--) {\n        before = Fragment.from($pos.node(d).copy(before));\n        let typeAfter = typesAfter && typesAfter[i];\n        after = Fragment.from(typeAfter ? typeAfter.type.create(typeAfter.attrs, after) : $pos.node(d).copy(after));\n    }\n    tr.step(new ReplaceStep(pos, pos, new Slice(before.append(after), depth, depth), true));\n}\n/**\nTest whether the blocks before and after a given position can be\njoined.\n*/\nfunction canJoin(doc, pos) {\n    let $pos = doc.resolve(pos), index = $pos.index();\n    return joinable($pos.nodeBefore, $pos.nodeAfter) &&\n        $pos.parent.canReplace(index, index + 1);\n}\nfunction joinable(a, b) {\n    return !!(a && b && !a.isLeaf && a.canAppend(b));\n}\n/**\nFind an ancestor of the given position that can be joined to the\nblock before (or after if `dir` is positive). Returns the joinable\npoint, if any.\n*/\nfunction joinPoint(doc, pos, dir = -1) {\n    let $pos = doc.resolve(pos);\n    for (let d = $pos.depth;; d--) {\n        let before, after, index = $pos.index(d);\n        if (d == $pos.depth) {\n            before = $pos.nodeBefore;\n            after = $pos.nodeAfter;\n        }\n        else if (dir > 0) {\n            before = $pos.node(d + 1);\n            index++;\n            after = $pos.node(d).maybeChild(index);\n        }\n        else {\n            before = $pos.node(d).maybeChild(index - 1);\n            after = $pos.node(d + 1);\n        }\n        if (before && !before.isTextblock && joinable(before, after) &&\n            $pos.node(d).canReplace(index, index + 1))\n            return pos;\n        if (d == 0)\n            break;\n        pos = dir < 0 ? $pos.before(d) : $pos.after(d);\n    }\n}\nfunction join(tr, pos, depth) {\n    let step = new ReplaceStep(pos - depth, pos + depth, Slice.empty, true);\n    tr.step(step);\n}\n/**\nTry to find a point where a node of the given type can be inserted\nnear `pos`, by searching up the node hierarchy when `pos` itself\nisn't a valid place but is at the start or end of a node. Return\nnull if no position was found.\n*/\nfunction insertPoint(doc, pos, nodeType) {\n    let $pos = doc.resolve(pos);\n    if ($pos.parent.canReplaceWith($pos.index(), $pos.index(), nodeType))\n        return pos;\n    if ($pos.parentOffset == 0)\n        for (let d = $pos.depth - 1; d >= 0; d--) {\n            let index = $pos.index(d);\n            if ($pos.node(d).canReplaceWith(index, index, nodeType))\n                return $pos.before(d + 1);\n            if (index > 0)\n                return null;\n        }\n    if ($pos.parentOffset == $pos.parent.content.size)\n        for (let d = $pos.depth - 1; d >= 0; d--) {\n            let index = $pos.indexAfter(d);\n            if ($pos.node(d).canReplaceWith(index, index, nodeType))\n                return $pos.after(d + 1);\n            if (index < $pos.node(d).childCount)\n                return null;\n        }\n    return null;\n}\n/**\nFinds a position at or around the given position where the given\nslice can be inserted. Will look at parent nodes' nearest boundary\nand try there, even if the original position wasn't directly at the\nstart or end of that node. Returns null when no position was found.\n*/\nfunction dropPoint(doc, pos, slice) {\n    let $pos = doc.resolve(pos);\n    if (!slice.content.size)\n        return pos;\n    let content = slice.content;\n    for (let i = 0; i < slice.openStart; i++)\n        content = content.firstChild.content;\n    for (let pass = 1; pass <= (slice.openStart == 0 && slice.size ? 2 : 1); pass++) {\n        for (let d = $pos.depth; d >= 0; d--) {\n            let bias = d == $pos.depth ? 0 : $pos.pos <= ($pos.start(d + 1) + $pos.end(d + 1)) / 2 ? -1 : 1;\n            let insertPos = $pos.index(d) + (bias > 0 ? 1 : 0);\n            let parent = $pos.node(d), fits = false;\n            if (pass == 1) {\n                fits = parent.canReplace(insertPos, insertPos, content);\n            }\n            else {\n                let wrapping = parent.contentMatchAt(insertPos).findWrapping(content.firstChild.type);\n                fits = wrapping && parent.canReplaceWith(insertPos, insertPos, wrapping[0]);\n            }\n            if (fits)\n                return bias == 0 ? $pos.pos : bias < 0 ? $pos.before(d + 1) : $pos.after(d + 1);\n        }\n    }\n    return null;\n}\n\n/**\n‘Fit’ a slice into a given position in the document, producing a\n[step](https://prosemirror.net/docs/ref/#transform.Step) that inserts it. Will return null if\nthere's no meaningful way to insert the slice here, or inserting it\nwould be a no-op (an empty slice over an empty range).\n*/\nfunction replaceStep(doc, from, to = from, slice = Slice.empty) {\n    if (from == to && !slice.size)\n        return null;\n    let $from = doc.resolve(from), $to = doc.resolve(to);\n    // Optimization -- avoid work if it's obvious that it's not needed.\n    if (fitsTrivially($from, $to, slice))\n        return new ReplaceStep(from, to, slice);\n    return new Fitter($from, $to, slice).fit();\n}\nfunction fitsTrivially($from, $to, slice) {\n    return !slice.openStart && !slice.openEnd && $from.start() == $to.start() &&\n        $from.parent.canReplace($from.index(), $to.index(), slice.content);\n}\n// Algorithm for 'placing' the elements of a slice into a gap:\n//\n// We consider the content of each node that is open to the left to be\n// independently placeable. I.e. in <p(\"foo\"), p(\"bar\")>, when the\n// paragraph on the left is open, \"foo\" can be placed (somewhere on\n// the left side of the replacement gap) independently from p(\"bar\").\n//\n// This class tracks the state of the placement progress in the\n// following properties:\n//\n//  - `frontier` holds a stack of `{type, match}` objects that\n//    represent the open side of the replacement. It starts at\n//    `$from`, then moves forward as content is placed, and is finally\n//    reconciled with `$to`.\n//\n//  - `unplaced` is a slice that represents the content that hasn't\n//    been placed yet.\n//\n//  - `placed` is a fragment of placed content. Its open-start value\n//    is implicit in `$from`, and its open-end value in `frontier`.\nclass Fitter {\n    constructor($from, $to, unplaced) {\n        this.$from = $from;\n        this.$to = $to;\n        this.unplaced = unplaced;\n        this.frontier = [];\n        this.placed = Fragment.empty;\n        for (let i = 0; i <= $from.depth; i++) {\n            let node = $from.node(i);\n            this.frontier.push({\n                type: node.type,\n                match: node.contentMatchAt($from.indexAfter(i))\n            });\n        }\n        for (let i = $from.depth; i > 0; i--)\n            this.placed = Fragment.from($from.node(i).copy(this.placed));\n    }\n    get depth() { return this.frontier.length - 1; }\n    fit() {\n        // As long as there's unplaced content, try to place some of it.\n        // If that fails, either increase the open score of the unplaced\n        // slice, or drop nodes from it, and then try again.\n        while (this.unplaced.size) {\n            let fit = this.findFittable();\n            if (fit)\n                this.placeNodes(fit);\n            else\n                this.openMore() || this.dropNode();\n        }\n        // When there's inline content directly after the frontier _and_\n        // directly after `this.$to`, we must generate a `ReplaceAround`\n        // step that pulls that content into the node after the frontier.\n        // That means the fitting must be done to the end of the textblock\n        // node after `this.$to`, not `this.$to` itself.\n        let moveInline = this.mustMoveInline(), placedSize = this.placed.size - this.depth - this.$from.depth;\n        let $from = this.$from, $to = this.close(moveInline < 0 ? this.$to : $from.doc.resolve(moveInline));\n        if (!$to)\n            return null;\n        // If closing to `$to` succeeded, create a step\n        let content = this.placed, openStart = $from.depth, openEnd = $to.depth;\n        while (openStart && openEnd && content.childCount == 1) { // Normalize by dropping open parent nodes\n            content = content.firstChild.content;\n            openStart--;\n            openEnd--;\n        }\n        let slice = new Slice(content, openStart, openEnd);\n        if (moveInline > -1)\n            return new ReplaceAroundStep($from.pos, moveInline, this.$to.pos, this.$to.end(), slice, placedSize);\n        if (slice.size || $from.pos != this.$to.pos) // Don't generate no-op steps\n            return new ReplaceStep($from.pos, $to.pos, slice);\n        return null;\n    }\n    // Find a position on the start spine of `this.unplaced` that has\n    // content that can be moved somewhere on the frontier. Returns two\n    // depths, one for the slice and one for the frontier.\n    findFittable() {\n        let startDepth = this.unplaced.openStart;\n        for (let cur = this.unplaced.content, d = 0, openEnd = this.unplaced.openEnd; d < startDepth; d++) {\n            let node = cur.firstChild;\n            if (cur.childCount > 1)\n                openEnd = 0;\n            if (node.type.spec.isolating && openEnd <= d) {\n                startDepth = d;\n                break;\n            }\n            cur = node.content;\n        }\n        // Only try wrapping nodes (pass 2) after finding a place without\n        // wrapping failed.\n        for (let pass = 1; pass <= 2; pass++) {\n            for (let sliceDepth = pass == 1 ? startDepth : this.unplaced.openStart; sliceDepth >= 0; sliceDepth--) {\n                let fragment, parent = null;\n                if (sliceDepth) {\n                    parent = contentAt(this.unplaced.content, sliceDepth - 1).firstChild;\n                    fragment = parent.content;\n                }\n                else {\n                    fragment = this.unplaced.content;\n                }\n                let first = fragment.firstChild;\n                for (let frontierDepth = this.depth; frontierDepth >= 0; frontierDepth--) {\n                    let { type, match } = this.frontier[frontierDepth], wrap, inject = null;\n                    // In pass 1, if the next node matches, or there is no next\n                    // node but the parents look compatible, we've found a\n                    // place.\n                    if (pass == 1 && (first ? match.matchType(first.type) || (inject = match.fillBefore(Fragment.from(first), false))\n                        : parent && type.compatibleContent(parent.type)))\n                        return { sliceDepth, frontierDepth, parent, inject };\n                    // In pass 2, look for a set of wrapping nodes that make\n                    // `first` fit here.\n                    else if (pass == 2 && first && (wrap = match.findWrapping(first.type)))\n                        return { sliceDepth, frontierDepth, parent, wrap };\n                    // Don't continue looking further up if the parent node\n                    // would fit here.\n                    if (parent && match.matchType(parent.type))\n                        break;\n                }\n            }\n        }\n    }\n    openMore() {\n        let { content, openStart, openEnd } = this.unplaced;\n        let inner = contentAt(content, openStart);\n        if (!inner.childCount || inner.firstChild.isLeaf)\n            return false;\n        this.unplaced = new Slice(content, openStart + 1, Math.max(openEnd, inner.size + openStart >= content.size - openEnd ? openStart + 1 : 0));\n        return true;\n    }\n    dropNode() {\n        let { content, openStart, openEnd } = this.unplaced;\n        let inner = contentAt(content, openStart);\n        if (inner.childCount <= 1 && openStart > 0) {\n            let openAtEnd = content.size - openStart <= openStart + inner.size;\n            this.unplaced = new Slice(dropFromFragment(content, openStart - 1, 1), openStart - 1, openAtEnd ? openStart - 1 : openEnd);\n        }\n        else {\n            this.unplaced = new Slice(dropFromFragment(content, openStart, 1), openStart, openEnd);\n        }\n    }\n    // Move content from the unplaced slice at `sliceDepth` to the\n    // frontier node at `frontierDepth`. Close that frontier node when\n    // applicable.\n    placeNodes({ sliceDepth, frontierDepth, parent, inject, wrap }) {\n        while (this.depth > frontierDepth)\n            this.closeFrontierNode();\n        if (wrap)\n            for (let i = 0; i < wrap.length; i++)\n                this.openFrontierNode(wrap[i]);\n        let slice = this.unplaced, fragment = parent ? parent.content : slice.content;\n        let openStart = slice.openStart - sliceDepth;\n        let taken = 0, add = [];\n        let { match, type } = this.frontier[frontierDepth];\n        if (inject) {\n            for (let i = 0; i < inject.childCount; i++)\n                add.push(inject.child(i));\n            match = match.matchFragment(inject);\n        }\n        // Computes the amount of (end) open nodes at the end of the\n        // fragment. When 0, the parent is open, but no more. When\n        // negative, nothing is open.\n        let openEndCount = (fragment.size + sliceDepth) - (slice.content.size - slice.openEnd);\n        // Scan over the fragment, fitting as many child nodes as\n        // possible.\n        while (taken < fragment.childCount) {\n            let next = fragment.child(taken), matches = match.matchType(next.type);\n            if (!matches)\n                break;\n            taken++;\n            if (taken > 1 || openStart == 0 || next.content.size) { // Drop empty open nodes\n                match = matches;\n                add.push(closeNodeStart(next.mark(type.allowedMarks(next.marks)), taken == 1 ? openStart : 0, taken == fragment.childCount ? openEndCount : -1));\n            }\n        }\n        let toEnd = taken == fragment.childCount;\n        if (!toEnd)\n            openEndCount = -1;\n        this.placed = addToFragment(this.placed, frontierDepth, Fragment.from(add));\n        this.frontier[frontierDepth].match = match;\n        // If the parent types match, and the entire node was moved, and\n        // it's not open, close this frontier node right away.\n        if (toEnd && openEndCount < 0 && parent && parent.type == this.frontier[this.depth].type && this.frontier.length > 1)\n            this.closeFrontierNode();\n        // Add new frontier nodes for any open nodes at the end.\n        for (let i = 0, cur = fragment; i < openEndCount; i++) {\n            let node = cur.lastChild;\n            this.frontier.push({ type: node.type, match: node.contentMatchAt(node.childCount) });\n            cur = node.content;\n        }\n        // Update `this.unplaced`. Drop the entire node from which we\n        // placed it we got to its end, otherwise just drop the placed\n        // nodes.\n        this.unplaced = !toEnd ? new Slice(dropFromFragment(slice.content, sliceDepth, taken), slice.openStart, slice.openEnd)\n            : sliceDepth == 0 ? Slice.empty\n                : new Slice(dropFromFragment(slice.content, sliceDepth - 1, 1), sliceDepth - 1, openEndCount < 0 ? slice.openEnd : sliceDepth - 1);\n    }\n    mustMoveInline() {\n        if (!this.$to.parent.isTextblock)\n            return -1;\n        let top = this.frontier[this.depth], level;\n        if (!top.type.isTextblock || !contentAfterFits(this.$to, this.$to.depth, top.type, top.match, false) ||\n            (this.$to.depth == this.depth && (level = this.findCloseLevel(this.$to)) && level.depth == this.depth))\n            return -1;\n        let { depth } = this.$to, after = this.$to.after(depth);\n        while (depth > 1 && after == this.$to.end(--depth))\n            ++after;\n        return after;\n    }\n    findCloseLevel($to) {\n        scan: for (let i = Math.min(this.depth, $to.depth); i >= 0; i--) {\n            let { match, type } = this.frontier[i];\n            let dropInner = i < $to.depth && $to.end(i + 1) == $to.pos + ($to.depth - (i + 1));\n            let fit = contentAfterFits($to, i, type, match, dropInner);\n            if (!fit)\n                continue;\n            for (let d = i - 1; d >= 0; d--) {\n                let { match, type } = this.frontier[d];\n                let matches = contentAfterFits($to, d, type, match, true);\n                if (!matches || matches.childCount)\n                    continue scan;\n            }\n            return { depth: i, fit, move: dropInner ? $to.doc.resolve($to.after(i + 1)) : $to };\n        }\n    }\n    close($to) {\n        let close = this.findCloseLevel($to);\n        if (!close)\n            return null;\n        while (this.depth > close.depth)\n            this.closeFrontierNode();\n        if (close.fit.childCount)\n            this.placed = addToFragment(this.placed, close.depth, close.fit);\n        $to = close.move;\n        for (let d = close.depth + 1; d <= $to.depth; d++) {\n            let node = $to.node(d), add = node.type.contentMatch.fillBefore(node.content, true, $to.index(d));\n            this.openFrontierNode(node.type, node.attrs, add);\n        }\n        return $to;\n    }\n    openFrontierNode(type, attrs = null, content) {\n        let top = this.frontier[this.depth];\n        top.match = top.match.matchType(type);\n        this.placed = addToFragment(this.placed, this.depth, Fragment.from(type.create(attrs, content)));\n        this.frontier.push({ type, match: type.contentMatch });\n    }\n    closeFrontierNode() {\n        let open = this.frontier.pop();\n        let add = open.match.fillBefore(Fragment.empty, true);\n        if (add.childCount)\n            this.placed = addToFragment(this.placed, this.frontier.length, add);\n    }\n}\nfunction dropFromFragment(fragment, depth, count) {\n    if (depth == 0)\n        return fragment.cutByIndex(count, fragment.childCount);\n    return fragment.replaceChild(0, fragment.firstChild.copy(dropFromFragment(fragment.firstChild.content, depth - 1, count)));\n}\nfunction addToFragment(fragment, depth, content) {\n    if (depth == 0)\n        return fragment.append(content);\n    return fragment.replaceChild(fragment.childCount - 1, fragment.lastChild.copy(addToFragment(fragment.lastChild.content, depth - 1, content)));\n}\nfunction contentAt(fragment, depth) {\n    for (let i = 0; i < depth; i++)\n        fragment = fragment.firstChild.content;\n    return fragment;\n}\nfunction closeNodeStart(node, openStart, openEnd) {\n    if (openStart <= 0)\n        return node;\n    let frag = node.content;\n    if (openStart > 1)\n        frag = frag.replaceChild(0, closeNodeStart(frag.firstChild, openStart - 1, frag.childCount == 1 ? openEnd - 1 : 0));\n    if (openStart > 0) {\n        frag = node.type.contentMatch.fillBefore(frag).append(frag);\n        if (openEnd <= 0)\n            frag = frag.append(node.type.contentMatch.matchFragment(frag).fillBefore(Fragment.empty, true));\n    }\n    return node.copy(frag);\n}\nfunction contentAfterFits($to, depth, type, match, open) {\n    let node = $to.node(depth), index = open ? $to.indexAfter(depth) : $to.index(depth);\n    if (index == node.childCount && !type.compatibleContent(node.type))\n        return null;\n    let fit = match.fillBefore(node.content, true, index);\n    return fit && !invalidMarks(type, node.content, index) ? fit : null;\n}\nfunction invalidMarks(type, fragment, start) {\n    for (let i = start; i < fragment.childCount; i++)\n        if (!type.allowsMarks(fragment.child(i).marks))\n            return true;\n    return false;\n}\nfunction definesContent(type) {\n    return type.spec.defining || type.spec.definingForContent;\n}\nfunction replaceRange(tr, from, to, slice) {\n    if (!slice.size)\n        return tr.deleteRange(from, to);\n    let $from = tr.doc.resolve(from), $to = tr.doc.resolve(to);\n    if (fitsTrivially($from, $to, slice))\n        return tr.step(new ReplaceStep(from, to, slice));\n    let targetDepths = coveredDepths($from, tr.doc.resolve(to));\n    // Can't replace the whole document, so remove 0 if it's present\n    if (targetDepths[targetDepths.length - 1] == 0)\n        targetDepths.pop();\n    // Negative numbers represent not expansion over the whole node at\n    // that depth, but replacing from $from.before(-D) to $to.pos.\n    let preferredTarget = -($from.depth + 1);\n    targetDepths.unshift(preferredTarget);\n    // This loop picks a preferred target depth, if one of the covering\n    // depths is not outside of a defining node, and adds negative\n    // depths for any depth that has $from at its start and does not\n    // cross a defining node.\n    for (let d = $from.depth, pos = $from.pos - 1; d > 0; d--, pos--) {\n        let spec = $from.node(d).type.spec;\n        if (spec.defining || spec.definingAsContext || spec.isolating)\n            break;\n        if (targetDepths.indexOf(d) > -1)\n            preferredTarget = d;\n        else if ($from.before(d) == pos)\n            targetDepths.splice(1, 0, -d);\n    }\n    // Try to fit each possible depth of the slice into each possible\n    // target depth, starting with the preferred depths.\n    let preferredTargetIndex = targetDepths.indexOf(preferredTarget);\n    let leftNodes = [], preferredDepth = slice.openStart;\n    for (let content = slice.content, i = 0;; i++) {\n        let node = content.firstChild;\n        leftNodes.push(node);\n        if (i == slice.openStart)\n            break;\n        content = node.content;\n    }\n    // Back up preferredDepth to cover defining textblocks directly\n    // above it, possibly skipping a non-defining textblock.\n    for (let d = preferredDepth - 1; d >= 0; d--) {\n        let leftNode = leftNodes[d], def = definesContent(leftNode.type);\n        if (def && !leftNode.sameMarkup($from.node(Math.abs(preferredTarget) - 1)))\n            preferredDepth = d;\n        else if (def || !leftNode.type.isTextblock)\n            break;\n    }\n    for (let j = slice.openStart; j >= 0; j--) {\n        let openDepth = (j + preferredDepth + 1) % (slice.openStart + 1);\n        let insert = leftNodes[openDepth];\n        if (!insert)\n            continue;\n        for (let i = 0; i < targetDepths.length; i++) {\n            // Loop over possible expansion levels, starting with the\n            // preferred one\n            let targetDepth = targetDepths[(i + preferredTargetIndex) % targetDepths.length], expand = true;\n            if (targetDepth < 0) {\n                expand = false;\n                targetDepth = -targetDepth;\n            }\n            let parent = $from.node(targetDepth - 1), index = $from.index(targetDepth - 1);\n            if (parent.canReplaceWith(index, index, insert.type, insert.marks))\n                return tr.replace($from.before(targetDepth), expand ? $to.after(targetDepth) : to, new Slice(closeFragment(slice.content, 0, slice.openStart, openDepth), openDepth, slice.openEnd));\n        }\n    }\n    let startSteps = tr.steps.length;\n    for (let i = targetDepths.length - 1; i >= 0; i--) {\n        tr.replace(from, to, slice);\n        if (tr.steps.length > startSteps)\n            break;\n        let depth = targetDepths[i];\n        if (depth < 0)\n            continue;\n        from = $from.before(depth);\n        to = $to.after(depth);\n    }\n}\nfunction closeFragment(fragment, depth, oldOpen, newOpen, parent) {\n    if (depth < oldOpen) {\n        let first = fragment.firstChild;\n        fragment = fragment.replaceChild(0, first.copy(closeFragment(first.content, depth + 1, oldOpen, newOpen, first)));\n    }\n    if (depth > newOpen) {\n        let match = parent.contentMatchAt(0);\n        let start = match.fillBefore(fragment).append(fragment);\n        fragment = start.append(match.matchFragment(start).fillBefore(Fragment.empty, true));\n    }\n    return fragment;\n}\nfunction replaceRangeWith(tr, from, to, node) {\n    if (!node.isInline && from == to && tr.doc.resolve(from).parent.content.size) {\n        let point = insertPoint(tr.doc, from, node.type);\n        if (point != null)\n            from = to = point;\n    }\n    tr.replaceRange(from, to, new Slice(Fragment.from(node), 0, 0));\n}\nfunction deleteRange(tr, from, to) {\n    let $from = tr.doc.resolve(from), $to = tr.doc.resolve(to);\n    let covered = coveredDepths($from, $to);\n    for (let i = 0; i < covered.length; i++) {\n        let depth = covered[i], last = i == covered.length - 1;\n        if ((last && depth == 0) || $from.node(depth).type.contentMatch.validEnd)\n            return tr.delete($from.start(depth), $to.end(depth));\n        if (depth > 0 && (last || $from.node(depth - 1).canReplace($from.index(depth - 1), $to.indexAfter(depth - 1))))\n            return tr.delete($from.before(depth), $to.after(depth));\n    }\n    for (let d = 1; d <= $from.depth && d <= $to.depth; d++) {\n        if (from - $from.start(d) == $from.depth - d && to > $from.end(d) && $to.end(d) - to != $to.depth - d)\n            return tr.delete($from.before(d), to);\n    }\n    tr.delete(from, to);\n}\n// Returns an array of all depths for which $from - $to spans the\n// whole content of the nodes at that depth.\nfunction coveredDepths($from, $to) {\n    let result = [], minDepth = Math.min($from.depth, $to.depth);\n    for (let d = minDepth; d >= 0; d--) {\n        let start = $from.start(d);\n        if (start < $from.pos - ($from.depth - d) ||\n            $to.end(d) > $to.pos + ($to.depth - d) ||\n            $from.node(d).type.spec.isolating ||\n            $to.node(d).type.spec.isolating)\n            break;\n        if (start == $to.start(d) ||\n            (d == $from.depth && d == $to.depth && $from.parent.inlineContent && $to.parent.inlineContent &&\n                d && $to.start(d - 1) == start - 1))\n            result.push(d);\n    }\n    return result;\n}\n\n/**\nUpdate an attribute in a specific node.\n*/\nclass AttrStep extends Step {\n    /**\n    Construct an attribute step.\n    */\n    constructor(\n    /**\n    The position of the target node.\n    */\n    pos, \n    /**\n    The attribute to set.\n    */\n    attr, \n    // The attribute's new value.\n    value) {\n        super();\n        this.pos = pos;\n        this.attr = attr;\n        this.value = value;\n    }\n    apply(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (!node)\n            return StepResult.fail(\"No node at attribute step's position\");\n        let attrs = Object.create(null);\n        for (let name in node.attrs)\n            attrs[name] = node.attrs[name];\n        attrs[this.attr] = this.value;\n        let updated = node.type.create(attrs, null, node.marks);\n        return StepResult.fromReplace(doc, this.pos, this.pos + 1, new Slice(Fragment.from(updated), 0, node.isLeaf ? 0 : 1));\n    }\n    getMap() {\n        return StepMap.empty;\n    }\n    invert(doc) {\n        return new AttrStep(this.pos, this.attr, doc.nodeAt(this.pos).attrs[this.attr]);\n    }\n    map(mapping) {\n        let pos = mapping.mapResult(this.pos, 1);\n        return pos.deletedAfter ? null : new AttrStep(pos.pos, this.attr, this.value);\n    }\n    toJSON() {\n        return { stepType: \"attr\", pos: this.pos, attr: this.attr, value: this.value };\n    }\n    static fromJSON(schema, json) {\n        if (typeof json.pos != \"number\" || typeof json.attr != \"string\")\n            throw new RangeError(\"Invalid input for AttrStep.fromJSON\");\n        return new AttrStep(json.pos, json.attr, json.value);\n    }\n}\nStep.jsonID(\"attr\", AttrStep);\n/**\nUpdate an attribute in the doc node.\n*/\nclass DocAttrStep extends Step {\n    /**\n    Construct an attribute step.\n    */\n    constructor(\n    /**\n    The attribute to set.\n    */\n    attr, \n    // The attribute's new value.\n    value) {\n        super();\n        this.attr = attr;\n        this.value = value;\n    }\n    apply(doc) {\n        let attrs = Object.create(null);\n        for (let name in doc.attrs)\n            attrs[name] = doc.attrs[name];\n        attrs[this.attr] = this.value;\n        let updated = doc.type.create(attrs, doc.content, doc.marks);\n        return StepResult.ok(updated);\n    }\n    getMap() {\n        return StepMap.empty;\n    }\n    invert(doc) {\n        return new DocAttrStep(this.attr, doc.attrs[this.attr]);\n    }\n    map(mapping) {\n        return this;\n    }\n    toJSON() {\n        return { stepType: \"docAttr\", attr: this.attr, value: this.value };\n    }\n    static fromJSON(schema, json) {\n        if (typeof json.attr != \"string\")\n            throw new RangeError(\"Invalid input for DocAttrStep.fromJSON\");\n        return new DocAttrStep(json.attr, json.value);\n    }\n}\nStep.jsonID(\"docAttr\", DocAttrStep);\n\n/**\n@internal\n*/\nlet TransformError = class extends Error {\n};\nTransformError = function TransformError(message) {\n    let err = Error.call(this, message);\n    err.__proto__ = TransformError.prototype;\n    return err;\n};\nTransformError.prototype = Object.create(Error.prototype);\nTransformError.prototype.constructor = TransformError;\nTransformError.prototype.name = \"TransformError\";\n/**\nAbstraction to build up and track an array of\n[steps](https://prosemirror.net/docs/ref/#transform.Step) representing a document transformation.\n\nMost transforming methods return the `Transform` object itself, so\nthat they can be chained.\n*/\nclass Transform {\n    /**\n    Create a transform that starts with the given document.\n    */\n    constructor(\n    /**\n    The current document (the result of applying the steps in the\n    transform).\n    */\n    doc) {\n        this.doc = doc;\n        /**\n        The steps in this transform.\n        */\n        this.steps = [];\n        /**\n        The documents before each of the steps.\n        */\n        this.docs = [];\n        /**\n        A mapping with the maps for each of the steps in this transform.\n        */\n        this.mapping = new Mapping;\n    }\n    /**\n    The starting document.\n    */\n    get before() { return this.docs.length ? this.docs[0] : this.doc; }\n    /**\n    Apply a new step in this transform, saving the result. Throws an\n    error when the step fails.\n    */\n    step(step) {\n        let result = this.maybeStep(step);\n        if (result.failed)\n            throw new TransformError(result.failed);\n        return this;\n    }\n    /**\n    Try to apply a step in this transformation, ignoring it if it\n    fails. Returns the step result.\n    */\n    maybeStep(step) {\n        let result = step.apply(this.doc);\n        if (!result.failed)\n            this.addStep(step, result.doc);\n        return result;\n    }\n    /**\n    True when the document has been changed (when there are any\n    steps).\n    */\n    get docChanged() {\n        return this.steps.length > 0;\n    }\n    /**\n    @internal\n    */\n    addStep(step, doc) {\n        this.docs.push(this.doc);\n        this.steps.push(step);\n        this.mapping.appendMap(step.getMap());\n        this.doc = doc;\n    }\n    /**\n    Replace the part of the document between `from` and `to` with the\n    given `slice`.\n    */\n    replace(from, to = from, slice = Slice.empty) {\n        let step = replaceStep(this.doc, from, to, slice);\n        if (step)\n            this.step(step);\n        return this;\n    }\n    /**\n    Replace the given range with the given content, which may be a\n    fragment, node, or array of nodes.\n    */\n    replaceWith(from, to, content) {\n        return this.replace(from, to, new Slice(Fragment.from(content), 0, 0));\n    }\n    /**\n    Delete the content between the given positions.\n    */\n    delete(from, to) {\n        return this.replace(from, to, Slice.empty);\n    }\n    /**\n    Insert the given content at the given position.\n    */\n    insert(pos, content) {\n        return this.replaceWith(pos, pos, content);\n    }\n    /**\n    Replace a range of the document with a given slice, using\n    `from`, `to`, and the slice's\n    [`openStart`](https://prosemirror.net/docs/ref/#model.Slice.openStart) property as hints, rather\n    than fixed start and end points. This method may grow the\n    replaced area or close open nodes in the slice in order to get a\n    fit that is more in line with WYSIWYG expectations, by dropping\n    fully covered parent nodes of the replaced region when they are\n    marked [non-defining as\n    context](https://prosemirror.net/docs/ref/#model.NodeSpec.definingAsContext), or including an\n    open parent node from the slice that _is_ marked as [defining\n    its content](https://prosemirror.net/docs/ref/#model.NodeSpec.definingForContent).\n    \n    This is the method, for example, to handle paste. The similar\n    [`replace`](https://prosemirror.net/docs/ref/#transform.Transform.replace) method is a more\n    primitive tool which will _not_ move the start and end of its given\n    range, and is useful in situations where you need more precise\n    control over what happens.\n    */\n    replaceRange(from, to, slice) {\n        replaceRange(this, from, to, slice);\n        return this;\n    }\n    /**\n    Replace the given range with a node, but use `from` and `to` as\n    hints, rather than precise positions. When from and to are the same\n    and are at the start or end of a parent node in which the given\n    node doesn't fit, this method may _move_ them out towards a parent\n    that does allow the given node to be placed. When the given range\n    completely covers a parent node, this method may completely replace\n    that parent node.\n    */\n    replaceRangeWith(from, to, node) {\n        replaceRangeWith(this, from, to, node);\n        return this;\n    }\n    /**\n    Delete the given range, expanding it to cover fully covered\n    parent nodes until a valid replace is found.\n    */\n    deleteRange(from, to) {\n        deleteRange(this, from, to);\n        return this;\n    }\n    /**\n    Split the content in the given range off from its parent, if there\n    is sibling content before or after it, and move it up the tree to\n    the depth specified by `target`. You'll probably want to use\n    [`liftTarget`](https://prosemirror.net/docs/ref/#transform.liftTarget) to compute `target`, to make\n    sure the lift is valid.\n    */\n    lift(range, target) {\n        lift(this, range, target);\n        return this;\n    }\n    /**\n    Join the blocks around the given position. If depth is 2, their\n    last and first siblings are also joined, and so on.\n    */\n    join(pos, depth = 1) {\n        join(this, pos, depth);\n        return this;\n    }\n    /**\n    Wrap the given [range](https://prosemirror.net/docs/ref/#model.NodeRange) in the given set of wrappers.\n    The wrappers are assumed to be valid in this position, and should\n    probably be computed with [`findWrapping`](https://prosemirror.net/docs/ref/#transform.findWrapping).\n    */\n    wrap(range, wrappers) {\n        wrap(this, range, wrappers);\n        return this;\n    }\n    /**\n    Set the type of all textblocks (partly) between `from` and `to` to\n    the given node type with the given attributes.\n    */\n    setBlockType(from, to = from, type, attrs = null) {\n        setBlockType(this, from, to, type, attrs);\n        return this;\n    }\n    /**\n    Change the type, attributes, and/or marks of the node at `pos`.\n    When `type` isn't given, the existing node type is preserved,\n    */\n    setNodeMarkup(pos, type, attrs = null, marks) {\n        setNodeMarkup(this, pos, type, attrs, marks);\n        return this;\n    }\n    /**\n    Set a single attribute on a given node to a new value.\n    The `pos` addresses the document content. Use `setDocAttribute`\n    to set attributes on the document itself.\n    */\n    setNodeAttribute(pos, attr, value) {\n        this.step(new AttrStep(pos, attr, value));\n        return this;\n    }\n    /**\n    Set a single attribute on the document to a new value.\n    */\n    setDocAttribute(attr, value) {\n        this.step(new DocAttrStep(attr, value));\n        return this;\n    }\n    /**\n    Add a mark to the node at position `pos`.\n    */\n    addNodeMark(pos, mark) {\n        this.step(new AddNodeMarkStep(pos, mark));\n        return this;\n    }\n    /**\n    Remove a mark (or a mark of the given type) from the node at\n    position `pos`.\n    */\n    removeNodeMark(pos, mark) {\n        if (!(mark instanceof Mark)) {\n            let node = this.doc.nodeAt(pos);\n            if (!node)\n                throw new RangeError(\"No node at position \" + pos);\n            mark = mark.isInSet(node.marks);\n            if (!mark)\n                return this;\n        }\n        this.step(new RemoveNodeMarkStep(pos, mark));\n        return this;\n    }\n    /**\n    Split the node at the given position, and optionally, if `depth` is\n    greater than one, any number of nodes above that. By default, the\n    parts split off will inherit the node type of the original node.\n    This can be changed by passing an array of types and attributes to\n    use after the split.\n    */\n    split(pos, depth = 1, typesAfter) {\n        split(this, pos, depth, typesAfter);\n        return this;\n    }\n    /**\n    Add the given mark to the inline content between `from` and `to`.\n    */\n    addMark(from, to, mark) {\n        addMark(this, from, to, mark);\n        return this;\n    }\n    /**\n    Remove marks from inline nodes between `from` and `to`. When\n    `mark` is a single mark, remove precisely that mark. When it is\n    a mark type, remove all marks of that type. When it is null,\n    remove all marks of any type.\n    */\n    removeMark(from, to, mark) {\n        removeMark(this, from, to, mark);\n        return this;\n    }\n    /**\n    Removes all marks and nodes from the content of the node at\n    `pos` that don't match the given new parent node type. Accepts\n    an optional starting [content match](https://prosemirror.net/docs/ref/#model.ContentMatch) as\n    third argument.\n    */\n    clearIncompatible(pos, parentType, match) {\n        clearIncompatible(this, pos, parentType, match);\n        return this;\n    }\n}\n\nexport { AddMarkStep, AddNodeMarkStep, AttrStep, DocAttrStep, MapResult, Mapping, RemoveMarkStep, RemoveNodeMarkStep, ReplaceAroundStep, ReplaceStep, Step, StepMap, StepResult, Transform, TransformError, canJoin, canSplit, dropPoint, findWrapping, insertPoint, joinPoint, liftTarget, replaceStep };\n"],"names":["Object","defineProperty","exports","value","ConsoleLogger","buildConsoleLogger","context","_contracts","_typeof","o","Symbol","iterator","constructor","prototype","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_toPropertyKey","key","arg","input","hint","prim","toPrimitive","undefined","res","call","TypeError","String","Number","_toPrimitive","obj","instance","Constructor","_classCallCheck","this","protoProps","staticProps","message","level","msg","LogLevel","toUpperCase","app","concat","name","Debug","stack","_this$context","_this$context2","error","console","debug","formatMessage","Info","info","Warn","warn","Error","Fatal","log","assign","LoggerBuilder","_auth","_defineProperty","factory","appId","uid","user","getCurrentUser","self","onLoaded","_window$_oc_config$lo","_window$_oc_config","document","readyState","window","_oc_config","loglevel","_oc_debug","removeEventListener","addEventListener","detectLogLevel","getLoggerBuilder","_ConsoleLogger","_LoggerBuilder","toStringTag","r","n","subscribe","e","token","forEach","t","s","u","getAttribute","getElementsByTagName","displayName","isAdmin","_oc_isadmin","getRequestToken","onRequestTokenUpdate","push","valid","major","_interopDefault","__esModule","default","valid__default","major__default","ProxyBus","bus","bus2","getVersion","handler","unsubscribe","emit","event","SimpleBus","handlers","Map","set","get","filter","h","getBus","Proxy","OC","_eventBus","_nc_event_bus","isPossiblePrototype","$String","$TypeError","module","argument","wellKnownSymbol","create","UNSCOPABLES","ArrayPrototype","Array","uncurryThis","slice","fails","F","getPrototypeOf","done","anObject","ordinaryToPrimitive","makeBuiltIn","getter","setter","f","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","classList","documentCreateElement","DOMTokenListPrototype","aCallable","object","method","getOwnPropertyDescriptor","isArray","isCallable","classof","toString","replacer","rawLength","keys","element","keysLength","root","j","isObject","setPrototypeOf","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","IteratorPrototype","createPropertyDescriptor","setToStringTag","Iterators","returnThis","IteratorConstructor","NAME","next","ENUMERABLE_NEXT","TO_STRING_TAG","$","IS_PURE","FunctionName","createIteratorConstructor","createNonEnumerableProperty","defineBuiltIn","IteratorsCore","PROPER_FUNCTION_NAME","PROPER","CONFIGURABLE_FUNCTION_NAME","CONFIGURABLE","BUGGY_SAFARI_ITERATORS","ITERATOR","KEYS","VALUES","ENTRIES","Iterable","DEFAULT","IS_SET","FORCED","CurrentIteratorPrototype","methods","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","values","proto","forced","PrototypeOfArrayIteratorPrototype","arrayIterator","test","DESCRIPTORS","objectKeys","getOwnPropertySymbolsModule","propertyIsEnumerableModule","toObject","IndexedObject","$assign","b","A","B","symbol","alphabet","split","chr","join","source","T","argumentsLength","arguments","index","getOwnPropertySymbols","propertyIsEnumerable","S","toIndexedObject","$getOwnPropertyNames","arraySlice","windowNames","getOwnPropertyNames","it","getWindowNames","hasOwn","sharedKey","CORRECT_PROTOTYPE_GETTER","IE_PROTO","$Object","ObjectPrototype","O","uncurryThisAccessor","requireObjectCoercible","aPossiblePrototype","CORRECT_SETTER","__proto__","TO_STRING_TAG_SUPPORT","global","TAG","STATIC","whitespaces","replace","ltrim","RegExp","rtrim","createMethod","TYPE","string","start","end","trim","getBuiltIn","SymbolPrototype","valueOf","TO_PRIMITIVE","arity","NATIVE_SYMBOL","keyFor","path","wrappedWellKnownSymbolModule","addToUnscopables","InternalStateModule","defineIterator","createIterResultObject","ARRAY_ITERATOR","setInternalState","getInternalState","getterFor","iterated","kind","type","state","Arguments","dateToPrimitive","DatePrototype","Date","apply","isSymbol","getReplacerFunction","$stringify","exec","charAt","charCodeAt","numberToString","tester","low","hi","WRONG_SYMBOLS_CONVERSION","a","ILL_FORMED_UNICODE","stringifyWithSymbolsFix","args","$replacer","fixIllFormed","match","offset","prev","stat","stringify","space","result","isForced","inheritIfRequired","isPrototypeOf","thisNumberValue","NUMBER","NativeNumber","PureNumberNamespace","NumberPrototype","stringSlice","toNumber","first","third","radix","maxCode","digits","code","NaN","parseInt","NumberWrapper","primValue","toNumeric","wrap","copyConstructorProperties","sham","$getOwnPropertySymbols","unsafe","STRING_ITERATOR","point","toPropertyKey","$toString","nativeObjectCreate","getOwnPropertyNamesModule","getOwnPropertyNamesExternal","getOwnPropertyDescriptorModule","definePropertyModule","definePropertiesModule","defineBuiltInAccessor","shared","hiddenKeys","defineWellKnownSymbol","defineSymbolToPrimitive","$forEach","HIDDEN","SYMBOL","PROTOTYPE","$Symbol","RangeError","QObject","nativeGetOwnPropertyDescriptor","nativeDefineProperty","nativeGetOwnPropertyNames","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","WellKnownSymbolsStore","USE_SETTER","findChild","fallbackDefineProperty","P","Attributes","ObjectPrototypeDescriptor","setSymbolDescriptor","tag","description","$defineProperty","$defineProperties","Properties","properties","$propertyIsEnumerable","V","$getOwnPropertyDescriptor","names","IS_OBJECT_PROTOTYPE","useSetter","useSimple","defineProperties","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","thisSymbolValue","symbolDescriptiveString","regexp","desc","NATIVE_SYMBOL_REGISTRY","StringToSymbolRegistry","SymbolToStringRegistry","tryToString","sym","DOMIterables","ArrayIteratorMethods","ArrayValues","handlePrototype","CollectionPrototype","COLLECTION_NAME","METHOD_NAME","storage","persist","build","emojiIndex","emojiSearch","query","maxResults","EmojiIndex","currentSkinTone","getCurrentSkinTone","results","search","frequently","map","id","emoji","getSkin","emojiAddRecent","add","_a","skinTone","getItem","Math","min","max","setCurrentSkinTone","setItem","factor16","pow","recoverIndex","MapResult","pos","delInfo","recover","deleted","deletedBefore","deletedAfter","deletedAcross","StepMap","ranges","inverted","empty","diff","recoverOffset","mapResult","assoc","_map","simple","oldIndex","newIndex","oldSize","newSize","del","touches","oldStart","newStart","invert","JSON","Mapping","maps","mirror","from","to","copy","appendMap","mirrors","setMirror","appendMapping","mapping","startSize","mirr","getMirror","m","appendMappingInverted","totalSize","inverse","corr","stepsByID","Step","getMap","merge","other","fromJSON","schema","json","stepType","jsonID","stepClass","StepResult","doc","failed","ok","fail","fromReplace","mapFragment","fragment","parent","mapped","childCount","child","content","size","isInline","fromArray","AddMarkStep","mark","super","oldSlice","$from","resolve","node","sharedDepth","isAtom","allowsMarkType","addToSet","marks","openStart","openEnd","RemoveMarkStep","eq","toJSON","markFromJSON","removeFromSet","AddNodeMarkStep","nodeAt","updated","attrs","isLeaf","newSet","isInSet","RemoveNodeMarkStep","ReplaceStep","structure","contentBetween","append","ReplaceAroundStep","gapFrom","gapTo","insert","gap","inserted","insertAt","removeBetween","dist","depth","indexAfter","maybeChild","firstChild","canCut","canReplace","liftTarget","range","cutByIndex","startIndex","endIndex","$to","spec","isolating","findWrapping","nodeType","innerRange","around","contentMatchAt","outer","canReplaceWith","findWrappingOutside","inner","inside","contentMatch","innerMatch","matchType","validEnd","findWrappingInside","withAttrs","canSplit","typesAfter","$pos","base","innerType","validContent","d","rest","overrideChild","replaceChild","after","baseType","canJoin","joinable","nodeBefore","nodeAfter","canAppend","joinPoint","dir","before","isTextblock","dropPoint","pass","bias","insertPos","fits","wrapping","replaceStep","fitsTrivially","Fitter","fit","unplaced","frontier","placed","findFittable","placeNodes","openMore","dropNode","moveInline","mustMoveInline","placedSize","close","startDepth","cur","sliceDepth","contentAt","frontierDepth","inject","fillBefore","compatibleContent","openAtEnd","dropFromFragment","closeFrontierNode","openFrontierNode","taken","matchFragment","openEndCount","matches","closeNodeStart","allowedMarks","toEnd","addToFragment","lastChild","top","contentAfterFits","findCloseLevel","scan","dropInner","move","pop","count","frag","open","allowsMarks","invalidMarks","closeFragment","oldOpen","newOpen","coveredDepths","inlineContent","AttrStep","attr","DocAttrStep","TransformError","err","Transform","steps","docs","step","maybeStep","addStep","docChanged","replaceWith","replaceRange","tr","deleteRange","targetDepths","preferredTarget","unshift","defining","definingAsContext","indexOf","splice","preferredTargetIndex","leftNodes","preferredDepth","leftNode","def","definingForContent","sameMarkup","abs","openDepth","targetDepth","expand","startSteps","replaceRangeWith","parentOffset","insertPoint","covered","last","delete","lift","gapStart","gapEnd","splitting","wrappers","setBlockType","mapFrom","nodesBetween","hasMarkup","canChangeType","clearIncompatible","startM","endM","nodeSize","setNodeMarkup","newNode","setNodeAttribute","setDocAttribute","addNodeMark","removeNodeMark","typeAfter","addMark","removing","adding","removed","added","removeMark","matched","toRemove","found","style","parentType","replSteps","allowed","isText","newline","text","fill"],"sourceRoot":""}