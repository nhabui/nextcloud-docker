{"version":3,"file":"deck-node_modules_moment_locale_sync_recursive_-src_views_BoardReferenceWidget_vue-data_image_svg_-373c63.js?v=a5d42afc40b060b3e5f7","mappings":"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","sources":["webpack:///deck/src/components/cards/AvatarList.vue","webpack://deck/./src/components/cards/AvatarList.vue?cfa7","webpack:///deck/src/mixins/labelStyle.js","webpack:///deck/src/components/ActivityEntry.vue?vue&type=style&index=0&id=4d6286d9&prod&scoped=true&lang=scss","webpack:///deck/src/components/Controls.vue?vue&type=style&index=0&id=f6667d3c&prod&lang=scss&scoped=true","webpack:///deck/src/components/Controls.vue?vue&type=style&index=1&id=f6667d3c&prod&lang=scss","webpack:///deck/src/components/SessionList.vue?vue&type=style&index=0&id=18e0f063&prod&scoped=true&lang=scss","webpack:///deck/src/components/board/Board.vue?vue&type=style&index=0&id=7a5373be&prod&lang=scss&scoped=true","webpack:///deck/src/components/board/Stack.vue?vue&type=style&index=0&id=3a502c33&prod&lang=scss&scoped=true","webpack:///deck/src/components/card/CardSidebar.vue?vue&type=style&index=0&id=4b0a8195&prod&lang=scss","webpack:///deck/src/components/card/CardSidebarTabComments.vue?vue&type=style&index=0&id=44c03ab6&prod&scoped=true&lang=scss","webpack:///deck/src/components/card/CardSidebarTabDetails.vue?vue&type=style&index=0&id=d1f1d148&prod&lang=scss&scoped=true","webpack:///deck/src/components/card/CommentForm.vue?vue&type=style&index=0&id=11857953&prod&scoped=true&lang=scss","webpack:///deck/src/components/card/CommentItem.vue?vue&type=style&index=0&id=31ec9839&prod&scoped=true&lang=scss","webpack:///deck/src/components/cards/AvatarList.vue?vue&type=style&index=0&id=c0f7e9f2&prod&scoped=true&lang=scss","webpack:///deck/src/components/cards/CardBadges.vue?vue&type=style&index=0&id=1cd7fbf0&prod&lang=scss&scoped=true","webpack:///deck/src/components/cards/CardCover.vue?vue&type=style&index=0&id=868099ce&prod&lang=scss&scoped=true","webpack:///deck/src/components/cards/CardItem.vue?vue&type=style&index=0&id=9aacc27e&prod&lang=scss&scoped=true","webpack:///deck/src/components/cards/badges/CardId.vue?vue&type=style&index=0&id=f56db06c&prod&lang=scss&scoped=true","webpack:///deck/src/components/cards/badges/DueDate.vue?vue&type=style&index=0&id=1afd2267&prod&lang=scss&scoped=true","webpack:///deck/src/components/search/GlobalSearchResults.vue?vue&type=style&index=0&id=7d9e2f4e&prod&lang=scss&scoped=true","webpack:///deck/src/components/search/Placeholder.vue?vue&type=style&index=0&id=43bfbf02&prod&lang=scss&scoped=true","webpack:///deck/src/views/BoardReferenceWidget.vue?vue&type=style&index=0&id=16b47a8d&prod&scoped=true&lang=scss","webpack:///deck/src/components/ActivityEntry.vue?vue&type=style&index=1&id=4d6286d9&prod&lang=css","webpack:///deck/src/components/ActivityList.vue?vue&type=style&index=0&id=d2d5aa18&prod&scoped=true&lang=css","webpack:///deck/node_modules/moment/locale|sync|/^\\.\\/.*$","webpack://deck/./src/components/cards/AvatarList.vue?951a","webpack://deck/./src/components/cards/AvatarList.vue?41a1","webpack://deck/./src/views/BoardReferenceWidget.vue?5cf6","webpack:///deck/src/components/SessionList.vue","webpack:///deck/src/components/SessionList.vue?vue&type=script&lang=js","webpack://deck/./src/components/SessionList.vue?d3f2","webpack://deck/./src/components/SessionList.vue?8f30","webpack://deck/./src/components/SessionList.vue?a91b","webpack:///deck/src/services/SessionApi.js","webpack:///deck/src/store/actions.js","webpack:///deck/src/services/StackApi.js","webpack:///deck/src/helpers/applyOrderToArray.js","webpack:///deck/src/store/stack.js","webpack:///deck/src/store/card.js","webpack:///deck/src/store/comment.js","webpack:///deck/src/services/CommentApi.js","webpack:///deck/src/store/trashbin.js","webpack:///deck/src/store/attachment.js","webpack:///deck/src/services/AttachmentApi.js","webpack:///deck/src/store/overview.js","webpack:///deck/src/services/OverviewApi.js","webpack:///deck/src/store/main.js","webpack:///deck/src/sessions.js","webpack:///deck/src/components/Controls.vue","webpack:///deck/src/components/Controls.vue?vue&type=script&lang=js","webpack://deck/./src/components/Controls.vue?e179","webpack://deck/./src/components/Controls.vue?5eee","webpack://deck/./src/components/Controls.vue?dd9d","webpack://deck/./src/components/Controls.vue?c75a","webpack:///deck/src/components/cards/badges/CardId.vue","webpack:///deck/src/components/cards/badges/CardId.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/badges/CardId.vue?043f","webpack://deck/./src/components/cards/badges/CardId.vue?60d3","webpack://deck/./src/components/cards/badges/CardId.vue?5b8a","webpack:///deck/src/components/cards/badges/DueDate.vue","webpack:///deck/src/components/cards/badges/DueDate.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/badges/DueDate.vue?0732","webpack://deck/./src/components/cards/badges/DueDate.vue?d84d","webpack://deck/./src/components/cards/badges/DueDate.vue?d8e0","webpack:///deck/src/components/cards/CardBadges.vue?vue&type=script&lang=js","webpack:///deck/src/components/cards/CardBadges.vue","webpack://deck/./src/components/cards/CardBadges.vue?872a","webpack://deck/./src/components/cards/CardBadges.vue?c0f4","webpack://deck/./src/components/cards/CardBadges.vue?151a","webpack:///deck/src/components/cards/CardMenuEntries.vue","webpack:///deck/src/components/cards/CardMenuEntries.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/CardMenuEntries.vue?316b","webpack://deck/./src/components/cards/CardMenuEntries.vue?8852","webpack:///deck/src/components/cards/CardMenu.vue?vue&type=script&lang=js","webpack:///deck/src/components/cards/CardMenu.vue","webpack://deck/./src/components/cards/CardMenu.vue?c2df","webpack://deck/./src/components/cards/CardMenu.vue?194d","webpack:///deck/src/components/cards/CardCover.vue","webpack:///deck/src/components/cards/CardCover.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/CardCover.vue?a6e6","webpack://deck/./src/components/cards/CardCover.vue?4181","webpack://deck/./src/components/cards/CardCover.vue?545a","webpack:///deck/src/components/cards/CardItem.vue","webpack:///deck/src/components/cards/CardItem.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/CardItem.vue?37ae","webpack://deck/./src/components/cards/CardItem.vue?3fc9","webpack://deck/./src/components/cards/CardItem.vue?c235","webpack:///deck/src/components/board/Stack.vue","webpack:///deck/src/components/board/Stack.vue?vue&type=script&lang=js","webpack://deck/./src/components/board/Stack.vue?08f7","webpack://deck/./src/components/board/Stack.vue?6b66","webpack://deck/./src/components/board/Stack.vue?5935","webpack://deck/./src/components/search/GlobalSearchResults.vue?3c40","webpack:///deck/src/components/search/Placeholder.vue","webpack:///deck/src/components/search/Placeholder.vue?vue&type=script&lang=js","webpack://deck/./src/components/search/Placeholder.vue?4cb5","webpack://deck/./src/components/search/Placeholder.vue?e780","webpack://deck/./src/components/search/Placeholder.vue?d187","webpack:///deck/src/components/search/GlobalSearchResults.vue","webpack:///deck/src/components/search/GlobalSearchResults.vue?vue&type=script&lang=js","webpack://deck/./src/components/search/GlobalSearchResults.vue?1de6","webpack://deck/./src/components/search/GlobalSearchResults.vue?f1cf","webpack:///deck/src/components/card/CardSidebarTabDetails.vue","webpack:///deck/src/components/card/CardSidebarTabDetails.vue?vue&type=script&lang=js","webpack://deck/./src/components/card/CardSidebarTabDetails.vue?1b50","webpack://deck/./src/components/card/CardSidebarTabDetails.vue?bca5","webpack://deck/./src/components/card/CardSidebarTabDetails.vue?bdf5","webpack:///deck/src/components/card/CardSidebarTabAttachments.vue","webpack:///deck/src/components/card/CardSidebarTabAttachments.vue?vue&type=script&lang=js","webpack://deck/./src/components/card/CardSidebarTabAttachments.vue?cad2","webpack://deck/./src/components/card/CardSidebarTabAttachments.vue?9e0c","webpack://deck/./src/components/card/CardSidebarTabComments.vue?d02c","webpack:///deck/src/helpers/mentions.js","webpack:///deck/src/components/card/CommentForm.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/CommentForm.vue","webpack://deck/./src/components/card/CommentForm.vue?fbe6","webpack://deck/./src/components/card/CommentForm.vue?e107","webpack://deck/./src/components/card/CommentForm.vue?32ab","webpack:///deck/src/components/card/CommentItem.vue","webpack:///deck/src/components/card/CommentItem.vue?vue&type=script&lang=js","webpack://deck/./src/components/card/CommentItem.vue?0ef1","webpack://deck/./src/components/card/CommentItem.vue?7213","webpack://deck/./src/components/card/CommentItem.vue?0964","webpack:///deck/src/components/card/CardSidebarTabComments.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/CardSidebarTabComments.vue","webpack://deck/./src/components/card/CardSidebarTabComments.vue?b531","webpack://deck/./src/components/card/CardSidebarTabComments.vue?454d","webpack://deck/./src/components/card/CardSidebarTabActivity.vue?3a31","webpack:///deck/src/components/ActivityEntry.vue","webpack:///deck/src/components/ActivityEntry.vue?vue&type=script&lang=js","webpack://deck/./src/components/ActivityEntry.vue?870d","webpack://deck/./src/components/ActivityEntry.vue?b97c","webpack://deck/./src/components/ActivityEntry.vue?a0a4","webpack://deck/./src/components/ActivityEntry.vue?3a91","webpack:///deck/src/components/ActivityList.vue?vue&type=script&lang=js","webpack:///deck/src/components/ActivityList.vue","webpack://deck/./src/components/ActivityList.vue?2be7","webpack://deck/./src/components/ActivityList.vue?011f","webpack:///deck/src/components/card/CardSidebarTabActivity.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/CardSidebarTabActivity.vue","webpack://deck/./src/components/ActivityList.vue?7342","webpack://deck/./src/components/card/CardSidebarTabActivity.vue?9b0e","webpack:///deck/src/components/card/CardSidebar.vue","webpack:///deck/src/components/card/CardSidebar.vue?vue&type=script&lang=js","webpack://deck/./src/components/card/CardSidebar.vue?1ed3","webpack://deck/./src/components/card/CardSidebar.vue?ebb2","webpack://deck/./src/components/card/CardSidebar.vue?beff","webpack:///deck/src/components/board/Board.vue?vue&type=script&lang=js","webpack:///deck/src/components/board/Board.vue","webpack://deck/./src/components/board/Board.vue?be9c","webpack://deck/./src/components/board/Board.vue?2041","webpack://deck/./src/components/board/Board.vue?b5a9","webpack:///deck/src/views/BoardReferenceWidget.vue","webpack:///deck/src/views/BoardReferenceWidget.vue?vue&type=script&lang=js","webpack://deck/./src/views/BoardReferenceWidget.vue?32e9","webpack://deck/./src/views/BoardReferenceWidget.vue?29e5","webpack:///deck/src/components/cards/AvatarList.vue?vue&type=script&lang=js"],"sourcesContent":["<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div class=\"avatars\">\n\t\t<div>\n\t\t\t<NcPopover>\n\t\t\t\t<template #trigger=\"{ attrs }\">\n\t\t\t\t\t<button class=\"avatar-list\" v-bind=\"attrs\" @click.stop>\n\t\t\t\t\t\t<div v-if=\"popover.length > 0\">\n\t\t\t\t\t\t\t<AccountMultiple class=\"avatardiv more-avatars\" :size=\"24\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-for=\"user in firstUsers\" :key=\"user.id\">\n\t\t\t\t\t\t\t<NcAvatar v-if=\"user.type === 0\"\n\t\t\t\t\t\t\t\t:user=\"user.participant.uid\"\n\t\t\t\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t\t\t\t:disable-menu=\"true\"\n\t\t\t\t\t\t\t\t:show-user-status=\"false\"\n\t\t\t\t\t\t\t\t:size=\"32\" />\n\t\t\t\t\t\t\t<NcAvatar v-if=\"user.type === 1\"\n\t\t\t\t\t\t\t\t:user=\"user.participant.uid\"\n\t\t\t\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t\t\t\t:tooltip-message=\"user.participant.displayname + ' ' + t('deck', '(Group)')\"\n\t\t\t\t\t\t\t\t:is-no-user=\"true\"\n\t\t\t\t\t\t\t\t:disable-=\"true\"\n\t\t\t\t\t\t\t\t:size=\"32\" />\n\t\t\t\t\t\t\t<NcAvatar v-if=\"user.type === 7\"\n\t\t\t\t\t\t\t\t:user=\"user.participant.uid\"\n\t\t\t\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t\t\t\t:tooltip-message=\"user.participant.displayname + ' ' + t('deck', '(Team)')\"\n\t\t\t\t\t\t\t\t:is-no-user=\"true\"\n\t\t\t\t\t\t\t\t:disable-=\"true\"\n\t\t\t\t\t\t\t\t:size=\"32\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t</template>\n\t\t\t\t<div>\n\t\t\t\t\t<div v-for=\"user in users\"\n\t\t\t\t\t\t:key=\"user.id\"\n\t\t\t\t\t\tclass=\"avatar-list-entry\">\n\t\t\t\t\t\t<NcAvatar :user=\"user.participant.uid\"\n\t\t\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t\t\t:disable-menu=\"true\"\n\t\t\t\t\t\t\t:is-no-user=\"user.type !== 0\"\n\t\t\t\t\t\t\t:size=\"32\" />\n\t\t\t\t\t\t<div class=\"avatar-list-entry__label\">\n\t\t\t\t\t\t\t{{ user.participant.displayname }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</NcPopover>\n\t\t</div>\n\n\t\t<div class=\"avatar-print-list\">\n\t\t\t<div v-for=\"user in avatarUsers\" :key=\"user.id\" class=\"avatar-print-list-item\">\n\t\t\t\t<NcAvatar class=\"avatar-print-list-avatar\"\n\t\t\t\t\t:user=\"user.participant.uid\"\n\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t:disable-menu=\"true\"\n\t\t\t\t\t:is-no-user=\"user.type !== 0\"\n\t\t\t\t\t:size=\"24\" />\n\t\t\t\t{{ user.participant.displayname }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { NcAvatar, NcPopover } from '@nextcloud/vue'\nimport { generateUrl } from '@nextcloud/router'\nimport AccountMultiple from 'vue-material-design-icons/AccountMultiple.vue'\n\nexport default {\n\tname: 'AvatarList',\n\tcomponents: {\n\t\tNcAvatar,\n\t\tNcPopover,\n\t\tAccountMultiple,\n\t},\n\tprops: {\n\t\tusers: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => ([]),\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpopoverVisible: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tfirstUsers() {\n\t\t\tif (!this.users || this.users.length === 0) {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\treturn this.users.slice(0, 3)\n\t\t},\n\t\tavatarUrl() {\n\t\t\treturn (assignable) => {\n\t\t\t\tif (assignable.type === 1) {\n\t\t\t\t\treturn 'icon-group'\n\t\t\t\t}\n\t\t\t\tconst user = assignable.participant.uid\n\t\t\t\tconst size = 32\n\t\t\t\tconst avatarUrl = generateUrl('/avatar/{user}/{size}',\n\t\t\t\t\t{\n\t\t\t\t\t\tuser,\n\t\t\t\t\t\tsize,\n\t\t\t\t\t})\n\t\t\t\treturn window.location.protocol + '//' + window.location.host + avatarUrl\n\t\t\t}\n\t\t},\n\t\tpopover() {\n\t\t\tif (!this.users || this.users.length === 0) {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\treturn [\n\t\t\t\t...this.users.slice(3).map((session) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\thref: '#',\n\t\t\t\t\t\ticon: this.avatarUrl(session),\n\t\t\t\t\t\ttext: session.participant.displayname + (session.type === 1 ? ' ' + t('deck', '(group)') : ''),\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t]\n\t\t},\n\t\tavatarUsers() {\n\t\t\tif (!this.users) {\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\treturn this.users.filter((user) => {\n\t\t\t\treturn [0, 1, 7].includes(user.type)\n\t\t\t})\n\t\t},\n\t},\n\tmethods: {\n\t\ttogglePopover() {\n\t\t\tif (this.popover.length > 0) {\n\t\t\t\tthis.popoverVisible = !this.popoverVisible\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t.avatars {\n\t\tposition: relative;\n\t\tflex-grow: 1;\n\t\t:deep(.popovermenu) {\n\t\t\tmargin-right: -4px;\n\t\t\timg {\n\t\t\t\tpadding: 0;\n\t\t\t\twidth: 32px !important;\n\t\t\t\theight: 32px !important;\n\t\t\t\tmargin: 6px;\n\t\t\t\tborder-radius: 50%;\n\t\t\t}\n\t\t}\n\t}\n\n\t$avatar-offset: 12px;\n\n\t.avatar-list {\n\t\tfloat: right;\n\t\tdisplay: inline-flex;\n\t\tflex-direction: row-reverse;\n\t\tpadding: 0;\n\t\tpadding-right: $avatar-offset;\n\t\tmargin: 0;\n\t\tborder: 0;\n\t\tbackground: transparent;\n\n\t\t& > div {\n\t\t\theight: 32px;\n\t\t}\n\n\t\t.avatardiv,\n\t\t:deep(.avatardiv) {\n\t\t\twidth: 32px;\n\t\t\theight: 32px;\n\t\t\tbox-sizing: content-box !important;\n\t\t\tmargin-right: -$avatar-offset;\n\t\t\ttransition: margin-right 0.2s ease-in-out;\n\t\t\tborder: 2px solid var(--color-main-background);\n\t\t}\n\n\t\t.more-avatars {\n\t\t\twidth: 32px;\n\t\t\theight: 32px;\n\t\t\tbackground-color: var(--color-background-dark) !important;\n\t\t\tcursor: pointer;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\n\t}\n\n\t.avatar-list-entry {\n\t\tdisplay: flex;\n\t\tpadding: 6px 12px;\n\n\t\t&__label {\n\t\t\tpadding: 4px 12px;\n\t\t}\n\t}\n\n\t.popovermenu {\n\t\tdisplay: block;\n\t\tmargin: 40px -6px;\n\t}\n\n\t.avatar-print-list {\n\t\tdisplay: none;\n\t}\n\n\t@media print {\n\t\t.avatar-list {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.avatar-print-list-item {\n\t\t\talign-items: center;\n\t\t\tdisplay: flex;\n\t\t\tgap: 10px;\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\n\t\t.avatar-print-list {\n\t\t\tdisplay: block;\n\t\t\tpadding-top: 5px;\n\t\t}\n\t}\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"avatars\"},[_c('div',[_c('NcPopover',{scopedSlots:_vm._u([{key:\"trigger\",fn:function({ attrs }){return [_c('button',_vm._b({staticClass:\"avatar-list\",on:{\"click\":function($event){$event.stopPropagation();}}},'button',attrs,false),[(_vm.popover.length > 0)?_c('div',[_c('AccountMultiple',{staticClass:\"avatardiv more-avatars\",attrs:{\"size\":24}})],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.firstUsers),function(user){return _c('div',{key:user.id},[(user.type === 0)?_c('NcAvatar',{attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"disable-menu\":true,\"show-user-status\":false,\"size\":32}}):_vm._e(),_vm._v(\" \"),(user.type === 1)?_c('NcAvatar',{attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"tooltip-message\":user.participant.displayname + ' ' + _vm.t('deck', '(Group)'),\"is-no-user\":true,\"disable-\":true,\"size\":32}}):_vm._e(),_vm._v(\" \"),(user.type === 7)?_c('NcAvatar',{attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"tooltip-message\":user.participant.displayname + ' ' + _vm.t('deck', '(Team)'),\"is-no-user\":true,\"disable-\":true,\"size\":32}}):_vm._e()],1)})],2)]}}])},[_vm._v(\" \"),_c('div',_vm._l((_vm.users),function(user){return _c('div',{key:user.id,staticClass:\"avatar-list-entry\"},[_c('NcAvatar',{attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"disable-menu\":true,\"is-no-user\":user.type !== 0,\"size\":32}}),_vm._v(\" \"),_c('div',{staticClass:\"avatar-list-entry__label\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(user.participant.displayname)+\"\\n\\t\\t\\t\\t\\t\")])],1)}),0)])],1),_vm._v(\" \"),_c('div',{staticClass:\"avatar-print-list\"},_vm._l((_vm.avatarUsers),function(user){return _c('div',{key:user.id,staticClass:\"avatar-print-list-item\"},[_c('NcAvatar',{staticClass:\"avatar-print-list-avatar\",attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"disable-menu\":true,\"is-no-user\":user.type !== 0,\"size\":24}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(user.participant.displayname)+\"\\n\\t\\t\")],1)}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * @copyright Copyright (c) 2020 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport Color from './color.js'\n\nexport default {\n\tmixins: [Color],\n\tcomputed: {\n\t\tlabelStyle() {\n\t\t\treturn (label) => {\n\t\t\t\treturn {\n\t\t\t\t\tbackgroundColor: '#' + label.color,\n\t\t\t\t\tcolor: this.textColor(label.color),\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.activity .activity--header[data-v-4d6286d9]{display:flex;padding:10px}.activity .activity--icon[data-v-4d6286d9]{width:16px;height:16px;flex-shrink:0;flex-grow:0}.activity .activity--subject[data-v-4d6286d9]{margin-left:10px}.activity .activity--message[data-v-4d6286d9]{margin-left:44px;color:var(--color-text-light);margin-bottom:10px}.activity .activity--timestamp[data-v-4d6286d9]{flex-grow:1;color:var(--color-text-maxcontrast);text-align:right;font-size:.8em;padding:1px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ActivityEntry.vue\"],\"names\":[],\"mappings\":\"AAGC,6CACC,YAAA,CACA,YAAA,CAGD,2CACC,UAAA,CACA,WAAA,CACA,aAAA,CACA,WAAA,CAED,8CACC,gBAAA,CAED,8CACC,gBAAA,CACA,6BAAA,CACA,kBAAA,CAED,gDACC,WAAA,CACA,mCAAA,CACA,gBAAA,CACA,cAAA,CACA,WAAA\",\"sourcesContent\":[\"\\n.activity {\\n\\n\\t.activity--header {\\n\\t\\tdisplay: flex;\\n\\t\\tpadding: 10px;\\n\\t}\\n\\n\\t.activity--icon {\\n\\t\\twidth: 16px;\\n\\t\\theight: 16px;\\n\\t\\tflex-shrink: 0;\\n\\t\\tflex-grow: 0;\\n\\t}\\n\\t.activity--subject {\\n\\t\\tmargin-left: 10px;\\n\\t}\\n\\t.activity--message {\\n\\t\\tmargin-left: 44px;\\n\\t\\tcolor: var(--color-text-light);\\n\\t\\tmargin-bottom: 10px;\\n\\t}\\n\\t.activity--timestamp {\\n\\t\\tflex-grow: 1;\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\ttext-align: right;\\n\\t\\tfont-size: 0.8em;\\n\\t\\tpadding: 1px;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.controls[data-v-f6667d3c]{display:flex;margin:5px;height:44px;padding-left:44px}.controls .board-title[data-v-f6667d3c]{display:flex;align-items:center}.controls .board-title h2[data-v-f6667d3c]{margin:0;margin-right:10px}.controls .board-title .board-bullet[data-v-f6667d3c]{display:inline-block;width:20px;height:20px;border:none;border-radius:50%;background-color:rgba(0,0,0,0);margin:12px;margin-left:-4px}.controls #stack-add form[data-v-f6667d3c]{display:flex}#app-navigation-toggle-custom[data-v-f6667d3c]{position:static;width:44px;height:44px;cursor:pointer;opacity:1;display:inline-block !important}.board-actions[data-v-f6667d3c]{flex-grow:1;order:100;display:flex;justify-content:flex-end}.board-action-buttons[data-v-f6667d3c]{display:flex}.deck-search[data-v-f6667d3c]{display:flex;align-items:center;justify-content:center}.deck-search input[type=search][data-v-f6667d3c]{background-position:5px;padding-left:24px !important}.filter--item input+label[data-v-f6667d3c]{display:block;padding:6px 0}.filter--item input+label .avatardiv[data-v-f6667d3c]{vertical-align:middle;margin-bottom:2px;margin-right:3px}.filter--item input+label .label[data-v-f6667d3c]{padding:5px;border-radius:3px}.filter[data-v-f6667d3c]{width:240px;max-height:calc(100vh - 150px);position:relative;overflow:auto;padding:8px}.filter h3[data-v-f6667d3c]{margin-top:0px;margin-bottom:5px}.filter-button[data-v-f6667d3c]{padding:0;border-radius:50%;width:44px;height:44px}.filter-button[data-popper-shown][data-v-f6667d3c]{background-color:var(--color-background-hover)}.filter-button[data-popper-shown].button-vue--vue-primary[data-v-f6667d3c]{background-color:var(--color-primary-element)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Controls.vue\"],\"names\":[],\"mappings\":\"AACA,2BACC,YAAA,CACA,UAAA,CACA,WAAA,CACA,iBAAA,CAEA,wCACC,YAAA,CACA,kBAAA,CAEA,2CACC,QAAA,CACA,iBAAA,CAGD,sDACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,8BAAA,CACA,WAAA,CACA,gBAAA,CAIF,2CACC,YAAA,CAIF,+CACC,eAAA,CACA,UAAA,CACA,WAAA,CACA,cAAA,CACA,SAAA,CACA,+BAAA,CAGD,gCACC,WAAA,CACA,SAAA,CACA,YAAA,CACA,wBAAA,CAGD,uCACC,YAAA,CAGD,8BACC,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,iDACC,uBAAA,CACA,4BAAA,CAKD,2CACC,aAAA,CACA,aAAA,CACA,sDACC,qBAAA,CACA,iBAAA,CACA,gBAAA,CAED,kDACC,WAAA,CACA,iBAAA,CAKH,yBACC,WAAA,CACA,8BAAA,CACA,iBAAA,CACA,aAAA,CACA,WAAA,CAGD,4BACC,cAAA,CACA,iBAAA,CAGD,gCACC,SAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CAEA,mDACC,8CAAA,CACA,2EACC,6CAAA\",\"sourcesContent\":[\"\\n.controls {\\n\\tdisplay: flex;\\n\\tmargin: 5px;\\n\\theight: 44px;\\n\\tpadding-left: 44px;\\n\\n\\t.board-title {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\n\\t\\th2 {\\n\\t\\t\\tmargin: 0;\\n\\t\\t\\tmargin-right: 10px;\\n\\t\\t}\\n\\n\\t\\t.board-bullet {\\n\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\twidth: 20px;\\n\\t\\t\\theight: 20px;\\n\\t\\t\\tborder: none;\\n\\t\\t\\tborder-radius: 50%;\\n\\t\\t\\tbackground-color: transparent;\\n\\t\\t\\tmargin: 12px;\\n\\t\\t\\tmargin-left: -4px;\\n\\t\\t}\\n\\t}\\n\\n\\t#stack-add form {\\n\\t\\tdisplay: flex;\\n\\t}\\n}\\n\\n#app-navigation-toggle-custom {\\n\\tposition: static;\\n\\twidth: 44px;\\n\\theight: 44px;\\n\\tcursor: pointer;\\n\\topacity: 1;\\n\\tdisplay: inline-block !important;\\n}\\n\\n.board-actions {\\n\\tflex-grow: 1;\\n\\torder: 100;\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n}\\n\\n.board-action-buttons {\\n\\tdisplay: flex;\\n}\\n\\n.deck-search {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tinput[type=search] {\\n\\t\\tbackground-position: 5px;\\n\\t\\tpadding-left: 24px !important;\\n\\t}\\n}\\n\\n.filter--item {\\n\\tinput + label {\\n\\t\\tdisplay: block;\\n\\t\\tpadding: 6px 0;\\n\\t\\t.avatardiv {\\n\\t\\t\\tvertical-align: middle;\\n\\t\\t\\tmargin-bottom: 2px;\\n\\t\\t\\tmargin-right: 3px;\\n\\t\\t}\\n\\t\\t.label {\\n\\t\\t\\tpadding: 5px;\\n\\t\\t\\tborder-radius: 3px;\\n\\t\\t}\\n\\t}\\n}\\n\\n.filter {\\n\\twidth: 240px;\\n\\tmax-height: calc(100vh - 150px);\\n\\tposition: relative;\\n\\toverflow: auto;\\n\\tpadding: 8px;\\n}\\n\\n.filter h3 {\\n\\tmargin-top: 0px;\\n\\tmargin-bottom: 5px;\\n}\\n\\n.filter-button {\\n\\tpadding: 0;\\n\\tborder-radius: 50%;\\n\\twidth: 44px;\\n\\theight: 44px;\\n\\n\\t&[data-popper-shown] {\\n\\t\\tbackground-color: var(--color-background-hover);\\n\\t\\t&.button-vue--vue-primary {\\n\\t\\t\\tbackground-color: var(--color-primary-element);\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.popover:focus{outline:2px solid var(--color-main-text)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Controls.vue\"],\"names\":[],\"mappings\":\"AACA,eACC,wCAAA\",\"sourcesContent\":[\"\\n.popover:focus {\\n\\toutline: 2px solid var(--color-main-text);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.avatar-list[data-v-18e0f063]{min-height:44px;align-items:center;padding-right:.5em;border:none;background-color:var(--color-main-background);margin:0;padding-left:6px;display:inline-flex;flex-direction:row-reverse}.avatar-list[data-v-18e0f063]:focus{background-color:#eee}.avatar-wrapper[data-v-18e0f063]{background-color:#b9b9b9;border-radius:50%;border:1px solid var(--color-border-dark);width:var(--size);height:var(--size);text-align:center;color:#fff;line-height:var(--size);font-size:var(--font-size);font-weight:normal;z-index:1;overflow:hidden;box-sizing:content-box !important;margin-left:-8px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SessionList.vue\"],\"names\":[],\"mappings\":\"AAEA,8BACC,eAAA,CACA,kBAAA,CACA,kBAAA,CACA,WAAA,CACA,6CAAA,CACA,QAAA,CACA,gBAAA,CACA,mBAAA,CACA,0BAAA,CAEA,oCACC,qBAAA,CAKF,iCACC,wBAAA,CACA,iBAAA,CACA,yCAAA,CACA,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,UAAA,CACA,uBAAA,CACA,0BAAA,CACA,kBAAA,CACA,SAAA,CACA,eAAA,CACA,iCAAA,CACA,gBAAA\",\"sourcesContent\":[\"\\n\\n.avatar-list {\\n\\tmin-height: 44px;\\n\\talign-items: center;\\n\\tpadding-right: 0.5em;\\n\\tborder: none;\\n\\tbackground-color: var(--color-main-background);\\n\\tmargin: 0;\\n\\tpadding-left: 6px;\\n\\tdisplay: inline-flex;\\n\\tflex-direction: row-reverse;\\n\\n\\t&:focus {\\n\\t\\tbackground-color: #eee;\\n\\t}\\n\\n}\\n\\n.avatar-wrapper {\\n\\tbackground-color: #b9b9b9;\\n\\tborder-radius: 50%;\\n\\tborder: 1px solid var(--color-border-dark);\\n\\twidth: var(--size);\\n\\theight: var(--size);\\n\\ttext-align: center;\\n\\tcolor: #ffffff;\\n\\tline-height: var(--size);\\n\\tfont-size: var(--font-size);\\n\\tfont-weight: normal;\\n\\tz-index: 1;\\n\\toverflow: hidden;\\n\\tbox-sizing: content-box !important;\\n\\tmargin-left: -8px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.fade-enter-active[data-v-7a5373be]{transition:opacity 250ms}.fade-enter[data-v-7a5373be],.fade-leave-to[data-v-7a5373be]{opacity:0}.zoom-appear-active-class[data-v-7a5373be],.zoom-enter-active[data-v-7a5373be]{animation:zoom-in-7a5373be var(--animation-quick)}.zoom-leave-active[data-v-7a5373be]{animation:zoom-in-7a5373be var(--animation-quick) reverse;will-change:transform}@keyframes zoom-in-7a5373be{0%{transform:scale(0);opacity:0}100%{transform:scale(1);opacity:1}}form[data-v-7a5373be]{text-align:center;display:flex;width:100%;max-width:200px;margin:auto;margin-top:20px}form input[type=text][data-v-7a5373be]{flex-grow:1}.board-wrapper[data-v-7a5373be]{position:relative;width:100%;height:100%;max-height:calc(100vh - 50px);display:flex;flex-direction:column}.board[data-v-7a5373be]{padding-left:16px;position:relative;max-height:calc(100% - 44px);overflow:hidden;overflow-x:auto;flex-grow:1}.smooth-dnd-container.horizontal[data-v-7a5373be]{display:flex;align-items:stretch;height:100%}.smooth-dnd-container.horizontal[data-v-7a5373be] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper{display:flex;height:auto}.smooth-dnd-container.horizontal[data-v-7a5373be] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack{display:flex;flex-direction:column;position:relative}.smooth-dnd-container.horizontal[data-v-7a5373be] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack .smooth-dnd-container.vertical{flex-grow:1;display:flex;flex-direction:column;padding:12px;overflow-x:hidden;overflow-y:auto;padding-top:15px;margin-top:-10px;scrollbar-gutter:stable}.smooth-dnd-container.horizontal[data-v-7a5373be] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack .smooth-dnd-container.vertical>.smooth-dnd-draggable-wrapper{overflow:initial}.smooth-dnd-container.horizontal[data-v-7a5373be] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack .smooth-dnd-container.vertical .smooth-dnd-draggable-wrapper{height:auto}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/animations.scss\",\"webpack://./src/components/board/Board.vue\",\"webpack://./src/css/variables.scss\"],\"names\":[],\"mappings\":\"AAAA,oCACC,wBAAA,CAGD,6DACC,SAAA,CAGD,+EAEC,iDAAA,CAGD,oCACC,yDAAA,CACA,qBAAA,CAED,4BACC,GACC,kBAAA,CACA,SAAA,CAED,KACC,kBAAA,CACA,SAAA,CAAA,CCpBF,sBACC,iBAAA,CACA,YAAA,CACA,UAAA,CACA,eAAA,CACA,WAAA,CACA,eAAA,CAEA,uCACC,WAAA,CAIF,gCACC,iBAAA,CACA,UAAA,CACA,WAAA,CACA,6BAAA,CACA,YAAA,CACA,qBAAA,CAGD,wBACC,iBCvBe,CDwBf,iBAAA,CACA,4BAAA,CACA,eAAA,CACA,eAAA,CACA,WAAA,CAOD,kDACC,YAAA,CACA,mBAAA,CACA,WAAA,CAEA,wGACC,YAAA,CACA,WAAA,CAEA,+GACC,YAAA,CACA,qBAAA,CACA,iBAAA,CAEA,8IACC,WAAA,CACA,YAAA,CACA,qBAAA,CACA,YCvDY,CDwDZ,iBAAA,CACA,eAAA,CACA,gBAAA,CACA,gBAAA,CACA,uBAAA,CAGD,4KACC,gBAAA,CAGD,4KACC,WAAA\",\"sourcesContent\":[\".fade-enter-active {\\n\\ttransition: opacity 250ms;\\n}\\n\\n.fade-enter, .fade-leave-to {\\n\\topacity: 0;\\n}\\n\\n.zoom-appear-active-class,\\n.zoom-enter-active {\\n\\tanimation: zoom-in var(--animation-quick);\\n}\\n\\n.zoom-leave-active {\\n\\tanimation: zoom-in var(--animation-quick) reverse;\\n\\twill-change: transform;\\n}\\n@keyframes zoom-in {\\n\\t0% {\\n\\t\\ttransform: scale(0);\\n\\t\\topacity: 0;\\n\\t}\\n\\t100% {\\n\\t\\ttransform: scale(1);\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\",\"\\n@import '../../css/animations';\\n@import '../../css/variables';\\n\\nform {\\n\\ttext-align: center;\\n\\tdisplay: flex;\\n\\twidth: 100%;\\n\\tmax-width: 200px;\\n\\tmargin: auto;\\n\\tmargin-top: 20px;\\n\\n\\tinput[type=text] {\\n\\t\\tflex-grow: 1;\\n\\t}\\n}\\n\\n.board-wrapper {\\n\\tposition: relative;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tmax-height: calc(100vh - 50px);\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n}\\n\\n.board {\\n\\tpadding-left: $board-spacing;\\n\\tposition: relative;\\n\\tmax-height: calc(100% - 44px);\\n\\toverflow: hidden;\\n\\toverflow-x: auto;\\n\\tflex-grow: 1;\\n}\\n\\n/**\\n * Combined rules to handle proper board scrolling and\\n * drag and drop behavior\\n */\\n.smooth-dnd-container.horizontal {\\n\\tdisplay: flex;\\n\\talign-items: stretch;\\n\\theight: 100%;\\n\\n\\t&:deep(.stack-draggable-wrapper.smooth-dnd-draggable-wrapper) {\\n\\t\\tdisplay: flex;\\n\\t\\theight: auto;\\n\\n\\t\\t.stack {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-direction: column;\\n\\t\\t\\tposition: relative;\\n\\n\\t\\t\\t.smooth-dnd-container.vertical {\\n\\t\\t\\t\\tflex-grow: 1;\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tflex-direction: column;\\n\\t\\t\\t\\tpadding: $stack-spacing;\\n\\t\\t\\t\\toverflow-x: hidden;\\n\\t\\t\\t\\toverflow-y: auto;\\n\\t\\t\\t\\tpadding-top: 15px;\\n\\t\\t\\t\\tmargin-top: -10px;\\n\\t\\t\\t\\tscrollbar-gutter: stable;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.smooth-dnd-container.vertical > .smooth-dnd-draggable-wrapper {\\n\\t\\t\\t\\toverflow: initial;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.smooth-dnd-container.vertical .smooth-dnd-draggable-wrapper {\\n\\t\\t\\t\\theight: auto;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n\",\"$card-spacing: 16px;\\n$card-padding: 8px;\\n$stack-spacing: 12px;\\n$stack-width: 280px;\\n$board-spacing: 16px;\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.stack[data-v-3a502c33]{width:316px}.stack__header[data-v-3a502c33]{display:flex;position:sticky;top:0;z-index:100;padding-left:16px;padding-right:16px;cursor:grab;min-height:44px}.stack__header[data-v-3a502c33]:before{content:\" \";display:block;position:absolute;width:calc(100% - 16px);height:20px;top:30px;left:0px;z-index:99;transition:top var(--animation-slow);background-image:linear-gradient(180deg, var(--color-main-background) 3px, rgba(255, 255, 255, 0) 100%)}body.theme--dark .stack__header[data-v-3a502c33]:before{background-image:linear-gradient(180deg, var(--color-main-background) 3px, rgba(0, 0, 0, 0) 100%)}.stack__header--add[data-v-3a502c33]:before{height:80px;background-image:linear-gradient(180deg, var(--color-main-background) 68px, rgba(255, 255, 255, 0) 100%)}body.theme--dark .stack__header--add[data-v-3a502c33]:before{background-image:linear-gradient(180deg, var(--color-main-background) 68px, rgba(0, 0, 0, 0) 100%)}.stack__header>*[data-v-3a502c33]{position:relative;z-index:100}.stack__header h3[data-v-3a502c33],.stack__header form[data-v-3a502c33]{flex-grow:1;display:flex;cursor:inherit;margin:0}.stack__header h3 input[type=text][data-v-3a502c33],.stack__header form input[type=text][data-v-3a502c33]{flex-grow:1}.stack__header h3.stack__title[data-v-3a502c33]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:220px;border-radius:3px;margin:6px;padding:4px 4px}.stack__header h3.stack__title[data-v-3a502c33]:focus-visible{outline:2px solid var(--color-border-dark);border-radius:3px}.stack__header form[data-v-3a502c33]{margin:2px 0}.stack__card-add[data-v-3a502c33]{height:44px;flex-shrink:0;z-index:100;display:flex;margin-top:5px;margin-bottom:8px;background-color:var(--color-main-background)}.stack__card-add form[data-v-3a502c33]{display:flex;margin-left:12px;margin-right:12px;width:100%;border:2px solid var(--color-border);border-radius:var(--border-radius-large);overflow:hidden;padding:2px}.stack__card-add.icon-loading-small[data-v-3a502c33]:after,.stack__card-add.icon-loading-small-dark[data-v-3a502c33]:after{margin-left:calc(50% - 25px)}.stack__card-add input[type=text][data-v-3a502c33]{flex-grow:1}.stack__card-add input[data-v-3a502c33]{border:none}.slide-top-enter-active[data-v-3a502c33],.slide-top-leave-active[data-v-3a502c33]{transition:all 100ms ease}.slide-top-enter[data-v-3a502c33],.slide-top-leave-to[data-v-3a502c33]{transform:translateY(-10px);opacity:0;height:0px}.modal__content[data-v-3a502c33]{width:25vw;min-width:250px;min-height:100px;text-align:center;margin:20px 20px 20px 20px}.modal__content button[data-v-3a502c33]{float:right}progress[data-v-3a502c33]{margin-top:3px;margin-bottom:30px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/board/Stack.vue\",\"webpack://./src/css/variables.scss\"],\"names\":[],\"mappings\":\"AAMA,wBACC,WAAA,CAGD,gCACC,YAAA,CACA,eAAA,CACA,KAAA,CACA,WAAA,CACA,iBCfc,CDgBd,kBChBc,CDiBd,WAAA,CACA,eAAA,CAGA,uCACC,WAAA,CACA,aAAA,CACA,iBAAA,CACA,uBAAA,CACA,WAAA,CACA,QAAA,CACA,QAAA,CACA,UAAA,CACA,oCAAA,CAEA,uGAAA,CACA,wDACC,iGAAA,CAIF,4CACC,WAAA,CACA,wGAAA,CACA,6DACC,kGAAA,CAIF,kCACC,iBAAA,CACA,WAAA,CAGD,wEACC,WAAA,CACA,YAAA,CACA,cAAA,CACA,QAAA,CAEA,0GACC,WAAA,CAIF,gDACC,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,eAAA,CACA,iBAAA,CACA,UAAA,CACA,eAAA,CAEA,8DACC,0CAAA,CACA,iBAAA,CAIF,qCACC,YAAA,CAIF,kCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,cAAA,CACA,iBAAA,CACA,6CAAA,CAEA,uCACC,YAAA,CACA,gBAAA,CACA,iBAAA,CACA,UAAA,CACA,oCAAA,CACA,wCAAA,CACA,eAAA,CACA,WAAA,CAGD,2HAEC,4BAAA,CAGD,mDACC,WAAA,CAGD,wCACC,WAAA,CAQF,kFAEC,yBAAA,CAGD,uEACC,2BAAA,CACA,SAAA,CACA,UAAA,CAGD,iCACC,UAAA,CACA,eAAA,CACA,gBAAA,CACA,iBAAA,CACA,0BAAA,CAGD,wCACC,WAAA,CAGD,0BACC,cAAA,CACA,kBAAA\",\"sourcesContent\":[\"\\n\\n@use 'sass:math';\\n\\n@import './../../css/variables';\\n\\n.stack {\\n\\twidth: $stack-width + $stack-spacing * 3;\\n}\\n\\n.stack__header {\\n\\tdisplay: flex;\\n\\tposition: sticky;\\n\\ttop: 0;\\n\\tz-index: 100;\\n\\tpadding-left: $card-spacing;\\n\\tpadding-right: $card-spacing;\\n\\tcursor: grab;\\n\\tmin-height: 44px;\\n\\n\\t// Smooth fade out of the cards at the top\\n\\t&:before {\\n\\t\\tcontent: ' ';\\n\\t\\tdisplay: block;\\n\\t\\tposition: absolute;\\n\\t\\twidth: calc(100% - 16px);\\n\\t\\theight: 20px;\\n\\t\\ttop: 30px;\\n\\t\\tleft: 0px;\\n\\t\\tz-index: 99;\\n\\t\\ttransition: top var(--animation-slow);\\n\\n\\t\\tbackground-image: linear-gradient(180deg, var(--color-main-background) 3px, rgba(255, 255, 255, 0) 100%);\\n\\t\\tbody.theme--dark & {\\n\\t\\t\\tbackground-image: linear-gradient(180deg, var(--color-main-background) 3px, rgba(0, 0, 0, 0) 100%);\\n\\t\\t}\\n\\t}\\n\\n\\t&--add:before {\\n\\t\\theight: 80px;\\n\\t\\tbackground-image: linear-gradient(180deg, var(--color-main-background) 68px, rgba(255, 255, 255, 0) 100%);\\n\\t\\tbody.theme--dark & {\\n\\t\\t\\tbackground-image: linear-gradient(180deg, var(--color-main-background) 68px, rgba(0, 0, 0, 0) 100%);\\n\\t\\t}\\n\\t}\\n\\n\\t& > * {\\n\\t\\tposition: relative;\\n\\t\\tz-index: 100;\\n\\t}\\n\\n\\th3, form {\\n\\t\\tflex-grow: 1;\\n\\t\\tdisplay: flex;\\n\\t\\tcursor: inherit;\\n\\t\\tmargin: 0;\\n\\n\\t\\tinput[type=text] {\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t}\\n\\t}\\n\\n\\th3.stack__title {\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\tmax-width: calc($stack-width - 60px);\\n\\t\\tborder-radius: 3px;\\n\\t\\tmargin: 6px;\\n\\t\\tpadding: 4px 4px;\\n\\n\\t\\t&:focus-visible {\\n\\t\\t\\toutline: 2px solid var(--color-border-dark);\\n\\t\\t\\tborder-radius: 3px;\\n\\t\\t}\\n\\t}\\n\\n\\tform {\\n\\t\\tmargin: 2px 0;\\n\\t}\\n}\\n\\n.stack__card-add {\\n\\theight: 44px;\\n\\tflex-shrink: 0;\\n\\tz-index: 100;\\n\\tdisplay: flex;\\n\\tmargin-top: 5px;\\n\\tmargin-bottom: 8px;\\n\\tbackground-color: var(--color-main-background);\\n\\n\\tform {\\n\\t\\tdisplay: flex;\\n\\t\\tmargin-left: 12px;\\n\\t\\tmargin-right: 12px;\\n\\t\\twidth: 100%;\\n\\t\\tborder: 2px solid var(--color-border);\\n\\t\\tborder-radius: var(--border-radius-large);\\n\\t\\toverflow: hidden;\\n\\t\\tpadding: 2px;\\n\\t}\\n\\n\\t&.icon-loading-small:after,\\n\\t&.icon-loading-small-dark:after {\\n\\t\\tmargin-left: calc(50% - 25px);\\n\\t}\\n\\n\\tinput[type=text] {\\n\\t\\tflex-grow: 1;\\n\\t}\\n\\n\\tinput {\\n\\t\\tborder: none;\\n\\t}\\n}\\n\\n/**\\n * Rules to handle scrolling behaviour are inherited from Board.vue\\n */\\n\\n.slide-top-enter-active,\\n.slide-top-leave-active {\\n\\ttransition: all 100ms ease;\\n}\\n\\n.slide-top-enter, .slide-top-leave-to {\\n\\ttransform: translateY(-10px);\\n\\topacity: 0;\\n\\theight: 0px;\\n}\\n\\n.modal__content {\\n\\twidth: 25vw;\\n\\tmin-width: 250px;\\n\\tmin-height: 100px;\\n\\ttext-align: center;\\n\\tmargin: 20px 20px 20px 20px;\\n}\\n\\n.modal__content button {\\n\\tfloat: right;\\n}\\n\\nprogress {\\n\\tmargin-top: 3px;\\n\\tmargin-bottom: 30px;\\n}\\n\\n\",\"$card-spacing: 16px;\\n$card-padding: 8px;\\n$stack-spacing: 12px;\\n$stack-width: 280px;\\n$board-spacing: 16px;\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `section.app-sidebar__tab--active{min-height:auto;display:flex;flex-direction:column;height:100%}.modal__card .app-sidebar{border:0;min-width:calc(100% - 28px);position:relative;top:0;left:0;right:0;max-width:calc(100% - 28px);padding:0 14px;height:auto;overflow:initial;user-select:text;-webkit-user-select:text}.modal__card .app-sidebar:deep .app-sidebar-header{position:sticky;top:0;z-index:100;background-color:var(--color-main-background)}.modal__card .app-sidebar:deep .app-sidebar-tabs__nav{position:sticky;top:87px;margin:0;z-index:100;background-color:var(--color-main-background)}.modal__card .app-sidebar:deep .app-sidebar__tab{overflow:initial}.modal__card .app-sidebar:deep #emptycontent,.modal__card .app-sidebar:deep .emptycontent{margin-top:88px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/card/CardSidebar.vue\"],\"names\":[],\"mappings\":\"AAEA,iCACC,eAAA,CACA,YAAA,CACA,qBAAA,CACA,WAAA,CAKD,0BAEC,QAAA,CACA,2BAAA,CACA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,OAAA,CACA,2BAAA,CACA,cAAA,CACA,WAAA,CACA,gBAAA,CACA,gBAAA,CACA,wBAAA,CAIC,mDACC,eAAA,CACA,KAAA,CACA,WAAA,CACA,6CAAA,CAED,sDACC,eAAA,CACA,QAAA,CACA,QAAA,CACA,WAAA,CACA,6CAAA,CAGD,iDACC,gBAAA,CAGD,0FACC,eAAA\",\"sourcesContent\":[\"\\n\\nsection.app-sidebar__tab--active {\\n\\tmin-height: auto;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\theight: 100%;\\n}\\n\\n// FIXME: Obivously we should at some point not randomly reuse the sidebar component\\n// since this is not oficially supported\\n.modal__card .app-sidebar {\\n\\t$modal-padding: 14px;\\n\\tborder: 0;\\n\\tmin-width: calc(100% - #{$modal-padding * 2});\\n\\tposition: relative;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\tright: 0;\\n\\tmax-width: calc(100% - #{$modal-padding * 2});\\n\\tpadding: 0 14px;\\n\\theight: auto;\\n\\toverflow: initial;\\n\\tuser-select: text;\\n\\t-webkit-user-select: text;\\n\\n\\t// FIXME: test\\n\\t&:deep {\\n\\t\\t.app-sidebar-header {\\n\\t\\t\\tposition: sticky;\\n\\t\\t\\ttop: 0;\\n\\t\\t\\tz-index: 100;\\n\\t\\t\\tbackground-color: var(--color-main-background);\\n\\t\\t}\\n\\t\\t.app-sidebar-tabs__nav {\\n\\t\\t\\tposition: sticky;\\n\\t\\t\\ttop: 87px;\\n\\t\\t\\tmargin: 0;\\n\\t\\t\\tz-index: 100;\\n\\t\\t\\tbackground-color: var(--color-main-background);\\n\\t\\t}\\n\\n\\t\\t.app-sidebar__tab {\\n\\t\\t\\toverflow: initial;\\n\\t\\t}\\n\\n\\t\\t#emptycontent, .emptycontent {\\n\\t\\t\\tmargin-top: 88px;\\n\\t\\t}\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.comment-form form[data-v-44c03ab6]{display:flex;flex-grow:1;position:relative}.comment-form form .editor__content[data-v-44c03ab6]{flex-grow:1;margin-left:44px}.comment-form form .editor__content[data-v-44c03ab6] .ProseMirror{width:100%}.comment-form form input[type=submit][data-v-44c03ab6]{width:44px;height:44px;margin:0;padding:13px;background-color:rgba(0,0,0,0);border:none;opacity:.3;position:absolute;bottom:0;right:0}.comment[data-v-44c03ab6]{margin-bottom:10px}.comment--header[data-v-44c03ab6]{display:flex;align-items:center;color:var(--color-text-light)}.comment--header .username[data-v-44c03ab6]{padding:10px}.comment--header .spacer[data-v-44c03ab6]{flex-grow:1}.comment--header .timestamp[data-v-44c03ab6]{color:var(--color-text-maxcontrast)}.comment--content[data-v-44c03ab6]{margin-left:44px;word-break:break-word}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/comments.scss\"],\"names\":[],\"mappings\":\"AAAA,oCACC,YAAA,CACA,WAAA,CACA,iBAAA,CAEA,qDACC,WAAA,CACA,gBAAA,CAEA,kEACC,UAAA,CAIF,uDACC,UAAA,CACA,WAAA,CACA,QAAA,CACA,YAAA,CACA,8BAAA,CACA,WAAA,CACA,UAAA,CACA,iBAAA,CACA,QAAA,CACA,OAAA,CAIF,0BACC,kBAAA,CAGD,kCACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,4CACC,YAAA,CAED,0CACC,WAAA,CAED,6CACC,mCAAA,CAIF,mCACC,gBAAA,CACA,qBAAA\",\"sourcesContent\":[\".comment-form form {\\n\\tdisplay: flex;\\n\\tflex-grow: 1;\\n\\tposition: relative;\\n\\n\\t.editor__content:deep {\\n\\t\\tflex-grow: 1;\\n\\t\\tmargin-left: 44px;\\n\\n\\t\\t.ProseMirror {\\n\\t\\t\\twidth: 100%;\\n\\t\\t}\\n\\t}\\n\\n\\tinput[type='submit'] {\\n\\t\\twidth: 44px;\\n\\t\\theight: 44px;\\n\\t\\tmargin: 0;\\n\\t\\tpadding: 13px;\\n\\t\\tbackground-color: transparent;\\n\\t\\tborder: none;\\n\\t\\topacity: .3;\\n\\t\\tposition: absolute;\\n\\t\\tbottom: 0;\\n\\t\\tright: 0;\\n\\t}\\n}\\n\\n.comment {\\n\\tmargin-bottom: 10px;\\n}\\n\\n.comment--header {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tcolor: var(--color-text-light);\\n\\n\\t.username {\\n\\t\\tpadding: 10px;\\n\\t}\\n\\t.spacer {\\n\\t\\tflex-grow: 1;\\n\\t}\\n\\t.timestamp {\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t}\\n}\\n\\n.comment--content {\\n\\tmargin-left: 44px;\\n\\tword-break: break-word;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.section-wrapper[data-v-d1f1d148]{display:flex;max-width:100%;margin-top:10px}.section-wrapper .section-label[data-v-d1f1d148]{background-position:0px center;width:28px;margin-left:9px;flex-shrink:0}.section-wrapper .section-details[data-v-d1f1d148]{flex-grow:1;display:flex;flex-wrap:wrap}.section-wrapper .section-details .remove-due-button[data-v-d1f1d148]{margin-top:-2px;margin-left:6px}.button-group[data-v-d1f1d148]{width:100%;display:flex}.button-group button[data-v-d1f1d148]{width:100%}.done[data-v-d1f1d148]{display:flex}.tag[data-v-d1f1d148]{flex-grow:0;flex-shrink:1;overflow:hidden;padding:0px 5px;border-radius:15px;font-size:85%;margin-right:3px}.avatarLabel[data-v-d1f1d148]{padding:6px}.section-details[data-v-d1f1d148] .multiselect__tags-wrap{flex-wrap:wrap}.avatar-list--readonly .avatardiv[data-v-d1f1d148]{margin-right:3px}.avatarlist--inline[data-v-d1f1d148]{display:flex;align-items:center;margin-right:3px}.avatarlist--inline .avatarLabel[data-v-d1f1d148]{padding:0}.multiselect[data-v-d1f1d148] .multiselect__tags-wrap{z-index:2}.multiselect.multiselect--active[data-v-d1f1d148] .multiselect__tags-wrap{z-index:0}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/card/CardSidebarTabDetails.vue\"],\"names\":[],\"mappings\":\"AACA,kCACC,YAAA,CACA,cAAA,CACA,eAAA,CAEA,iDACC,8BAAA,CACA,UAAA,CACA,eAAA,CACA,aAAA,CAGD,mDACC,WAAA,CACA,YAAA,CACA,cAAA,CAEA,sEACC,eAAA,CACA,eAAA,CAKH,+BACC,UAAA,CACA,YAAA,CAEA,sCACC,UAAA,CAIF,uBACC,YAAA,CAGD,sBACC,WAAA,CACA,aAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,aAAA,CACA,gBAAA,CAGD,8BACC,WAAA,CAGD,0DACC,cAAA,CAGD,mDACC,gBAAA,CAGD,qCACC,YAAA,CACA,kBAAA,CACA,gBAAA,CACA,kDACC,SAAA,CAIF,sDACC,SAAA,CAGD,0EACC,SAAA\",\"sourcesContent\":[\"\\n.section-wrapper {\\n\\tdisplay: flex;\\n\\tmax-width: 100%;\\n\\tmargin-top: 10px;\\n\\n\\t.section-label {\\n\\t\\tbackground-position: 0px center;\\n\\t\\twidth: 28px;\\n\\t\\tmargin-left: 9px;\\n\\t\\tflex-shrink: 0;\\n\\t}\\n\\n\\t.section-details {\\n\\t\\tflex-grow: 1;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t.remove-due-button{\\n\\t\\t\\tmargin-top: -2px;\\n\\t\\t\\tmargin-left: 6px;\\n\\t\\t}\\n\\t}\\n}\\n\\n.button-group {\\n\\twidth: 100%;\\n\\tdisplay: flex;\\n\\n\\tbutton {\\n\\t\\twidth: 100%;\\n\\t}\\n}\\n\\n.done {\\n\\tdisplay: flex;\\n}\\n\\n.tag {\\n\\tflex-grow: 0;\\n\\tflex-shrink: 1;\\n\\toverflow: hidden;\\n\\tpadding: 0px 5px;\\n\\tborder-radius: 15px;\\n\\tfont-size: 85%;\\n\\tmargin-right: 3px;\\n}\\n\\n.avatarLabel {\\n\\tpadding: 6px\\n}\\n\\n.section-details:deep(.multiselect__tags-wrap) {\\n\\tflex-wrap: wrap;\\n}\\n\\n.avatar-list--readonly .avatardiv {\\n\\tmargin-right: 3px;\\n}\\n\\n.avatarlist--inline {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tmargin-right: 3px;\\n\\t.avatarLabel {\\n\\t\\tpadding: 0;\\n\\t}\\n}\\n\\n.multiselect:deep(.multiselect__tags-wrap) {\\n\\tz-index: 2;\\n}\\n\\n.multiselect.multiselect--active:deep(.multiselect__tags-wrap) {\\n\\tz-index: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.comment-form form[data-v-11857953]{display:flex;flex-grow:1;position:relative}.comment-form form .editor__content[data-v-11857953]{flex-grow:1;margin-left:44px}.comment-form form .editor__content[data-v-11857953] .ProseMirror{width:100%}.comment-form form input[type=submit][data-v-11857953]{width:44px;height:44px;margin:0;padding:13px;background-color:rgba(0,0,0,0);border:none;opacity:.3;position:absolute;bottom:0;right:0}.comment[data-v-11857953]{margin-bottom:10px}.comment--header[data-v-11857953]{display:flex;align-items:center;color:var(--color-text-light)}.comment--header .username[data-v-11857953]{padding:10px}.comment--header .spacer[data-v-11857953]{flex-grow:1}.comment--header .timestamp[data-v-11857953]{color:var(--color-text-maxcontrast)}.comment--content[data-v-11857953]{margin-left:44px;word-break:break-word}.comment-form__contenteditable[data-v-11857953]{word-break:break-word;border-radius:var(--border-radius-large)}.atwho-wrap[data-v-11857953]{width:100%}.atwho-wrap>div[contenteditable][data-v-11857953]{width:100%}.atwho-wrap>div[contenteditable][data-v-11857953]>span>div{vertical-align:middle}.comment-form[data-v-11857953] .atwho-li{height:32px}.atwho-li--avatar[data-v-11857953]{margin-right:10px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/comments.scss\",\"webpack://./src/components/card/CommentForm.vue\"],\"names\":[],\"mappings\":\"AAAA,oCACC,YAAA,CACA,WAAA,CACA,iBAAA,CAEA,qDACC,WAAA,CACA,gBAAA,CAEA,kEACC,UAAA,CAIF,uDACC,UAAA,CACA,WAAA,CACA,QAAA,CACA,YAAA,CACA,8BAAA,CACA,WAAA,CACA,UAAA,CACA,iBAAA,CACA,QAAA,CACA,OAAA,CAIF,0BACC,kBAAA,CAGD,kCACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,4CACC,YAAA,CAED,0CACC,WAAA,CAED,6CACC,mCAAA,CAIF,mCACC,gBAAA,CACA,qBAAA,CC/CD,gDACC,qBAAA,CACA,wCAAA,CAGD,6BACC,UAAA,CACA,kDACC,UAAA,CAEA,2DACC,qBAAA,CAKH,yCACC,WAAA,CAGD,mCACC,iBAAA\",\"sourcesContent\":[\".comment-form form {\\n\\tdisplay: flex;\\n\\tflex-grow: 1;\\n\\tposition: relative;\\n\\n\\t.editor__content:deep {\\n\\t\\tflex-grow: 1;\\n\\t\\tmargin-left: 44px;\\n\\n\\t\\t.ProseMirror {\\n\\t\\t\\twidth: 100%;\\n\\t\\t}\\n\\t}\\n\\n\\tinput[type='submit'] {\\n\\t\\twidth: 44px;\\n\\t\\theight: 44px;\\n\\t\\tmargin: 0;\\n\\t\\tpadding: 13px;\\n\\t\\tbackground-color: transparent;\\n\\t\\tborder: none;\\n\\t\\topacity: .3;\\n\\t\\tposition: absolute;\\n\\t\\tbottom: 0;\\n\\t\\tright: 0;\\n\\t}\\n}\\n\\n.comment {\\n\\tmargin-bottom: 10px;\\n}\\n\\n.comment--header {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tcolor: var(--color-text-light);\\n\\n\\t.username {\\n\\t\\tpadding: 10px;\\n\\t}\\n\\t.spacer {\\n\\t\\tflex-grow: 1;\\n\\t}\\n\\t.timestamp {\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t}\\n}\\n\\n.comment--content {\\n\\tmargin-left: 44px;\\n\\tword-break: break-word;\\n}\\n\",\"\\n@import '../../css/comments';\\n\\n.comment-form__contenteditable {\\n\\tword-break: break-word;\\n\\tborder-radius: var(--border-radius-large)\\n}\\n\\n.atwho-wrap {\\n\\twidth: 100%;\\n\\t& > div[contenteditable] {\\n\\t\\twidth: 100%;\\n\\n\\t\\t&:deep > span > div {\\n\\t\\t\\tvertical-align: middle;\\n\\t\\t}\\n\\t}\\n}\\n\\n.comment-form:deep(.atwho-li) {\\n\\theight: 32px;\\n}\\n\\n.atwho-li--avatar {\\n\\tmargin-right: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.comment-form form[data-v-31ec9839]{display:flex;flex-grow:1;position:relative}.comment-form form .editor__content[data-v-31ec9839]{flex-grow:1;margin-left:44px}.comment-form form .editor__content[data-v-31ec9839] .ProseMirror{width:100%}.comment-form form input[type=submit][data-v-31ec9839]{width:44px;height:44px;margin:0;padding:13px;background-color:rgba(0,0,0,0);border:none;opacity:.3;position:absolute;bottom:0;right:0}.comment[data-v-31ec9839]{margin-bottom:10px}.comment--header[data-v-31ec9839]{display:flex;align-items:center;color:var(--color-text-light)}.comment--header .username[data-v-31ec9839]{padding:10px}.comment--header .spacer[data-v-31ec9839]{flex-grow:1}.comment--header .timestamp[data-v-31ec9839]{color:var(--color-text-maxcontrast)}.comment--content[data-v-31ec9839]{margin-left:44px;word-break:break-word}.reply[data-v-31ec9839]{margin:0 0 0 44px}.reply.reply--preview[data-v-31ec9839]{margin:4px 0;padding:8px;background-color:var(--color-background-hover);border-radius:var(--border-radius-large)}.reply.reply--preview .reply--wrapper[data-v-31ec9839]{margin:8px}.reply.reply--preview .reply--cancel[data-v-31ec9839]{margin-right:-12px;margin-top:-12px}.reply .reply--wrapper[data-v-31ec9839]{border-left:4px solid var(--color-border-dark);padding-left:8px}.reply[data-v-31ec9839] .rich-text--wrapper{margin-top:-3px;color:var(--color-text-lighter)}.reply .reply--header[data-v-31ec9839]{display:flex}.reply .reply--hint[data-v-31ec9839]{color:var(--color-text-lighter);flex-grow:1}.reply .comment--content[data-v-31ec9839]{margin:0}.comment--content[data-v-31ec9839] a{text-decoration:underline}.comment--content[data-v-31ec9839] p{margin-bottom:1em}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/comments.scss\",\"webpack://./src/components/card/CommentItem.vue\"],\"names\":[],\"mappings\":\"AAAA,oCACC,YAAA,CACA,WAAA,CACA,iBAAA,CAEA,qDACC,WAAA,CACA,gBAAA,CAEA,kEACC,UAAA,CAIF,uDACC,UAAA,CACA,WAAA,CACA,QAAA,CACA,YAAA,CACA,8BAAA,CACA,WAAA,CACA,UAAA,CACA,iBAAA,CACA,QAAA,CACA,OAAA,CAIF,0BACC,kBAAA,CAGD,kCACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,4CACC,YAAA,CAED,0CACC,WAAA,CAED,6CACC,mCAAA,CAIF,mCACC,gBAAA,CACA,qBAAA,CC/CD,wBACC,iBAAA,CAEA,uCACC,YAAA,CACA,WAAA,CACA,8CAAA,CACA,wCAAA,CAEA,uDACC,UAAA,CAGD,sDACC,kBAAA,CACA,gBAAA,CAIF,wCACC,8CAAA,CACA,gBAAA,CAGD,4CACC,eAAA,CACA,+BAAA,CAGD,uCACC,YAAA,CAGD,qCACC,+BAAA,CACA,WAAA,CAGD,0CACC,QAAA,CAKD,qCACC,yBAAA,CAGD,qCACC,iBAAA\",\"sourcesContent\":[\".comment-form form {\\n\\tdisplay: flex;\\n\\tflex-grow: 1;\\n\\tposition: relative;\\n\\n\\t.editor__content:deep {\\n\\t\\tflex-grow: 1;\\n\\t\\tmargin-left: 44px;\\n\\n\\t\\t.ProseMirror {\\n\\t\\t\\twidth: 100%;\\n\\t\\t}\\n\\t}\\n\\n\\tinput[type='submit'] {\\n\\t\\twidth: 44px;\\n\\t\\theight: 44px;\\n\\t\\tmargin: 0;\\n\\t\\tpadding: 13px;\\n\\t\\tbackground-color: transparent;\\n\\t\\tborder: none;\\n\\t\\topacity: .3;\\n\\t\\tposition: absolute;\\n\\t\\tbottom: 0;\\n\\t\\tright: 0;\\n\\t}\\n}\\n\\n.comment {\\n\\tmargin-bottom: 10px;\\n}\\n\\n.comment--header {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tcolor: var(--color-text-light);\\n\\n\\t.username {\\n\\t\\tpadding: 10px;\\n\\t}\\n\\t.spacer {\\n\\t\\tflex-grow: 1;\\n\\t}\\n\\t.timestamp {\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t}\\n}\\n\\n.comment--content {\\n\\tmargin-left: 44px;\\n\\tword-break: break-word;\\n}\\n\",\"\\n@import '../../css/comments';\\n\\n.reply {\\n\\tmargin: 0 0 0 44px;\\n\\n\\t&.reply--preview {\\n\\t\\tmargin: 4px 0;\\n\\t\\tpadding: 8px;\\n\\t\\tbackground-color: var(--color-background-hover);\\n\\t\\tborder-radius: var(--border-radius-large);\\n\\n\\t\\t.reply--wrapper {\\n\\t\\t\\tmargin: 8px;\\n\\t\\t}\\n\\n\\t\\t.reply--cancel {\\n\\t\\t\\tmargin-right: -12px;\\n\\t\\t\\tmargin-top: -12px;\\n\\t\\t}\\n\\t}\\n\\n\\t.reply--wrapper {\\n\\t\\tborder-left: 4px solid var(--color-border-dark);\\n\\t\\tpadding-left: 8px;\\n\\t}\\n\\n\\t&:deep(.rich-text--wrapper) {\\n\\t\\tmargin-top: -3px;\\n\\t\\tcolor: var(--color-text-lighter);\\n\\t}\\n\\n\\t.reply--header {\\n\\t\\tdisplay: flex;\\n\\t}\\n\\n\\t.reply--hint {\\n\\t\\tcolor: var(--color-text-lighter);\\n\\t\\tflex-grow: 1;\\n\\t}\\n\\n\\t.comment--content {\\n\\t\\tmargin: 0;\\n\\t}\\n}\\n\\n.comment--content:deep {\\n\\ta {\\n\\t\\ttext-decoration: underline;\\n\\t}\\n\\n\\tp {\\n\\t\\tmargin-bottom: 1em;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.avatars[data-v-c0f7e9f2]{position:relative;flex-grow:1}.avatars[data-v-c0f7e9f2] .popovermenu{margin-right:-4px}.avatars[data-v-c0f7e9f2] .popovermenu img{padding:0;width:32px !important;height:32px !important;margin:6px;border-radius:50%}.avatar-list[data-v-c0f7e9f2]{float:right;display:inline-flex;flex-direction:row-reverse;padding:0;padding-right:12px;margin:0;border:0;background:rgba(0,0,0,0)}.avatar-list>div[data-v-c0f7e9f2]{height:32px}.avatar-list .avatardiv[data-v-c0f7e9f2],.avatar-list[data-v-c0f7e9f2] .avatardiv{width:32px;height:32px;box-sizing:content-box !important;margin-right:-12px;transition:margin-right .2s ease-in-out;border:2px solid var(--color-main-background)}.avatar-list .more-avatars[data-v-c0f7e9f2]{width:32px;height:32px;background-color:var(--color-background-dark) !important;cursor:pointer;color:var(--color-text-maxcontrast)}.avatar-list-entry[data-v-c0f7e9f2]{display:flex;padding:6px 12px}.avatar-list-entry__label[data-v-c0f7e9f2]{padding:4px 12px}.popovermenu[data-v-c0f7e9f2]{display:block;margin:40px -6px}.avatar-print-list[data-v-c0f7e9f2]{display:none}@media print{.avatar-list[data-v-c0f7e9f2]{display:none}.avatar-print-list-item[data-v-c0f7e9f2]{align-items:center;display:flex;gap:10px;margin-bottom:10px}.avatar-print-list[data-v-c0f7e9f2]{display:block;padding-top:5px}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/cards/AvatarList.vue\"],\"names\":[],\"mappings\":\"AACA,0BACC,iBAAA,CACA,WAAA,CACA,uCACC,iBAAA,CACA,2CACC,SAAA,CACA,qBAAA,CACA,sBAAA,CACA,UAAA,CACA,iBAAA,CAOH,8BACC,WAAA,CACA,mBAAA,CACA,0BAAA,CACA,SAAA,CACA,kBAPe,CAQf,QAAA,CACA,QAAA,CACA,wBAAA,CAEA,kCACC,WAAA,CAGD,kFAEC,UAAA,CACA,WAAA,CACA,iCAAA,CACA,kBAAA,CACA,uCAAA,CACA,6CAAA,CAGD,4CACC,UAAA,CACA,WAAA,CACA,wDAAA,CACA,cAAA,CACA,mCAAA,CAKF,oCACC,YAAA,CACA,gBAAA,CAEA,2CACC,gBAAA,CAIF,8BACC,aAAA,CACA,gBAAA,CAGD,oCACC,YAAA,CAGD,aACC,8BACC,YAAA,CAGD,yCACC,kBAAA,CACA,YAAA,CACA,QAAA,CACA,kBAAA,CAGD,oCACC,aAAA,CACA,eAAA,CAAA\",\"sourcesContent\":[\"\\n.avatars {\\n\\tposition: relative;\\n\\tflex-grow: 1;\\n\\t:deep(.popovermenu) {\\n\\t\\tmargin-right: -4px;\\n\\t\\timg {\\n\\t\\t\\tpadding: 0;\\n\\t\\t\\twidth: 32px !important;\\n\\t\\t\\theight: 32px !important;\\n\\t\\t\\tmargin: 6px;\\n\\t\\t\\tborder-radius: 50%;\\n\\t\\t}\\n\\t}\\n}\\n\\n$avatar-offset: 12px;\\n\\n.avatar-list {\\n\\tfloat: right;\\n\\tdisplay: inline-flex;\\n\\tflex-direction: row-reverse;\\n\\tpadding: 0;\\n\\tpadding-right: $avatar-offset;\\n\\tmargin: 0;\\n\\tborder: 0;\\n\\tbackground: transparent;\\n\\n\\t& > div {\\n\\t\\theight: 32px;\\n\\t}\\n\\n\\t.avatardiv,\\n\\t:deep(.avatardiv) {\\n\\t\\twidth: 32px;\\n\\t\\theight: 32px;\\n\\t\\tbox-sizing: content-box !important;\\n\\t\\tmargin-right: -$avatar-offset;\\n\\t\\ttransition: margin-right 0.2s ease-in-out;\\n\\t\\tborder: 2px solid var(--color-main-background);\\n\\t}\\n\\n\\t.more-avatars {\\n\\t\\twidth: 32px;\\n\\t\\theight: 32px;\\n\\t\\tbackground-color: var(--color-background-dark) !important;\\n\\t\\tcursor: pointer;\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t}\\n\\n}\\n\\n.avatar-list-entry {\\n\\tdisplay: flex;\\n\\tpadding: 6px 12px;\\n\\n\\t&__label {\\n\\t\\tpadding: 4px 12px;\\n\\t}\\n}\\n\\n.popovermenu {\\n\\tdisplay: block;\\n\\tmargin: 40px -6px;\\n}\\n\\n.avatar-print-list {\\n\\tdisplay: none;\\n}\\n\\n@media print {\\n\\t.avatar-list {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t.avatar-print-list-item {\\n\\t\\talign-items: center;\\n\\t\\tdisplay: flex;\\n\\t\\tgap: 10px;\\n\\t\\tmargin-bottom: 10px;\\n\\t}\\n\\n\\t.avatar-print-list {\\n\\t\\tdisplay: block;\\n\\t\\tpadding-top: 5px;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.badges[data-v-1cd7fbf0]{display:flex;width:100%;flex-grow:1;flex-direction:row;gap:3px}.badges .icon-badge[data-v-1cd7fbf0]{color:var(--color-text-maxcontrast);display:flex;margin-right:2px}.badges .icon-badge span[data-v-1cd7fbf0],.badges .icon-badge[data-v-1cd7fbf0] span{padding:2px}.inline-badges[data-v-1cd7fbf0]{display:flex;flex-direction:row;flex-wrap:wrap;gap:3px}.badges .icon.due[data-v-1cd7fbf0]{background-position:4px center;border-radius:var(--border-radius);padding:4px;font-size:13px;display:flex;align-items:center;opacity:.5;flex-shrink:1}.badges .icon.due .icon[data-v-1cd7fbf0]{background-size:contain}.badges .icon.due.overdue[data-v-1cd7fbf0]{background-color:var(--color-error);color:var(--color-primary-element-text);opacity:.7}.badges .icon.due.now[data-v-1cd7fbf0]{background-color:var(--color-warning);opacity:.7}.badges .icon.due.next[data-v-1cd7fbf0]{background-color:var(--color-background-dark);opacity:.7}.badges .icon.due span[data-v-1cd7fbf0]{margin-left:20px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.badge-left[data-v-1cd7fbf0],.badge-right[data-v-1cd7fbf0]{display:flex}.badge-left[data-v-1cd7fbf0]{align-self:end;margin-bottom:8px;flex-basis:auto;flex-grow:1;flex-shrink:1;flex-wrap:wrap;align-content:flex-end;gap:3px}.badge-right[data-v-1cd7fbf0]{align-items:center;align-self:flex-end;display:flex;justify-items:center;max-width:165px;flex-grow:0;flex-shrink:0}.fade-enter-active[data-v-1cd7fbf0],.fade-leave-active[data-v-1cd7fbf0]{transition:opacity .125s}.fade-enter[data-v-1cd7fbf0],.fade-leave-to[data-v-1cd7fbf0]{opacity:0}@media print{.badges[data-v-1cd7fbf0]{align-items:flex-start;max-height:none !important}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/cards/CardBadges.vue\"],\"names\":[],\"mappings\":\"AACA,yBACC,YAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CACA,OAAA,CAEA,qCACC,mCAAA,CACA,YAAA,CACA,gBAAA,CAEA,oFAEC,WAAA,CAKH,gCACC,YAAA,CACA,kBAAA,CACA,cAAA,CACA,OAAA,CAGD,mCACC,8BAAA,CACA,kCAAA,CACA,WAAA,CACA,cAAA,CACA,YAAA,CACA,kBAAA,CACA,UAAA,CACA,aAAA,CAEA,yCACC,uBAAA,CAGD,2CACC,mCAAA,CACA,uCAAA,CACA,UAAA,CAED,uCACC,qCAAA,CACA,UAAA,CAED,wCACC,6CAAA,CACA,UAAA,CAGD,wCACC,gBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CAIF,2DACC,YAAA,CAGD,6BACC,cAAA,CACA,iBAAA,CACA,eAAA,CACA,WAAA,CACA,aAAA,CACA,cAAA,CACA,sBAAA,CACA,OAAA,CAGD,8BACC,kBAAA,CACA,mBAAA,CACA,YAAA,CACA,oBAAA,CACA,eAAA,CACA,WAAA,CACA,aAAA,CAGD,wEACC,wBAAA,CAGD,6DACC,SAAA,CAGD,aACC,yBACC,sBAAA,CACA,0BAAA,CAAA\",\"sourcesContent\":[\"\\n.badges {\\n\\tdisplay: flex;\\n\\twidth: 100%;\\n\\tflex-grow: 1;\\n\\tflex-direction: row;\\n\\tgap: 3px;\\n\\n\\t.icon-badge {\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\tdisplay: flex;\\n\\t\\tmargin-right: 2px;\\n\\n\\t\\tspan,\\n\\t\\t&:deep(span) {\\n\\t\\t\\tpadding: 2px;\\n\\t\\t}\\n\\t}\\n}\\n\\n.inline-badges {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: wrap;\\n\\tgap: 3px;\\n}\\n\\n.badges .icon.due {\\n\\tbackground-position: 4px center;\\n\\tborder-radius: var(--border-radius);\\n\\tpadding: 4px;\\n\\tfont-size: 13px;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\topacity: .5;\\n\\tflex-shrink: 1;\\n\\n\\t.icon {\\n\\t\\tbackground-size: contain;\\n\\t}\\n\\n\\t&.overdue {\\n\\t\\tbackground-color: var(--color-error);\\n\\t\\tcolor: var(--color-primary-element-text);\\n\\t\\topacity: .7;\\n\\t}\\n\\t&.now {\\n\\t\\tbackground-color: var(--color-warning);\\n\\t\\topacity: .7;\\n\\t}\\n\\t&.next {\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t\\topacity: .7;\\n\\t}\\n\\n\\tspan {\\n\\t\\tmargin-left: 20px;\\n\\t\\twhite-space: nowrap;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\toverflow: hidden;\\n\\t}\\n}\\n\\n.badge-left, .badge-right {\\n\\tdisplay: flex;\\n}\\n\\n.badge-left {\\n\\talign-self: end;\\n\\tmargin-bottom: 8px;\\n\\tflex-basis: auto;\\n\\tflex-grow: 1;\\n\\tflex-shrink: 1;\\n\\tflex-wrap: wrap;\\n\\talign-content: flex-end;\\n\\tgap: 3px;\\n}\\n\\n.badge-right {\\n\\talign-items: center;\\n\\talign-self: flex-end;\\n\\tdisplay: flex;\\n\\tjustify-items: center;\\n\\tmax-width: 165px;\\n\\tflex-grow: 0;\\n\\tflex-shrink: 0;\\n}\\n\\n.fade-enter-active, .fade-leave-active {\\n\\ttransition: opacity .125s;\\n}\\n\\n.fade-enter, .fade-leave-to {\\n\\topacity: 0;\\n}\\n\\n@media print {\\n\\t.badges {\\n\\t\\talign-items: flex-start;\\n\\t\\tmax-height: none !important;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.card-cover[data-v-868099ce]{height:100px;display:flex;margin-top:-8px;margin-left:-8px;margin-right:-8px}.card-cover .image-wrapper[data-v-868099ce]{flex:1;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center}.card-cover .image-wrapper.rounded-left[data-v-868099ce]{border-top-left-radius:10px}.card-cover .image-wrapper.rounded-right[data-v-868099ce]{border-top-right-radius:10px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/cards/CardCover.vue\"],\"names\":[],\"mappings\":\"AAGA,6BACC,YAAA,CACA,YAAA,CACA,eAAA,CACA,gBAAA,CACA,iBAAA,CAEA,4CACC,MAAA,CACA,iBAAA,CACA,qBAAA,CACA,2BAAA,CACA,iCAAA,CACA,yDACC,2BAAA,CAED,0DACC,4BAAA\",\"sourcesContent\":[\"\\n@import '../../css/variables';\\n\\n.card-cover {\\n\\theight: 100px;\\n\\tdisplay: flex;\\n\\tmargin-top: -8px;\\n\\tmargin-left: -8px;\\n\\tmargin-right: -8px;\\n\\n\\t.image-wrapper {\\n\\t\\tflex: 1;\\n\\t\\tposition: relative;\\n\\t\\tbackground-size: cover;\\n\\t\\tbackground-repeat: no-repeat;\\n\\t\\tbackground-position: center center;\\n\\t\\t&.rounded-left {\\n\\t\\t\\tborder-top-left-radius: 10px;\\n\\t\\t}\\n\\t\\t&.rounded-right {\\n\\t\\t\\tborder-top-right-radius: 10px;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.fade-enter-active[data-v-9aacc27e]{transition:opacity 250ms}.fade-enter[data-v-9aacc27e],.fade-leave-to[data-v-9aacc27e]{opacity:0}.zoom-appear-active-class[data-v-9aacc27e],.zoom-enter-active[data-v-9aacc27e]{animation:zoom-in-9aacc27e var(--animation-quick)}.zoom-leave-active[data-v-9aacc27e]{animation:zoom-in-9aacc27e var(--animation-quick) reverse;will-change:transform}@keyframes zoom-in-9aacc27e{0%{transform:scale(0);opacity:0}100%{transform:scale(1);opacity:1}}.card[data-v-9aacc27e]{transition:border .1s ease-in-out;border-radius:var(--border-radius-large);font-size:100%;background-color:var(--color-main-background);margin-bottom:16px;padding:var(--default-grid-baseline) 8px;border:2px solid var(--color-border);width:100%;display:flex;flex-direction:column;gap:6px}.card[data-v-9aacc27e] *{cursor:pointer}.card.current-card[data-v-9aacc27e]{border:2px solid var(--color-primary-element)}.card[data-v-9aacc27e]:focus,.card[data-v-9aacc27e]:focus-visible,.card[data-v-9aacc27e]:focus-within{outline:none;border:2px solid var(--color-border-maxcontrast)}.card:focus.current-card[data-v-9aacc27e],.card:focus-visible.current-card[data-v-9aacc27e],.card:focus-within.current-card[data-v-9aacc27e]{border:2px solid var(--color-primary-element)}.card .card-upper[data-v-9aacc27e]{display:flex}.card .card-upper h3[data-v-9aacc27e]{margin:0;padding:6px;flex-grow:1;font-size:100%;overflow:hidden;word-wrap:break-word;padding-left:4px;align-self:center}.card .card-upper h3.editable span[data-v-9aacc27e]{cursor:text;padding-right:8px;padding-top:3px;padding-bottom:3px}.card .card-upper h3.editable span[data-v-9aacc27e]:focus,.card .card-upper h3.editable span[data-v-9aacc27e]:focus-visible{outline:none}.card .card-upper h3.editable[data-v-9aacc27e]:focus-within{outline:2px solid var(--color-border-dark);border-radius:3px}.card .card-upper .card-menu[data-v-9aacc27e]{height:44px;align-self:end}.card .labels[data-v-9aacc27e]{flex-grow:1;flex-shrink:1;min-width:0;display:flex;flex-direction:row;gap:3px}.card .labels li[data-v-9aacc27e]{flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;overflow:hidden;padding:1px 8px;border-radius:15px;font-size:13px}.card .labels li[data-v-9aacc27e]:hover{overflow:unset}.card .labels li span[data-v-9aacc27e]{flex-grow:0;flex-shrink:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card .card-controls[data-v-9aacc27e]{display:flex}.card.card__editable .card-controls[data-v-9aacc27e]{margin-right:0}.card.card__archived[data-v-9aacc27e]{background-color:var(--color-background-dark)}.card .card-labels[data-v-9aacc27e]{display:flex;align-items:end;margin-bottom:var(--default-grid-baseline)}.card .card-labels .labels[data-v-9aacc27e]{flex-wrap:wrap;align-self:flex-start}.right[data-v-9aacc27e]{display:flex;align-items:flex-start}.card-related[data-v-9aacc27e]{display:flex;padding:12px;padding-bottom:0px;color:var(--color-text-maxcontrast)}.card-related .board-bullet[data-v-9aacc27e]{display:inline-block;width:12px;height:12px;border:none;border-radius:50%;background-color:rgba(0,0,0,0);margin-top:4px;margin-right:4px}.compact[data-v-9aacc27e]{min-height:44px}.compact .duedate[data-v-9aacc27e]{margin-right:0;display:flex;height:32px;width:32px;margin-top:6px}.compact.has-labels[data-v-9aacc27e]{padding-bottom:8px}.compact .labels[data-v-9aacc27e]{height:6px;margin-top:-7px;margin-bottom:3px}.compact .labels li[data-v-9aacc27e]{width:30px;height:6px;font-size:0;color:rgba(0,0,0,0)}.compact .card-menu[data-v-9aacc27e]{align-self:start !important}@media(prefers-color-scheme: dark){.card[data-v-9aacc27e]{border:2px solid var(--color-border-dark);box-shadow:none}}@media print{.card-menu[data-v-9aacc27e]{display:none}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/animations.scss\",\"webpack://./src/components/cards/CardItem.vue\",\"webpack://./src/css/variables.scss\",\"webpack://./src/css/labels.scss\"],\"names\":[],\"mappings\":\"AAAA,oCACC,wBAAA,CAGD,6DACC,SAAA,CAGD,+EAEC,iDAAA,CAGD,oCACC,yDAAA,CACA,qBAAA,CAED,4BACC,GACC,kBAAA,CACA,SAAA,CAED,KACC,kBAAA,CACA,SAAA,CAAA,CCfF,uBACC,iCAAA,CACA,wCAAA,CACA,cAAA,CACA,6CAAA,CACA,kBCdc,CDed,wCAAA,CACA,oCAAA,CACA,UAAA,CACA,YAAA,CACA,qBAAA,CACA,OAAA,CAEA,yBACC,cAAA,CAGD,oCACC,6CAAA,CAGD,sGACC,YAAA,CACA,gDAAA,CACA,6IACC,6CAAA,CAIF,mCACC,YAAA,CACA,sCACC,QAAA,CACA,WAAA,CACA,WAAA,CACA,cAAA,CACA,eAAA,CACA,oBAAA,CACA,gBAAA,CACA,iBAAA,CAEC,oDACC,WAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEA,4HACC,YAAA,CAIF,4DACC,0CAAA,CACA,iBAAA,CAIH,8CACC,WAAA,CACA,cAAA,CElEH,+BACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,kCACC,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,cAAA,CAEA,wCACC,cAAA,CAGD,uCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CF6CF,sCACC,YAAA,CAED,qDACC,cAAA,CAED,sCACC,6CAAA,CAED,oCACC,YAAA,CACA,eAAA,CACA,0CAAA,CAEA,4CACC,cAAA,CACA,qBAAA,CAKH,wBACC,YAAA,CACA,sBAAA,CAGD,+BACC,YAAA,CACA,YAAA,CACA,kBAAA,CACA,mCAAA,CAEA,6CACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,8BAAA,CACA,cAAA,CACA,gBAAA,CAIF,0BACC,eAAA,CAEA,mCACC,cAAA,CACA,YAAA,CACA,WAAA,CACA,UAAA,CACA,cAAA,CAED,qCACC,kBClIa,CDoId,kCACC,UAAA,CACA,eAAA,CACA,iBAAA,CAED,qCACC,UAAA,CACA,UAAA,CACA,WAAA,CACA,mBAAA,CAED,qCACC,2BAAA,CAIF,mCACC,uBAjJA,yCAAA,CACA,eAAA,CAAA,CAqJD,aACC,4BACC,YAAA,CAAA\",\"sourcesContent\":[\".fade-enter-active {\\n\\ttransition: opacity 250ms;\\n}\\n\\n.fade-enter, .fade-leave-to {\\n\\topacity: 0;\\n}\\n\\n.zoom-appear-active-class,\\n.zoom-enter-active {\\n\\tanimation: zoom-in var(--animation-quick);\\n}\\n\\n.zoom-leave-active {\\n\\tanimation: zoom-in var(--animation-quick) reverse;\\n\\twill-change: transform;\\n}\\n@keyframes zoom-in {\\n\\t0% {\\n\\t\\ttransform: scale(0);\\n\\t\\topacity: 0;\\n\\t}\\n\\t100% {\\n\\t\\ttransform: scale(1);\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\",\"\\n@import './../../css/animations';\\n@import './../../css/variables';\\n\\n@mixin dark-card {\\n\\tborder: 2px solid var(--color-border-dark);\\n\\tbox-shadow: none;\\n}\\n\\n.card {\\n\\ttransition: border 0.1s ease-in-out;\\n\\tborder-radius: var(--border-radius-large);\\n\\tfont-size: 100%;\\n\\tbackground-color: var(--color-main-background);\\n\\tmargin-bottom: $card-spacing;\\n\\tpadding: var(--default-grid-baseline) $card-padding;\\n\\tborder: 2px solid var(--color-border);\\n\\twidth: 100%;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tgap: 6px;\\n\\n\\t&:deep(*) {\\n\\t\\tcursor: pointer;\\n\\t}\\n\\n\\t&.current-card {\\n\\t\\tborder: 2px solid var(--color-primary-element);\\n\\t}\\n\\n\\t&:focus, &:focus-visible, &:focus-within {\\n\\t\\toutline: none;\\n\\t\\tborder: 2px solid var(--color-border-maxcontrast);\\n\\t\\t&.current-card {\\n\\t\\t\\tborder: 2px solid var(--color-primary-element);\\n\\t\\t}\\n\\t}\\n\\n\\t.card-upper {\\n\\t\\tdisplay: flex;\\n\\t\\th3 {\\n\\t\\t\\tmargin: 0;\\n\\t\\t\\tpadding: 6px;\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t\\tfont-size: 100%;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\tword-wrap: break-word;\\n\\t\\t\\tpadding-left: 4px;\\n\\t\\t\\talign-self: center;\\n\\t\\t\\t&.editable {\\n\\t\\t\\t\\tspan {\\n\\t\\t\\t\\t\\tcursor: text;\\n\\t\\t\\t\\t\\tpadding-right: 8px;\\n\\t\\t\\t\\t\\tpadding-top: 3px;\\n\\t\\t\\t\\t\\tpadding-bottom: 3px;\\n\\n\\t\\t\\t\\t\\t&:focus, &:focus-visible {\\n\\t\\t\\t\\t\\t\\toutline: none;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t&:focus-within {\\n\\t\\t\\t\\t\\toutline: 2px solid var(--color-border-dark);\\n\\t\\t\\t\\t\\tborder-radius: 3px;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t.card-menu {\\n\\t\\t\\theight: 44px;\\n\\t\\t\\talign-self: end;\\n\\t\\t}\\n\\t}\\n\\n\\t/* stylelint-disable-next-line no-invalid-position-at-import-rule */\\n\\t@import './../../css/labels';\\n\\n\\t.card-controls {\\n\\t\\tdisplay: flex;\\n\\t}\\n\\t&.card__editable .card-controls {\\n\\t\\tmargin-right: 0;\\n\\t}\\n\\t&.card__archived {\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t}\\n\\t.card-labels {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: end;\\n\\t\\tmargin-bottom: var(--default-grid-baseline);\\n\\n\\t\\t.labels {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\talign-self: flex-start;\\n\\t\\t}\\n\\t}\\n}\\n\\n.right {\\n\\tdisplay: flex;\\n\\talign-items: flex-start;\\n}\\n\\n.card-related {\\n\\tdisplay: flex;\\n\\tpadding: 12px;\\n\\tpadding-bottom: 0px;\\n\\tcolor: var(--color-text-maxcontrast);\\n\\n\\t.board-bullet {\\n\\t\\tdisplay: inline-block;\\n\\t\\twidth: 12px;\\n\\t\\theight: 12px;\\n\\t\\tborder: none;\\n\\t\\tborder-radius: 50%;\\n\\t\\tbackground-color: transparent;\\n\\t\\tmargin-top: 4px;\\n\\t\\tmargin-right: 4px;\\n\\t}\\n}\\n\\n.compact {\\n\\tmin-height: 44px;\\n\\n\\t.duedate {\\n\\t\\tmargin-right: 0;\\n\\t\\tdisplay: flex;\\n\\t\\theight: 32px;\\n\\t\\twidth: 32px;\\n\\t\\tmargin-top: 6px;\\n\\t}\\n\\t&.has-labels {\\n\\t\\tpadding-bottom: $card-padding;\\n\\t}\\n\\t.labels {\\n\\t\\theight: 6px;\\n\\t\\tmargin-top: -7px;\\n\\t\\tmargin-bottom: 3px;\\n\\t}\\n\\t.labels li {\\n\\t\\twidth: 30px;\\n\\t\\theight: 6px;\\n\\t\\tfont-size: 0;\\n\\t\\tcolor: transparent;\\n\\t}\\n\\t.card-menu {\\n\\t\\talign-self: start !important;\\n\\t}\\n}\\n\\n@media (prefers-color-scheme: dark) {\\n\\t.card {\\n\\t\\t@include dark-card;\\n\\t}\\n}\\n\\n@media print {\\n\\t.card-menu {\\n\\t\\tdisplay: none;\\n\\t}\\n}\\n\",\"$card-spacing: 16px;\\n$card-padding: 8px;\\n$stack-spacing: 12px;\\n$stack-width: 280px;\\n$board-spacing: 16px;\\n\",\"$card-spacing: 10px;\\n$card-padding: 10px;\\n\\n.labels {\\n\\tflex-grow: 1;\\n\\tflex-shrink: 1;\\n\\tmin-width: 0;\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tgap: 3px;\\n\\n\\tli {\\n\\t\\tflex-grow: 0;\\n\\t\\tflex-shrink: 1;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: row;\\n\\t\\toverflow: hidden;\\n\\t\\tpadding: 1px 8px;\\n\\t\\tborder-radius: 15px;\\n\\t\\tfont-size: 13px;\\n\\n\\t\\t&:hover {\\n\\t\\t\\toverflow: unset;\\n\\t\\t}\\n\\n\\t\\tspan {\\n\\t\\t\\tflex-grow: 0;\\n\\t\\t\\tflex-shrink: 1;\\n\\t\\t\\tmin-width: 0;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.cardid[data-v-f56db06c]{font-size:.9em}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/cards/badges/CardId.vue\"],\"names\":[],\"mappings\":\"AACA,yBACC,cAAA\",\"sourcesContent\":[\"\\n.cardid {\\n\\tfont-size: .9em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.due[data-v-1afd2267]{background-position:4px center;border-radius:var(--border-radius-pill);padding:1px 8px;font-size:90%;display:flex;align-items:center;flex-shrink:1;z-index:2}[data-due-state=Overdue] .due[data-v-1afd2267]{color:var(--color-error-text);background-color:rgba(var(--color-error-rgb), 0.1)}[data-due-state=Now] .due[data-v-1afd2267]{color:var(--color-warning-text);background-color:rgba(var(--color-warning-rgb), 0.1)}[data-due-state=Done] .due[data-v-1afd2267]{color:var(--color-success-text);background-color:rgba(var(--color-success-rgb), 0.1)}.due .due--label[data-v-1afd2267]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-left:4px;font-size:13px}@media print{.icon.due[data-v-1afd2267]{background-color:rgba(0,0,0,0) !important}.icon.due span[data-v-1afd2267]{display:none}.icon.due[data-v-1afd2267]::before{content:attr(title)}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/cards/badges/DueDate.vue\"],\"names\":[],\"mappings\":\"AACA,sBACC,8BAAA,CACA,uCAAA,CACA,eAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,aAAA,CACA,SAAA,CAEA,+CACC,6BAAA,CACA,kDAAA,CAED,2CACC,+BAAA,CACA,oDAAA,CAED,4CACC,+BAAA,CACA,oDAAA,CAGD,kCACC,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,eAAA,CACA,cAAA,CAIF,aACC,2BACC,yCAAA,CAEA,gCACC,YAAA,CAGD,mCACC,mBAAA,CAAA\",\"sourcesContent\":[\"\\n.due {\\n\\tbackground-position: 4px center;\\n\\tborder-radius: var(--border-radius-pill);\\n\\tpadding: 1px 8px;\\n\\tfont-size: 90%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tflex-shrink: 1;\\n\\tz-index: 2;\\n\\n\\t[data-due-state='Overdue'] & {\\n\\t\\tcolor: var(--color-error-text);\\n\\t\\tbackground-color: rgba(var(--color-error-rgb), .1);\\n\\t}\\n\\t[data-due-state='Now'] & {\\n\\t\\tcolor: var(--color-warning-text);\\n\\t\\tbackground-color: rgba(var(--color-warning-rgb), .1);\\n\\t}\\n\\t[data-due-state='Done'] & {\\n\\t\\tcolor: var(--color-success-text);\\n\\t\\tbackground-color: rgba(var(--color-success-rgb), .1);\\n\\t}\\n\\n\\t.due--label {\\n\\t\\twhite-space: nowrap;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\toverflow: hidden;\\n\\t\\tmargin-left: 4px;\\n\\t\\tfont-size: 13px;\\n\\t}\\n}\\n\\n@media print {\\n\\t.icon.due {\\n\\t\\tbackground-color: transparent !important;\\n\\n\\t\\tspan {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\n\\t\\t&::before {\\n\\t\\t\\tcontent: attr(title);\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.global-search[data-v-7d9e2f4e]{width:100%;padding:28px;padding-bottom:0;overflow:hidden;min-height:35vh;max-height:50vh;flex-shrink:1;flex-grow:1;border-top:1px solid var(--color-border);z-index:1010;position:relative}.global-search .action-item.icon-close[data-v-7d9e2f4e]{position:absolute;top:10px;right:10px}.global-search .search-wrapper[data-v-7d9e2f4e]{overflow:scroll;height:100%;position:relative;padding:10px}.global-search h2>div[data-v-7d9e2f4e]{display:inline-block}.global-search h2>div.icon-loading-small[data-v-7d9e2f4e]{margin-right:20px}.global-search h2[data-v-7d9e2f4e] span{background-color:var(--color-background-dark);padding:3px;border-radius:var(--border-radius)}.global-search .search-results[data-v-7d9e2f4e]{display:flex;flex-wrap:wrap}.global-search .search-results>div[data-v-7d9e2f4e]{flex-grow:0}.global-search[data-v-7d9e2f4e] .card{width:280px;margin-right:12px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/search/GlobalSearchResults.vue\",\"webpack://./src/css/variables.scss\"],\"names\":[],\"mappings\":\"AAGA,gCACC,UAAA,CACA,YAAA,CACA,gBAAA,CACA,eAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,WAAA,CACA,wCAAA,CACA,YAAA,CACA,iBAAA,CAEA,wDACC,iBAAA,CACA,QAAA,CACA,UAAA,CAED,gDACC,eAAA,CACA,WAAA,CACA,iBAAA,CACA,YAAA,CAGD,uCACC,oBAAA,CAEA,0DACC,iBAAA,CAGF,wCACC,6CAAA,CACA,WAAA,CACA,kCAAA,CAGD,gDACC,YAAA,CACA,cAAA,CAEA,oDACC,WAAA,CAGF,sCACC,WC/CY,CDgDZ,iBCjDc\",\"sourcesContent\":[\"\\n@import '../../css/variables';\\n\\n.global-search {\\n\\twidth: 100%;\\n\\tpadding: $board-spacing + $stack-spacing;\\n\\tpadding-bottom: 0;\\n\\toverflow: hidden;\\n\\tmin-height: 35vh;\\n\\tmax-height: 50vh;\\n\\tflex-shrink: 1;\\n\\tflex-grow: 1;\\n\\tborder-top: 1px solid var(--color-border);\\n\\tz-index: 1010;\\n\\tposition: relative;\\n\\n\\t.action-item.icon-close {\\n\\t\\tposition: absolute;\\n\\t\\ttop: 10px;\\n\\t\\tright: 10px;\\n\\t}\\n\\t.search-wrapper {\\n\\t\\toverflow: scroll;\\n\\t\\theight: 100%;\\n\\t\\tposition: relative;\\n\\t\\tpadding: 10px;\\n\\t}\\n\\n\\th2 > div {\\n\\t\\tdisplay: inline-block;\\n\\n\\t\\t&.icon-loading-small {\\n\\t\\t\\tmargin-right: 20px;\\n\\t\\t}\\n\\t}\\n\\th2:deep(span) {\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t\\tpadding: 3px;\\n\\t\\tborder-radius: var(--border-radius);\\n\\t}\\n\\n\\t.search-results {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t& > div {\\n\\t\\t\\tflex-grow: 0;\\n\\t\\t}\\n\\t}\\n\\t&:deep(.card) {\\n\\t\\twidth: $stack-width;\\n\\t\\tmargin-right: $stack-spacing;\\n\\t}\\n}\\n\",\"$card-spacing: 16px;\\n$card-padding: 8px;\\n$stack-spacing: 12px;\\n$stack-width: 280px;\\n$board-spacing: 16px;\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.card--placeholder[data-v-43bfbf02]{width:280px;margin-right:12px;padding:8px;transition:box-shadow .1s ease-in-out;box-shadow:0 0 2px 0 var(--color-box-shadow);border-radius:var(--border-radius-large);font-size:100%;margin-bottom:16px;height:100px}.card-placeholder__gradient[data-v-43bfbf02]{position:fixed;height:0;width:0;z-index:-1}.card-placeholder__placeholder[data-v-43bfbf02]{width:100%}.card-placeholder__placeholder-line-header[data-v-43bfbf02],.card-placeholder__placeholder-line-one[data-v-43bfbf02],.card-placeholder__placeholder-line-two[data-v-43bfbf02]{width:100%;height:1em;x:0}.card-placeholder__placeholder-line-header[data-v-43bfbf02]{visibility:hidden}.card-placeholder__placeholder-line-one[data-v-43bfbf02]{y:5px}.card-placeholder__placeholder-line-two[data-v-43bfbf02]{y:25px}.card-placeholder__placeholder.standalone .card-placeholder__placeholder-line-header[data-v-43bfbf02]{visibility:visible;y:5px}.card-placeholder__placeholder.standalone .card-placeholder__placeholder-line-one[data-v-43bfbf02]{y:40px}.card-placeholder__placeholder.standalone .card-placeholder__placeholder-line-two[data-v-43bfbf02]{y:60px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/search/Placeholder.vue\",\"webpack://./src/css/variables.scss\"],\"names\":[],\"mappings\":\"AAIA,oCACC,WCFa,CDGb,iBCJe,CDKf,WCNc,CDOd,qCAAA,CACA,4CAAA,CACA,wCAAA,CACA,cAAA,CACA,kBCZc,CDad,YAAA,CAGD,6CACC,cAAA,CACA,QAAA,CACA,OAAA,CACA,UAAA,CAGD,gDACC,UAAA,CACA,8KAGC,UAAA,CACA,UAAA,CACA,GAAA,CAED,4DACC,iBAAA,CAED,yDACC,KAAA,CAGD,yDACC,MAAA,CAIA,sGACC,kBAAA,CACA,KAAA,CAED,mGACC,MAAA,CAGD,mGACC,MAAA\",\"sourcesContent\":[\"\\n@import '../../css/variables';\\n$clickable-area: 44px;\\n\\n.card--placeholder {\\n\\twidth: $stack-width;\\n\\tmargin-right: $stack-spacing;\\n\\tpadding: $card-padding;\\n\\ttransition: box-shadow 0.1s ease-in-out;\\n\\tbox-shadow: 0 0 2px 0 var(--color-box-shadow);\\n\\tborder-radius: var(--border-radius-large);\\n\\tfont-size: 100%;\\n\\tmargin-bottom: $card-spacing;\\n\\theight: 100px;\\n}\\n\\n.card-placeholder__gradient {\\n\\tposition: fixed;\\n\\theight: 0;\\n\\twidth: 0;\\n\\tz-index: -1;\\n}\\n\\n.card-placeholder__placeholder {\\n\\twidth: 100%;\\n\\t&-line-header,\\n\\t&-line-one,\\n\\t&-line-two {\\n\\t\\twidth: 100%;\\n\\t\\theight: 1em;\\n\\t\\tx: 0;\\n\\t}\\n\\t&-line-header {\\n\\t\\tvisibility: hidden;\\n\\t}\\n\\t&-line-one {\\n\\t\\ty: 5px;\\n\\t}\\n\\n\\t&-line-two {\\n\\t\\ty: 25px;\\n\\t}\\n\\n\\t&.standalone {\\n\\t\\t.card-placeholder__placeholder-line-header {\\n\\t\\t\\tvisibility: visible;\\n\\t\\t\\ty: 5px;\\n\\t\\t}\\n\\t\\t.card-placeholder__placeholder-line-one {\\n\\t\\t\\ty: 40px;\\n\\t\\t}\\n\\n\\t\\t.card-placeholder__placeholder-line-two {\\n\\t\\t\\ty: 60px;\\n\\t\\t}\\n\\t}\\n}\\n\\n\",\"$card-spacing: 16px;\\n$card-padding: 8px;\\n$stack-spacing: 12px;\\n$stack-width: 280px;\\n$board-spacing: 16px;\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.deck-board-reference[data-v-16b47a8d]{width:100%;white-space:normal;padding:12px}.editor__content .deck-board-reference[data-v-16b47a8d]{width:calc(100% - 24px)}.deck-board-reference .link[data-v-16b47a8d]{text-decoration:underline;color:var(--color-main-text) !important;padding:0 !important}.deck-board-reference .line[data-v-16b47a8d]{display:flex;align-items:center}.deck-board-reference .line .icon[data-v-16b47a8d]{margin-right:4px}.deck-board-reference .line .title-icon[data-v-16b47a8d]{margin-right:8px}.deck-board-reference-interactive[data-v-16b47a8d]{width:100%;min-height:min(50vh,100vh - 100px);max-height:calc(100vh - 120px)}.deck-board-reference-interactive[data-v-16b47a8d] .controls{padding-left:12px}.deck-board-reference-interactive[data-v-16b47a8d] .board{padding-left:0}.deck-board-reference-interactive[data-v-16b47a8d] *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/BoardReferenceWidget.vue\"],\"names\":[],\"mappings\":\"AACA,uCACC,UAAA,CAKA,kBAAA,CACA,YAAA,CAJA,wDACC,uBAAA,CAKD,6CACC,yBAAA,CACA,uCAAA,CACA,oBAAA,CAGD,6CACC,YAAA,CACA,kBAAA,CACA,mDACC,gBAAA,CAED,yDACC,gBAAA,CAKH,mDACC,UAAA,CACA,kCAAA,CACA,8BAAA,CACA,6DACC,iBAAA,CAED,0DACC,cAAA,CAED,qDACC,6BAAA,CACA,0BAAA,CACA,qBAAA\",\"sourcesContent\":[\"\\n.deck-board-reference {\\n\\twidth: 100%;\\n\\t// needed for the specific case of Text\\n\\t.editor__content & {\\n\\t\\twidth: calc(100% - 24px);\\n\\t}\\n\\twhite-space: normal;\\n\\tpadding: 12px;\\n\\n\\t.link {\\n\\t\\ttext-decoration: underline;\\n\\t\\tcolor: var(--color-main-text) !important;\\n\\t\\tpadding: 0 !important;\\n\\t}\\n\\n\\t.line {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\t.icon {\\n\\t\\t\\tmargin-right: 4px;\\n\\t\\t}\\n\\t\\t.title-icon {\\n\\t\\t\\tmargin-right: 8px;\\n\\t\\t}\\n\\t}\\n}\\n\\n.deck-board-reference-interactive {\\n\\twidth: 100%;\\n\\tmin-height: min(50vh, calc(100vh - 100px));\\n\\tmax-height: calc(100vh - 120px);\\n\\t&:deep(.controls) {\\n\\t\\tpadding-left: 12px;\\n\\t}\\n\\t&:deep(.board) {\\n\\t\\tpadding-left: 0;\\n\\t}\\n\\t&:deep(*) {\\n\\t\\t-webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\\n\\t\\t-moz-box-sizing: border-box;    /* Firefox, other Gecko */\\n\\t\\tbox-sizing: border-box;         /* Opera/IE 8+ */\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.visualdiff ins {\n\tcolor: green;\n}\n.visualdiff del {\n\tcolor: darkred;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ActivityEntry.vue\"],\"names\":[],\"mappings\":\";AAkKA;CACA,YAAA;AACA;AAEA;CACA,cAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\\n  -\\n  - @author Julius Härtl <jus@bitgrid.net>\\n  -\\n  - @license GNU AGPL version 3 or any later version\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n  -\\n  -->\\n\\n<template>\\n\\t<div v-if=\\\"activity\\\" class=\\\"activity\\\">\\n\\t\\t<div class=\\\"activity--header\\\">\\n\\t\\t\\t<img :src=\\\"activity.icon\\\" class=\\\"activity--icon\\\">\\n\\t\\t\\t<NcRichText class=\\\"activity--subject\\\" :text=\\\"message.subject\\\" :arguments=\\\"message.parameters\\\" />\\n\\t\\t\\t<div class=\\\"activity--timestamp\\\" :name=\\\"formatReadableDate(activity.datetime)\\\">\\n\\t\\t\\t\\t{{ relativeDate(activity.datetime) }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<!-- FIXME ins/del tags do no longer work with activity so we should get rid of that -->\\n\\t\\t<p v-if=\\\"activity.message\\\" class=\\\"activity--message\\\" v-html=\\\"sanitizedMessage\\\" />\\n\\t</div>\\n</template>\\n\\n<script>\\nimport { NcRichText, NcUserBubble } from '@nextcloud/vue'\\nimport moment from '@nextcloud/moment'\\nimport DOMPurify from 'dompurify'\\nimport relativeDate from '../mixins/relativeDate.js'\\nimport formatReadableDate from '../mixins/readableDate.js'\\n\\nconst InternalLink = {\\n\\tname: 'InternalLink',\\n\\tfunctional: true,\\n\\tprops: {\\n\\t\\thref: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: '',\\n\\t\\t},\\n\\t\\tname: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: '',\\n\\t\\t},\\n\\t},\\n\\trender(createElement, context) {\\n\\t\\treturn createElement('a', { attrs: { href: context.props.href }, style: { 'font-weight': 600 } }, context.props.name)\\n\\t},\\n}\\nexport default {\\n\\tname: 'ActivityEntry',\\n\\tcomponents: {\\n\\t\\tNcRichText,\\n\\t},\\n\\tmixins: [relativeDate, formatReadableDate],\\n\\tprops: {\\n\\t\\tactivity: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\tdefault: null,\\n\\t\\t},\\n\\t},\\n\\tcomputed: {\\n\\t\\tmessage() {\\n\\t\\t\\tconst subject = this.activity.subject_rich[0]\\n\\t\\t\\tconst parameters = JSON.parse(JSON.stringify(this.activity.subject_rich[1]))\\n\\t\\t\\tif (parameters.after && typeof parameters.after.id === 'string' && parameters.after.id.startsWith('dt:')) {\\n\\t\\t\\t\\tconst dateTime = parameters.after.id.slice(3)\\n\\t\\t\\t\\tparameters.after.name = moment(dateTime).format('L LTS')\\n\\t\\t\\t}\\n\\n\\t\\t\\tObject.keys(parameters).forEach(function(key, index) {\\n\\t\\t\\t\\tconst { type } = parameters[key]\\n\\t\\t\\t\\tswitch (type) {\\n\\t\\t\\t\\tcase 'highlight':\\n\\t\\t\\t\\t\\tparameters[key] = {\\n\\t\\t\\t\\t\\t\\tcomponent: InternalLink,\\n\\t\\t\\t\\t\\t\\tprops: {\\n\\t\\t\\t\\t\\t\\t\\thref: parameters[key].link,\\n\\t\\t\\t\\t\\t\\t\\tname: parameters[key].name,\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tbreak\\n\\t\\t\\t\\tcase 'user':\\n\\t\\t\\t\\t\\tparameters[key] = {\\n\\t\\t\\t\\t\\t\\tcomponent: NcUserBubble,\\n\\t\\t\\t\\t\\t\\tprops: {\\n\\t\\t\\t\\t\\t\\t\\tuser: parameters[key].id,\\n\\t\\t\\t\\t\\t\\t\\tdisplayName: parameters[key].name,\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tbreak\\n\\t\\t\\t\\tdefault:\\n\\t\\t\\t\\t\\tparameters[key] = `{${key}}`\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t})\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tsubject, parameters,\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\tsanitizedMessage() {\\n\\t\\t\\treturn DOMPurify.sanitize(this.activity.message, { ALLOWED_TAGS: ['ins', 'del'], ALLOWED_ATTR: ['class'] })\\n\\t\\t},\\n\\n\\t},\\n}\\n</script>\\n\\n<style scoped lang=\\\"scss\\\">\\n\\t.activity {\\n\\n\\t\\t.activity--header {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tpadding: 10px;\\n\\t\\t}\\n\\n\\t\\t.activity--icon {\\n\\t\\t\\twidth: 16px;\\n\\t\\t\\theight: 16px;\\n\\t\\t\\tflex-shrink: 0;\\n\\t\\t\\tflex-grow: 0;\\n\\t\\t}\\n\\t\\t.activity--subject {\\n\\t\\t\\tmargin-left: 10px;\\n\\t\\t}\\n\\t\\t.activity--message {\\n\\t\\t\\tmargin-left: 44px;\\n\\t\\t\\tcolor: var(--color-text-light);\\n\\t\\t\\tmargin-bottom: 10px;\\n\\t\\t}\\n\\t\\t.activity--timestamp {\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t\\ttext-align: right;\\n\\t\\t\\tfont-size: 0.8em;\\n\\t\\t\\tpadding: 1px;\\n\\t\\t}\\n\\t}\\n</style>\\n<style>\\n\\t.visualdiff ins {\\n\\t\\tcolor: green;\\n\\t}\\n\\n\\t.visualdiff del {\\n\\t\\tcolor: darkred;\\n\\t}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.activity-list[data-v-d2d5aa18] {\n\tmargin-bottom: 100px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ActivityList.vue\"],\"names\":[],\"mappings\":\";AA4IA;CACA,oBAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - @copyright Copyright (c) 2020 Julius Härtl <jus@bitgrid.net>\\n  -\\n  - @author Julius Härtl <jus@bitgrid.net>\\n  -\\n  - @license GNU AGPL version 3 or any later version\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n  -\\n  -->\\n\\n<template>\\n\\t<div class=\\\"activity-list\\\">\\n\\t\\t<div v-if=\\\"isLoading\\\" class=\\\"icon icon-loading\\\" />\\n\\t\\t<ActivityEntry v-for=\\\"activity in activities\\\"\\n\\t\\t\\t:key=\\\"activity.activity_id\\\"\\n\\t\\t\\t:activity=\\\"activity\\\" />\\n\\t\\t<InfiniteLoading :identifier=\\\"objectId\\\" @infinite=\\\"infiniteHandler\\\" @change=\\\"changeObject\\\">\\n\\t\\t\\t<div slot=\\\"spinner\\\" class=\\\"icon-loading\\\" />\\n\\t\\t\\t<div slot=\\\"no-more\\\" />\\n\\t\\t\\t<div slot=\\\"no-results\\\" />\\n\\t\\t</InfiniteLoading>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport axios from '@nextcloud/axios'\\nimport { generateOcsUrl } from '@nextcloud/router'\\nimport ActivityEntry from './ActivityEntry.vue'\\nimport InfiniteLoading from 'vue-infinite-loading'\\n\\nconst ACTIVITY_FETCH_LIMIT = 50\\n\\nexport default {\\n\\tname: 'ActivityList',\\n\\tcomponents: {\\n\\t\\tActivityEntry,\\n\\t\\tInfiniteLoading,\\n\\t},\\n\\tprops: {\\n\\t\\tfilter: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: 'deck',\\n\\t\\t},\\n\\t\\ttype: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tobjectId: {\\n\\t\\t\\ttype: Number,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tobjectType: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tactivities: [],\\n\\t\\t\\tisLoading: false,\\n\\t\\t\\tsince: 0,\\n\\t\\t\\tendReached: false,\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\tasync loadActivity() {\\n\\t\\t\\tconst params = new URLSearchParams()\\n\\t\\t\\tparams.append('format', 'json')\\n\\t\\t\\tparams.append('type', this.type)\\n\\t\\t\\tparams.append('since', this.since)\\n\\t\\t\\tparams.append('object_type', this.objectType)\\n\\t\\t\\tparams.append('object_id', '' + this.objectId)\\n\\t\\t\\tparams.append('limit', ACTIVITY_FETCH_LIMIT)\\n\\n\\t\\t\\tconst response = await axios.get(\\n\\t\\t\\t\\tgenerateOcsUrl(`apps/activity/api/v2/activity/${this.filter}`) + '?' + params,\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvalidateStatus: (status) => {\\n\\t\\t\\t\\t\\t\\treturn (status >= 200 && status < 300) || status === 304\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t},\\n\\t\\t\\t)\\n\\n\\t\\t\\tif (response.status === 304) {\\n\\t\\t\\t\\tthis.endReached = true\\n\\t\\t\\t\\treturn []\\n\\t\\t\\t}\\n\\n\\t\\t\\tlet activities = response.data.ocs.data\\n\\t\\t\\tif (this.filter === 'deck') {\\n\\t\\t\\t\\t// We need to manually filter activities here, since currently we use two different types and there is no way\\n\\t\\t\\t\\t// to tell the backend to fetch all activites related to cards of a given board\\n\\t\\t\\t\\tactivities = activities.filter((activity) => {\\n\\t\\t\\t\\t\\treturn (activity.object_type === 'deck_board' && activity.object_id === this.objectId)\\n\\t\\t\\t\\t\\t\\t\\t|| (activity.object_type === 'deck_card' && activity.subject_rich[1].board.id === this.objectId)\\n\\t\\t\\t\\t})\\n\\t\\t\\t}\\n\\t\\t\\tthis.activities.push(...activities)\\n\\t\\t\\tif (activities.length === 0) {\\n\\t\\t\\t\\tthis.endReached = true\\n\\t\\t\\t\\treturn []\\n\\t\\t\\t}\\n\\t\\t\\tthis.since = (activities[activities.length - 1].activity_id)\\n\\t\\t\\treturn activities\\n\\t\\t},\\n\\t\\tasync infiniteHandler($state) {\\n\\t\\t\\tawait this.loadActivity()\\n\\t\\t\\tif (!this.endReached) {\\n\\t\\t\\t\\t$state.loaded()\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t$state.complete()\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tchangeObject() {\\n\\t\\t\\tthis.since = 0\\n\\t\\t\\tthis.activities = []\\n\\t\\t\\tthis.endReached = false\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n\\t.activity-list {\\n\\t\\tmargin-bottom: 100px;\\n\\t}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var map = {\n\t\"./af\": 42786,\n\t\"./af.js\": 42786,\n\t\"./ar\": 30867,\n\t\"./ar-dz\": 14130,\n\t\"./ar-dz.js\": 14130,\n\t\"./ar-kw\": 96135,\n\t\"./ar-kw.js\": 96135,\n\t\"./ar-ly\": 56440,\n\t\"./ar-ly.js\": 56440,\n\t\"./ar-ma\": 47702,\n\t\"./ar-ma.js\": 47702,\n\t\"./ar-ps\": 20315,\n\t\"./ar-ps.js\": 20315,\n\t\"./ar-sa\": 16040,\n\t\"./ar-sa.js\": 16040,\n\t\"./ar-tn\": 37100,\n\t\"./ar-tn.js\": 37100,\n\t\"./ar.js\": 30867,\n\t\"./az\": 31083,\n\t\"./az.js\": 31083,\n\t\"./be\": 9808,\n\t\"./be.js\": 9808,\n\t\"./bg\": 68338,\n\t\"./bg.js\": 68338,\n\t\"./bm\": 67438,\n\t\"./bm.js\": 67438,\n\t\"./bn\": 8905,\n\t\"./bn-bd\": 76225,\n\t\"./bn-bd.js\": 76225,\n\t\"./bn.js\": 8905,\n\t\"./bo\": 11560,\n\t\"./bo.js\": 11560,\n\t\"./br\": 1278,\n\t\"./br.js\": 1278,\n\t\"./bs\": 80622,\n\t\"./bs.js\": 80622,\n\t\"./ca\": 2468,\n\t\"./ca.js\": 2468,\n\t\"./cs\": 5822,\n\t\"./cs.js\": 5822,\n\t\"./cv\": 50877,\n\t\"./cv.js\": 50877,\n\t\"./cy\": 47373,\n\t\"./cy.js\": 47373,\n\t\"./da\": 24780,\n\t\"./da.js\": 24780,\n\t\"./de\": 59740,\n\t\"./de-at\": 60217,\n\t\"./de-at.js\": 60217,\n\t\"./de-ch\": 60894,\n\t\"./de-ch.js\": 60894,\n\t\"./de.js\": 59740,\n\t\"./dv\": 5300,\n\t\"./dv.js\": 5300,\n\t\"./el\": 50837,\n\t\"./el.js\": 50837,\n\t\"./en-au\": 78348,\n\t\"./en-au.js\": 78348,\n\t\"./en-ca\": 77925,\n\t\"./en-ca.js\": 77925,\n\t\"./en-gb\": 22243,\n\t\"./en-gb.js\": 22243,\n\t\"./en-ie\": 46436,\n\t\"./en-ie.js\": 46436,\n\t\"./en-il\": 47207,\n\t\"./en-il.js\": 47207,\n\t\"./en-in\": 44175,\n\t\"./en-in.js\": 44175,\n\t\"./en-nz\": 76319,\n\t\"./en-nz.js\": 76319,\n\t\"./en-sg\": 31662,\n\t\"./en-sg.js\": 31662,\n\t\"./eo\": 92915,\n\t\"./eo.js\": 92915,\n\t\"./es\": 55655,\n\t\"./es-do\": 55251,\n\t\"./es-do.js\": 55251,\n\t\"./es-mx\": 96112,\n\t\"./es-mx.js\": 96112,\n\t\"./es-us\": 71146,\n\t\"./es-us.js\": 71146,\n\t\"./es.js\": 55655,\n\t\"./et\": 5603,\n\t\"./et.js\": 5603,\n\t\"./eu\": 77763,\n\t\"./eu.js\": 77763,\n\t\"./fa\": 76959,\n\t\"./fa.js\": 76959,\n\t\"./fi\": 11897,\n\t\"./fi.js\": 11897,\n\t\"./fil\": 42549,\n\t\"./fil.js\": 42549,\n\t\"./fo\": 94694,\n\t\"./fo.js\": 94694,\n\t\"./fr\": 15596,\n\t\"./fr-ca\": 63049,\n\t\"./fr-ca.js\": 63049,\n\t\"./fr-ch\": 52330,\n\t\"./fr-ch.js\": 52330,\n\t\"./fr.js\": 15596,\n\t\"./fy\": 5044,\n\t\"./fy.js\": 5044,\n\t\"./ga\": 29295,\n\t\"./ga.js\": 29295,\n\t\"./gd\": 2101,\n\t\"./gd.js\": 2101,\n\t\"./gl\": 38794,\n\t\"./gl.js\": 38794,\n\t\"./gom-deva\": 27884,\n\t\"./gom-deva.js\": 27884,\n\t\"./gom-latn\": 23168,\n\t\"./gom-latn.js\": 23168,\n\t\"./gu\": 95349,\n\t\"./gu.js\": 95349,\n\t\"./he\": 24206,\n\t\"./he.js\": 24206,\n\t\"./hi\": 30094,\n\t\"./hi.js\": 30094,\n\t\"./hr\": 30316,\n\t\"./hr.js\": 30316,\n\t\"./hu\": 22138,\n\t\"./hu.js\": 22138,\n\t\"./hy-am\": 11423,\n\t\"./hy-am.js\": 11423,\n\t\"./id\": 29218,\n\t\"./id.js\": 29218,\n\t\"./is\": 90135,\n\t\"./is.js\": 90135,\n\t\"./it\": 90626,\n\t\"./it-ch\": 10150,\n\t\"./it-ch.js\": 10150,\n\t\"./it.js\": 90626,\n\t\"./ja\": 39183,\n\t\"./ja.js\": 39183,\n\t\"./jv\": 24286,\n\t\"./jv.js\": 24286,\n\t\"./ka\": 12105,\n\t\"./ka.js\": 12105,\n\t\"./kk\": 47772,\n\t\"./kk.js\": 47772,\n\t\"./km\": 18758,\n\t\"./km.js\": 18758,\n\t\"./kn\": 79282,\n\t\"./kn.js\": 79282,\n\t\"./ko\": 33730,\n\t\"./ko.js\": 33730,\n\t\"./ku\": 1408,\n\t\"./ku-kmr\": 90563,\n\t\"./ku-kmr.js\": 90563,\n\t\"./ku.js\": 1408,\n\t\"./ky\": 33291,\n\t\"./ky.js\": 33291,\n\t\"./lb\": 36841,\n\t\"./lb.js\": 36841,\n\t\"./lo\": 55466,\n\t\"./lo.js\": 55466,\n\t\"./lt\": 57010,\n\t\"./lt.js\": 57010,\n\t\"./lv\": 37595,\n\t\"./lv.js\": 37595,\n\t\"./me\": 39861,\n\t\"./me.js\": 39861,\n\t\"./mi\": 35493,\n\t\"./mi.js\": 35493,\n\t\"./mk\": 95966,\n\t\"./mk.js\": 95966,\n\t\"./ml\": 87341,\n\t\"./ml.js\": 87341,\n\t\"./mn\": 5115,\n\t\"./mn.js\": 5115,\n\t\"./mr\": 10370,\n\t\"./mr.js\": 10370,\n\t\"./ms\": 9847,\n\t\"./ms-my\": 41237,\n\t\"./ms-my.js\": 41237,\n\t\"./ms.js\": 9847,\n\t\"./mt\": 72126,\n\t\"./mt.js\": 72126,\n\t\"./my\": 56165,\n\t\"./my.js\": 56165,\n\t\"./nb\": 64924,\n\t\"./nb.js\": 64924,\n\t\"./ne\": 16744,\n\t\"./ne.js\": 16744,\n\t\"./nl\": 93901,\n\t\"./nl-be\": 59814,\n\t\"./nl-be.js\": 59814,\n\t\"./nl.js\": 93901,\n\t\"./nn\": 83877,\n\t\"./nn.js\": 83877,\n\t\"./oc-lnc\": 92135,\n\t\"./oc-lnc.js\": 92135,\n\t\"./pa-in\": 15858,\n\t\"./pa-in.js\": 15858,\n\t\"./pl\": 64495,\n\t\"./pl.js\": 64495,\n\t\"./pt\": 89520,\n\t\"./pt-br\": 57971,\n\t\"./pt-br.js\": 57971,\n\t\"./pt.js\": 89520,\n\t\"./ro\": 96459,\n\t\"./ro.js\": 96459,\n\t\"./ru\": 21793,\n\t\"./ru.js\": 21793,\n\t\"./sd\": 40950,\n\t\"./sd.js\": 40950,\n\t\"./se\": 10490,\n\t\"./se.js\": 10490,\n\t\"./si\": 90124,\n\t\"./si.js\": 90124,\n\t\"./sk\": 64249,\n\t\"./sk.js\": 64249,\n\t\"./sl\": 14985,\n\t\"./sl.js\": 14985,\n\t\"./sq\": 51104,\n\t\"./sq.js\": 51104,\n\t\"./sr\": 49131,\n\t\"./sr-cyrl\": 79915,\n\t\"./sr-cyrl.js\": 79915,\n\t\"./sr.js\": 49131,\n\t\"./ss\": 85893,\n\t\"./ss.js\": 85893,\n\t\"./sv\": 98760,\n\t\"./sv.js\": 98760,\n\t\"./sw\": 91172,\n\t\"./sw.js\": 91172,\n\t\"./ta\": 27333,\n\t\"./ta.js\": 27333,\n\t\"./te\": 23110,\n\t\"./te.js\": 23110,\n\t\"./tet\": 52095,\n\t\"./tet.js\": 52095,\n\t\"./tg\": 27321,\n\t\"./tg.js\": 27321,\n\t\"./th\": 9041,\n\t\"./th.js\": 9041,\n\t\"./tk\": 19005,\n\t\"./tk.js\": 19005,\n\t\"./tl-ph\": 75768,\n\t\"./tl-ph.js\": 75768,\n\t\"./tlh\": 89444,\n\t\"./tlh.js\": 89444,\n\t\"./tr\": 72397,\n\t\"./tr.js\": 72397,\n\t\"./tzl\": 28254,\n\t\"./tzl.js\": 28254,\n\t\"./tzm\": 51106,\n\t\"./tzm-latn\": 30699,\n\t\"./tzm-latn.js\": 30699,\n\t\"./tzm.js\": 51106,\n\t\"./ug-cn\": 9288,\n\t\"./ug-cn.js\": 9288,\n\t\"./uk\": 67691,\n\t\"./uk.js\": 67691,\n\t\"./ur\": 13795,\n\t\"./ur.js\": 13795,\n\t\"./uz\": 6791,\n\t\"./uz-latn\": 60588,\n\t\"./uz-latn.js\": 60588,\n\t\"./uz.js\": 6791,\n\t\"./vi\": 65666,\n\t\"./vi.js\": 65666,\n\t\"./x-pseudo\": 14378,\n\t\"./x-pseudo.js\": 14378,\n\t\"./yo\": 75805,\n\t\"./yo.js\": 75805,\n\t\"./zh-cn\": 83839,\n\t\"./zh-cn.js\": 83839,\n\t\"./zh-hk\": 55726,\n\t\"./zh-hk.js\": 55726,\n\t\"./zh-mo\": 99807,\n\t\"./zh-mo.js\": 99807,\n\t\"./zh-tw\": 74152,\n\t\"./zh-tw.js\": 74152\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarList.vue?vue&type=style&index=0&id=c0f7e9f2&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarList.vue?vue&type=style&index=0&id=c0f7e9f2&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AvatarList.vue?vue&type=template&id=c0f7e9f2&scoped=true\"\nimport script from \"./AvatarList.vue?vue&type=script&lang=js\"\nexport * from \"./AvatarList.vue?vue&type=script&lang=js\"\nimport style0 from \"./AvatarList.vue?vue&type=style&index=0&id=c0f7e9f2&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c0f7e9f2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.interactive)?_c('div',{staticClass:\"deck-board-reference-interactive\"},[_c('Board',{attrs:{\"id\":_vm.board.id}})],1):_c('div',{staticClass:\"deck-board-reference\"},[_c('div',{staticClass:\"line\"},[_c('DeckIcon',{staticClass:\"title-icon\",attrs:{\"size\":20}}),_vm._v(\" \"),_c('strong',[_c('a',{staticClass:\"link\",attrs:{\"href\":_vm.boardLink,\"title\":_vm.boardTooltip,\"target\":\"_blank\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.board.title)+\"\\n\\t\\t\\t\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"line\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Owner') + ': ')+\"\\n\\t\\t\"),_c('NcUserBubble',{attrs:{\"user\":_vm.boardOwnerUserId,\"display-name\":_vm.boardOwnerDisplayName}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n * @copyright Copyright (c) 2022, chandi Langecker (git@chandi.it)\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * -->\n\n<template>\n\t<div :title=\"t('text', 'Currently present people')\"\n\t\tclass=\"avatar-list\">\n\t\t<div v-for=\"session in sessionsVisible\"\n\t\t\t:key=\"session.uid\"\n\t\t\tclass=\"avatar-wrapper\"\n\t\t\t:style=\"sessionAvatarStyle\">\n\t\t\t<NcAvatar :user=\"session.uid\"\n\t\t\t\t:display-name=\"session.displayname\"\n\t\t\t\t:disable-menu=\"true\"\n\t\t\t\t:show-user-status=\"false\"\n\t\t\t\t:disable-tooltip=\"true\"\n\t\t\t\t:size=\"size\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { NcAvatar } from '@nextcloud/vue'\n\nexport default {\n\tname: 'SessionList',\n\tcomponents: {\n\t\tNcAvatar,\n\t},\n\tprops: {\n\t\tsessions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => { return [] },\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: () => 32,\n\t\t},\n\t},\n\tcomputed: {\n\t\tsessionsVisible() {\n\t\t\tif (!this.sessions) return []\n\t\t\treturn this.sessions.slice(0, 5)\n\t\t},\n\t\tsessionAvatarStyle() {\n\t\t\treturn {\n\t\t\t\t'--size': this.size + 'px',\n\t\t\t\t'--font-size': this.size / 2 + 'px',\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.avatar-list {\n\tmin-height: 44px;\n\talign-items: center;\n\tpadding-right: 0.5em;\n\tborder: none;\n\tbackground-color: var(--color-main-background);\n\tmargin: 0;\n\tpadding-left: 6px;\n\tdisplay: inline-flex;\n\tflex-direction: row-reverse;\n\n\t&:focus {\n\t\tbackground-color: #eee;\n\t}\n\n}\n\n.avatar-wrapper {\n\tbackground-color: #b9b9b9;\n\tborder-radius: 50%;\n\tborder: 1px solid var(--color-border-dark);\n\twidth: var(--size);\n\theight: var(--size);\n\ttext-align: center;\n\tcolor: #ffffff;\n\tline-height: var(--size);\n\tfont-size: var(--font-size);\n\tfont-weight: normal;\n\tz-index: 1;\n\toverflow: hidden;\n\tbox-sizing: content-box !important;\n\tmargin-left: -8px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=style&index=0&id=18e0f063&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=style&index=0&id=18e0f063&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SessionList.vue?vue&type=template&id=18e0f063&scoped=true\"\nimport script from \"./SessionList.vue?vue&type=script&lang=js\"\nexport * from \"./SessionList.vue?vue&type=script&lang=js\"\nimport style0 from \"./SessionList.vue?vue&type=style&index=0&id=18e0f063&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18e0f063\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"avatar-list\",attrs:{\"title\":_vm.t('text', 'Currently present people')}},_vm._l((_vm.sessionsVisible),function(session){return _c('div',{key:session.uid,staticClass:\"avatar-wrapper\",style:(_vm.sessionAvatarStyle)},[_c('NcAvatar',{attrs:{\"user\":session.uid,\"display-name\":session.displayname,\"disable-menu\":true,\"show-user-status\":false,\"disable-tooltip\":true,\"size\":_vm.size}})],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * @copyright Copyright (c) 2022, chandi Langecker (git@chandi.it)\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\n\nexport class SessionApi {\n\n\turl(url) {\n\t\treturn generateOcsUrl(`apps/deck/api/v1.0${url}`)\n\t}\n\n\tasync createSession(boardId) {\n\t\treturn (await axios.put(this.url('/session/create'), { boardId })).data.ocs.data\n\t}\n\n\tasync syncSession(boardId, token) {\n\t\treturn await axios.post(this.url('/session/sync'), { boardId, token })\n\t}\n\n\tasync closeSession(boardId, token) {\n\t\treturn await axios.post(this.url('/session/close'), { boardId, token })\n\t}\n\n\tasync closeSessionViaBeacon(boardId, token) {\n\t\tconst body = {\n\t\t\tboardId,\n\t\t\ttoken,\n\t\t}\n\t\tconst headers = {\n\t\t\ttype: 'application/json',\n\t\t}\n\t\tconst blob = new Blob([JSON.stringify(body)], headers)\n\t\tnavigator.sendBeacon(this.url('/session/close'), blob)\n\t}\n\n}\n\nexport const sessionApi = new SessionApi()\n","/*\n * @copyright Copyright (c) 2021 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default {\n\tstate: {\n\t\tactions: {\n\t\t\tcard: [],\n\t\t},\n\t},\n\tgetters: {\n\t\tcardActions: (state) => state.actions.card,\n\t},\n\tmutations: {\n\t\tADD_CARD_ACTION(state, action) {\n\t\t\tstate.actions.card.push(action)\n\t\t},\n\t},\n\tactions: {\n\t\tasync addCardAction({ commit }, action) {\n\t\t\tcommit('ADD_CARD_ACTION', action)\n\t\t},\n\t},\n}\n","/*\n * @copyright Copyright (c) 2018 Michael Weimann <mail@michael-weimann.eu>\n *\n * @author Michael Weimann <mail@michael-weimann.eu>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\nimport '../models/index.js'\n\nexport class StackApi {\n\n\turl(url) {\n\t\turl = `/apps/deck${url}`\n\t\treturn generateUrl(url)\n\t}\n\n\tloadStacks(boardId) {\n\t\treturn axios.get(this.url(`/stacks/${boardId}`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tdeletedStacks(boardId) {\n\t\treturn axios.get(this.url(`/${boardId}/stacks/deleted`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tloadArchivedStacks(boardId) {\n\t\treturn axios.get(this.url(`/stacks/${boardId}/archived`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\t/**\n\t * @param {Stack} stack stack object to create\n\t * @return {Promise}\n\t */\n\tcreateStack(stack) {\n\t\treturn axios.post(this.url('/stacks'), stack)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\treorderStack(stackId, order) {\n\t\treturn axios.put(this.url(`/stacks/${stackId}/reorder`), { order })\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tdeleteStack(stackId) {\n\t\treturn axios.delete(this.url(`/stacks/${stackId}`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tupdateStack(stack) {\n\t\treturn axios.put(this.url(`/stacks/${stack.id}`), stack)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n}\n","/*\n * @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nconst arrayMove = function(arrayToSort, removedIndex, addedIndex) {\n\tif (removedIndex === null && addedIndex === null) return arrayToSort\n\n\tconst result = [...arrayToSort]\n\tlet itemToAdd = arrayToSort[removedIndex]\n\n\tif (removedIndex !== null) {\n\t\titemToAdd = result.splice(removedIndex, 1)[0]\n\t}\n\n\tif (addedIndex !== null) {\n\t\tresult.splice(addedIndex, 0, itemToAdd)\n\t}\n\treturn result\n}\n\nexport default arrayMove\n","/*\n * @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport Vue from 'vue'\nimport { StackApi } from './../services/StackApi.js'\nimport applyOrderToArray from './../helpers/applyOrderToArray.js'\n\nconst apiClient = new StackApi()\n\nexport default {\n\tstate: {\n\t\tstacks: [],\n\t},\n\tgetters: {\n\t\tstacksByBoard: state => (id) => {\n\t\t\treturn state.stacks.filter((stack) => stack.boardId === id).sort((a, b) => a.order - b.order)\n\t\t},\n\t\tstackById: state => (id) => {\n\t\t\treturn state.stacks.find((stack) => stack.id === id)\n\t\t},\n\t},\n\tmutations: {\n\t\taddStack(state, stack) {\n\t\t\tconst existingIndex = state.stacks.findIndex(_stack => _stack.id === stack.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tconst existingStack = state.stacks.find(_stack => _stack.id === stack.id)\n\t\t\t\tVue.set(state.stacks, existingIndex, Object.assign({}, existingStack, stack))\n\t\t\t} else {\n\t\t\t\tstate.stacks.push(stack)\n\t\t\t}\n\t\t},\n\t\torderStack(state, { stack, removedIndex, addedIndex }) {\n\t\t\tconst currentOrder = state.stacks.filter((_stack) => _stack.boardId === stack.boardId).sort((a, b) => a.order - b.order)\n\t\t\tconst newOrder = applyOrderToArray(currentOrder, removedIndex, addedIndex)\n\t\t\tfor (let i = 0; i < newOrder.length; i++) {\n\t\t\t\tnewOrder[i].order = parseInt(i)\n\t\t\t}\n\t\t},\n\t\tdeleteStack(state, stack) {\n\t\t\tconst existingIndex = state.stacks.findIndex(_stack => _stack.id === stack.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.stacks.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\t\tupdateStack(state, stack) {\n\t\t\tconst existingIndex = state.stacks.findIndex(_stack => _stack.id === stack.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.stacks[existingIndex].title = stack.title\n\t\t\t}\n\t\t},\n\t},\n\tactions: {\n\t\torderStack({ commit }, { stack, removedIndex, addedIndex }) {\n\t\t\tcommit('orderStack', { stack, removedIndex, addedIndex })\n\t\t\tapiClient.reorderStack(stack.id, addedIndex)\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tOC.Notification.showTemporary('Failed to change order')\n\t\t\t\t\tconsole.error(err.response.data.message)\n\t\t\t\t\tcommit('orderStack', { stack, addedIndex, removedIndex })\n\t\t\t\t})\n\t\t},\n\t\tasync loadStacks({ commit }, boardId) {\n\t\t\tlet call = 'loadStacks'\n\t\t\tif (this.state.showArchived === true) {\n\t\t\t\tcall = 'loadArchivedStacks'\n\t\t\t}\n\t\t\tconst stacks = await apiClient[call](boardId)\n\t\t\tconst cards = []\n\t\t\tfor (const i in stacks) {\n\t\t\t\tconst stack = stacks[i]\n\t\t\t\tfor (const j in stack.cards) {\n\t\t\t\t\tcards.push(stack.cards[j])\n\t\t\t\t}\n\t\t\t\tdelete stack.cards\n\t\t\t\tcommit('addStack', stack)\n\t\t\t}\n\t\t\tcommit('setCards', cards)\n\t\t},\n\t\tcreateStack({ commit }, stack) {\n\t\t\tstack.boardId = this.state.currentBoard.id\n\t\t\tapiClient.createStack(stack)\n\t\t\t\t.then((createdStack) => {\n\t\t\t\t\tcommit('addStack', createdStack)\n\t\t\t\t})\n\t\t},\n\t\tdeleteStack({ commit }, stack) {\n\t\t\tapiClient.deleteStack(stack.id)\n\t\t\t\t.then((stack) => {\n\t\t\t\t\tcommit('deleteStack', stack)\n\t\t\t\t\tcommit('moveStackToTrash', stack)\n\t\t\t\t})\n\t\t},\n\t\tupdateStack({ commit }, stack) {\n\t\t\tapiClient.updateStack(stack)\n\t\t\t\t.then((stack) => {\n\t\t\t\t\tcommit('updateStack', stack)\n\t\t\t\t})\n\t\t},\n\t},\n}\n","/*\n * @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { CardApi } from './../services/CardApi.js'\nimport moment from 'moment'\nimport Vue from 'vue'\n\nconst apiClient = new CardApi()\n\nexport default {\n\tstate: {\n\t\tcards: [],\n\t},\n\tgetters: {\n\t\tcardsByStack: (state, getters, rootState) => (id) => {\n\t\t\treturn state.cards.filter((card) => {\n\t\t\t\tconst { tags, users, due, unassigned, completed } = rootState.filter\n\n\t\t\t\tif (completed === 'open' && card.done !== null) { return false }\n\t\t\t\tif (completed === 'completed' && card.done == null) { return false }\n\t\t\t\tlet allTagsMatch = true\n\t\t\t\tlet allUsersMatch = true\n\n\t\t\t\tif (tags.length > 0) {\n\t\t\t\t\ttags.forEach((tag) => {\n\t\t\t\t\t\tif (card.labels.findIndex((l) => l.id === tag) === -1) {\n\t\t\t\t\t\t\tallTagsMatch = false\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif (!allTagsMatch) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (users.length > 0) {\n\t\t\t\t\tusers.forEach((user) => {\n\t\t\t\t\t\tif (!card?.assignedUsers || card.assignedUsers.findIndex((u) => u.participant.uid === user) === -1) {\n\t\t\t\t\t\t\tallUsersMatch = false\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif (!allUsersMatch) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (unassigned && card.assignedUsers.length > 0) {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\n\t\t\t\tif (due !== '') {\n\t\t\t\t\tconst datediffHour = ((new Date(card.duedate) - new Date()) / 3600 / 1000)\n\t\t\t\t\tswitch (due) {\n\t\t\t\t\tcase 'noDue':\n\t\t\t\t\t\treturn (card.duedate === null)\n\t\t\t\t\tcase 'overdue':\n\t\t\t\t\t\treturn (card.overdue === 3)\n\t\t\t\t\tcase 'dueToday':\n\t\t\t\t\t\treturn (card.overdue >= 2)\n\t\t\t\t\tcase 'dueWeek':\n\t\t\t\t\t\treturn (datediffHour <= 7 * 24 && card.duedate !== null)\n\t\t\t\t\tcase 'dueMonth':\n\t\t\t\t\t\treturn (datediffHour <= 30 * 24 && card.duedate !== null)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true\n\t\t\t})\n\t\t\t\t.filter((card) => card.stackId === id)\n\t\t\t\t.filter((card) => {\n\t\t\t\t\tif (getters.getSearchQuery === '') {\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\n\t\t\t\t\tlet hasMatch = true\n\t\t\t\t\tconst matches = getters.getSearchQuery.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g)\n\n\t\t\t\t\tconst filterOutQuotes = (q) => {\n\t\t\t\t\t\tif (q[0] === '\"' && q[q.length - 1] === '\"') {\n\t\t\t\t\t\t\treturn q.slice(1, -1)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn q\n\t\t\t\t\t}\n\t\t\t\t\tfor (const match of matches) {\n\t\t\t\t\t\tlet [filter, query] = match.indexOf(':') !== -1 ? match.split(/:(.*)/) : [null, match]\n\t\t\t\t\t\tconst isEmptyQuery = typeof query === 'undefined' || filterOutQuotes(query) === ''\n\n\t\t\t\t\t\tif (filter === 'title') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && card.title.toLowerCase().includes(filterOutQuotes(query).toLowerCase())\n\t\t\t\t\t\t} else if (filter === 'description') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\thasMatch = hasMatch && !!card.description\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && card.description.toLowerCase().includes(filterOutQuotes(query).toLowerCase())\n\t\t\t\t\t\t} else if (filter === 'list') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst stack = getters.stackById(card.stackId)\n\t\t\t\t\t\t\tif (!stack) {\n\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && stack.title.toLowerCase().includes(filterOutQuotes(query).toLowerCase())\n\t\t\t\t\t\t} else if (filter === 'tag') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\thasMatch = hasMatch && card.labels.length > 0\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && card.labels.findIndex((label) => label.title.toLowerCase().includes(filterOutQuotes(query).toLowerCase())) !== -1\n\t\t\t\t\t\t} else if (filter === 'date') {\n\t\t\t\t\t\t\tconst datediffHour = ((new Date(card.duedate) - new Date()) / 3600 / 1000)\n\t\t\t\t\t\t\tquery = filterOutQuotes(query)\n\t\t\t\t\t\t\tswitch (query) {\n\t\t\t\t\t\t\tcase 'overdue':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (card.overdue === 3)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'today':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (datediffHour > 0 && datediffHour <= 24 && card.duedate !== null)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'week':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (datediffHour > 0 && datediffHour <= 7 * 24 && card.duedate !== null)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'month':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (datediffHour > 0 && datediffHour <= 30 * 24 && card.duedate !== null)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'none':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (card.duedate === null)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (card.duedate === null || !hasMatch) {\n\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst comparator = query[0] + (query[1] === '=' ? '=' : '')\n\t\t\t\t\t\t\tconst isValidComparator = ['<', '<=', '>', '>='].indexOf(comparator) !== -1\n\t\t\t\t\t\t\tconst parsedCardDate = moment(card.duedate)\n\t\t\t\t\t\t\tconst parsedDate = moment(query.slice(isValidComparator ? comparator.length : 0))\n\t\t\t\t\t\t\tswitch (comparator) {\n\t\t\t\t\t\t\tcase '<':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isBefore(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase '<=':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isSameOrBefore(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase '>':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isAfter(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase '>=':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isSameOrAfter(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isSame(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if (filter === 'assigned') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\thasMatch = hasMatch && card.assignedUsers.length > 0\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && card.assignedUsers.findIndex((assignment) => {\n\t\t\t\t\t\t\t\treturn assignment.participant.primaryKey.toLowerCase() === filterOutQuotes(query).toLowerCase()\n\t\t\t\t\t\t\t\t\t|| assignment.participant.displayname.toLowerCase() === filterOutQuotes(query).toLowerCase()\n\t\t\t\t\t\t\t}) !== -1\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thasMatch = hasMatch && (card.title.toLowerCase().includes(filterOutQuotes(match).toLowerCase())\n\t\t\t\t\t\t\t\t|| card.description.toLowerCase().includes(filterOutQuotes(match).toLowerCase()) || card.id === parseInt(filterOutQuotes(match)))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!hasMatch) {\n\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn true\n\t\t\t\t})\n\t\t\t\t.sort((a, b) => a.order - b.order || a.createdAt - b.createdAt)\n\t\t},\n\t\tcardById: state => (id) => {\n\t\t\treturn state.cards.find((card) => card.id === id)\n\t\t},\n\t},\n\tmutations: {\n\t\taddCard(state, card) {\n\t\t\tcard.labels = card.labels || []\n\t\t\tcard.assignedUsers = card.assignedUsers || []\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tconst existingCard = state.cards.find(_card => _card.id === card.id)\n\t\t\t\tVue.set(state.cards, existingIndex, Object.assign({}, existingCard, card))\n\t\t\t} else {\n\t\t\t\tstate.cards.push(card)\n\t\t\t}\n\t\t},\n\t\tdeleteCard(state, card) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.cards.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\t\tupdateCard(state, card) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards, existingIndex, Object.assign({}, state.cards[existingIndex], card))\n\t\t\t}\n\t\t},\n\t\tupdateCardsReorder(state, cards) {\n\t\t\tfor (const newCard of cards) {\n\t\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === newCard.id)\n\t\t\t\tif (existingIndex !== -1) {\n\t\t\t\t\tVue.set(state.cards[existingIndex], 'order', newCard.order)\n\t\t\t\t\tVue.set(state.cards[existingIndex], 'stackId', newCard.stackId)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tassignCardToUser(state, user) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === user.cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.cards[existingIndex].assignedUsers.push(user)\n\t\t\t}\n\t\t},\n\t\tremoveUserFromCard(state, user) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === user.cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tconst foundIndex = state.cards[existingIndex].assignedUsers.findIndex(_user => _user.id === user.id)\n\t\t\t\tif (foundIndex !== -1) {\n\t\t\t\t\tstate.cards[existingIndex].assignedUsers.splice(foundIndex, 1)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tupdateCardProperty(state, { card, property }) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards[existingIndex], property, card[property])\n\t\t\t\tVue.set(state.cards[existingIndex], 'lastModified', Date.now() / 1000)\n\t\t\t}\n\t\t},\n\t\tcardSetAttachmentCount(state, { cardId, count }) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards[existingIndex], 'attachmentCount', count)\n\t\t\t}\n\t\t},\n\t\tcardIncreaseAttachmentCount(state, cardId) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards[existingIndex], 'attachmentCount', state.cards[existingIndex].attachmentCount + 1)\n\t\t\t}\n\t\t},\n\t\tcardDecreaseAttachmentCount(state, cardId) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards[existingIndex], 'attachmentCount', state.cards[existingIndex].attachmentCount - 1)\n\t\t\t}\n\t\t},\n\t\taddNewCard(state, card) {\n\t\t\tstate.cards.push(card)\n\t\t},\n\t\tsetCards(state, cards) {\n\t\t\tconst deletedCards = state.cards.filter(_card => {\n\t\t\t\treturn cards.findIndex(c => _card.id === c.id) === -1\n\t\t\t})\n\t\t\tfor (const card of deletedCards) {\n\t\t\t\tthis.commit('deleteCard', card)\n\t\t\t}\n\t\t\tfor (const card of cards) {\n\t\t\t\tthis.commit('addCard', card)\n\t\t\t}\n\t\t},\n\t},\n\tactions: {\n\t\tasync addCard({ commit }, card) {\n\t\t\tconst createdCard = await apiClient.addCard(card)\n\t\t\tcommit('addCard', createdCard)\n\t\t\treturn createdCard\n\t\t},\n\t\tasync updateCardTitle({ commit }, card) {\n\t\t\tconst updatedCard = await apiClient.updateCard(card)\n\t\t\tcommit('updateCardProperty', { property: 'title', card: updatedCard })\n\t\t},\n\t\tasync moveCard({ commit }, card) {\n\t\t\tconst updatedCard = await apiClient.updateCard(card)\n\t\t\tcommit('deleteCard', updatedCard)\n\t\t},\n\t\tasync reorderCard({ commit, getters }, card) {\n\t\t\tlet i = 0\n\t\t\tconst newCards = []\n\t\t\tfor (const c of getters.cardsByStack(card.stackId)) {\n\t\t\t\tif (c.id === card.id) {\n\t\t\t\t\tnewCards.push(card)\n\t\t\t\t}\n\t\t\t\tif (i === card.order) {\n\t\t\t\t\ti++\n\t\t\t\t}\n\t\t\t\tif (c.id !== card.id) {\n\t\t\t\t\tnewCards.push({ ...c, order: i++ })\n\t\t\t\t}\n\t\t\t}\n\t\t\tnewCards.push(card)\n\t\t\tawait commit('updateCardsReorder', newCards)\n\n\t\t\tapiClient.reorderCard(card).then((cards) => {\n\t\t\t\tcommit('updateCardsReorder', Object.values(cards))\n\t\t\t})\n\t\t},\n\t\tasync deleteCard({ commit }, card) {\n\t\t\tawait apiClient.deleteCard(card.id)\n\t\t\tcommit('deleteCard', card)\n\t\t\tcommit('moveCardToTrash', card)\n\t\t},\n\t\tasync archiveUnarchiveCard({ commit }, card) {\n\t\t\tlet call = 'archiveCard'\n\t\t\tif (card.archived === false) {\n\t\t\t\tcall = 'unArchiveCard'\n\t\t\t}\n\n\t\t\tconst updatedCard = await apiClient[call](card)\n\t\t\tcommit('updateCard', updatedCard)\n\t\t},\n\t\tasync changeCardDoneStatus({ commit }, card) {\n\t\t\tlet call = 'markCardAsDone'\n\t\t\tif (card.done === false) {\n\t\t\t\tcall = 'markCardAsUndone'\n\t\t\t}\n\n\t\t\tconst updatedCard = await apiClient[call](card)\n\t\t\tcommit('updateCardProperty', { property: 'done', card: updatedCard })\n\t\t},\n\t\tasync assignCardToUser({ commit }, { card, assignee }) {\n\t\t\tconst user = await apiClient.assignUser(card.id, assignee.userId, assignee.type)\n\t\t\tcommit('assignCardToUser', user)\n\t\t},\n\t\tasync removeUserFromCard({ commit }, { card, assignee }) {\n\t\t\tconst user = await apiClient.removeUser(card.id, assignee.userId, assignee.type)\n\t\t\tcommit('removeUserFromCard', user)\n\t\t},\n\t\tasync addLabel({ commit }, data) {\n\t\t\tawait apiClient.assignLabelToCard(data)\n\t\t\tcommit('updateCardProperty', { property: 'labels', card: data.card })\n\t\t},\n\t\tasync removeLabel({ commit }, data) {\n\t\t\tawait apiClient.removeLabelFromCard(data)\n\t\t\tcommit('updateCardProperty', { property: 'labels', card: data.card })\n\t\t},\n\t\tasync updateCardDesc({ commit }, card) {\n\t\t\tconst updatedCard = await apiClient.updateCard(card)\n\t\t\tcommit('updateCardProperty', { property: 'description', card: updatedCard })\n\t\t},\n\t\tasync updateCardDue({ commit }, card) {\n\t\t\tconst updatedCard = await apiClient.updateCard(card)\n\t\t\tcommit('updateCardProperty', { property: 'duedate', card: updatedCard })\n\t\t},\n\n\t\taddCardData({ commit }, cardData) {\n\t\t\tconst card = { ...cardData }\n\t\t\tcommit('addStack', card.relatedStack)\n\t\t\tcommit('addBoard', card.relatedBoard)\n\t\t\tdelete card.relatedStack\n\t\t\tdelete card.relatedBoard\n\t\t\tcommit('addCard', card)\n\t\t},\n\t},\n}\n","/*\n * @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { CommentApi } from '../services/CommentApi.js'\nimport Vue from 'vue'\n\nconst apiClient = new CommentApi()\n\nconst COMMENT_FETCH_LIMIT = 10\n\nexport default {\n\tstate: {\n\t\tcomments: {},\n\t\treplyTo: null,\n\t},\n\tgetters: {\n\t\tgetCommentsForCard: (state) => (id) => {\n\t\t\tif (state.comments[id]) {\n\t\t\t\treturn [...state.comments[id].comments].sort((a, b) => b.id - a.id)\n\t\t\t}\n\t\t\treturn []\n\t\t},\n\t\thasMoreComments: (state) => (cardId) => {\n\t\t\treturn state.comments[cardId] && state.comments[cardId].hasMore\n\t\t},\n\t},\n\tmutations: {\n\t\tendReached(state, { cardId }) {\n\t\t\tif (state.comments[cardId]) {\n\t\t\t\tstate.comments[cardId].hasMore = false\n\t\t\t}\n\t\t},\n\t\taddComments(state, { comments, cardId }) {\n\t\t\tif (state.comments[cardId] === undefined) {\n\t\t\t\tVue.set(state.comments, cardId, {\n\t\t\t\t\thasMore: comments.length > 0,\n\t\t\t\t\tcomments: [...comments],\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconst newComments = comments.filter((comment) => {\n\t\t\t\t\treturn state.comments[cardId].comments.findIndex((item) => item.id === comment.id) === -1\n\t\t\t\t})\n\t\t\t\tstate.comments[cardId].comments.push(...newComments)\n\t\t\t}\n\t\t},\n\t\tupdateComment(state, { cardId, comment }) {\n\t\t\tconst existingIndex = state.comments[cardId].comments.findIndex(c => c.id === comment.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tObject.assign(state.comments[cardId].comments[existingIndex], comment)\n\t\t\t}\n\t\t},\n\t\tdeleteComment(state, comment) {\n\t\t\tconst existingIndex = state.comments[comment.cardId].comments.findIndex(_comment => _comment.id === comment.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.comments[comment.cardId].comments.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\t\tmarkCommentsAsRead(state, cardId) {\n\t\t\tstate.comments[cardId].comments.forEach(_comment => {\n\t\t\t\tVue.set(_comment, 'isUnread', false)\n\t\t\t})\n\t\t},\n\t\tsetReplyTo(state, comment) {\n\t\t\tVue.set(state, 'replyTo', comment)\n\t\t},\n\t},\n\tactions: {\n\t\tasync fetchComments({ commit }, { cardId, offset }) {\n\t\t\tconst comments = await apiClient.loadComments({\n\t\t\t\tcardId,\n\t\t\t\tlimit: COMMENT_FETCH_LIMIT,\n\t\t\t\toffset: offset || 0,\n\t\t\t})\n\n\t\t\tcommit('addComments', {\n\t\t\t\tcardId,\n\t\t\t\tcomments,\n\t\t\t})\n\n\t\t\tif (comments.length < COMMENT_FETCH_LIMIT) {\n\t\t\t\tcommit('endReached', { cardId })\n\n\t\t\t}\n\t\t},\n\t\tasync fetchMore({ commit, dispatch, getters }, { cardId }) {\n\t\t\t// fetch newer comments first\n\t\t\tawait dispatch('fetchComments', { cardId })\n\t\t\tawait dispatch('fetchComments', { cardId, offset: getters.getCommentsForCard(cardId).length })\n\n\t\t},\n\t\tasync createComment({ commit, dispatch, state }, { cardId, comment }) {\n\t\t\tawait apiClient.createComment({ cardId, comment, replyTo: state.replyTo })\n\t\t\tawait dispatch('fetchComments', { cardId })\n\t\t},\n\t\tasync deleteComment({ commit }, data) {\n\t\t\tawait apiClient.deleteComment(data)\n\t\t\tcommit('deleteComment', data)\n\t\t},\n\t\tasync updateComment({ commit }, data) {\n\t\t\tconst comment = await apiClient.updateComment(data)\n\t\t\tawait commit('updateComment', { cardId: data.cardId, comment })\n\t\t},\n\t\tasync markCommentsAsRead({ commit }, cardId) {\n\t\t\tawait apiClient.markCommentsAsRead(cardId)\n\t\t\tawait commit('markCommentsAsRead', cardId)\n\t\t},\n\t\tsetReplyTo({ commit }, comment) {\n\t\t\tcommit('setReplyTo', comment)\n\t\t},\n\t},\n}\n","/*\n * @copyright Copyright (c) 2018 Michael Weimann <mail@michael-weimann.eu>\n *\n * @author Michael Weimann <mail@michael-weimann.eu>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl, generateRemoteUrl } from '@nextcloud/router'\n\nexport class CommentApi {\n\n\turl(url) {\n\t\turl = `dav/comments/deckCard/${url}`\n\t\treturn generateRemoteUrl(url)\n\t}\n\n\tasync loadComments({ cardId, limit, offset }) {\n\t\tconst api = await axios.get(generateOcsUrl(`apps/deck/api/v1.0/cards/${cardId}/comments`), {\n\t\t\tparams: { limit, offset },\n\t\t\theaders: { 'OCS-APIRequest': 'true' },\n\t\t})\n\t\treturn api.data.ocs.data\n\t}\n\n\tasync createComment({ cardId, comment, replyTo }) {\n\t\tconst api = await axios.post(generateOcsUrl(`apps/deck/api/v1.0/cards/${cardId}/comments`), {\n\t\t\tmessage: `${comment}`,\n\t\t\tparentId: replyTo ? replyTo.id : null,\n\t\t})\n\t\treturn api.data.ocs.data\n\t}\n\n\tasync updateComment({ cardId, id, comment }) {\n\t\tconst api = await axios.put(generateOcsUrl(`apps/deck/api/v1.0/cards/${cardId}/comments/${id}`), {\n\t\t\tmessage: `${comment}`,\n\t\t})\n\t\treturn api.data.ocs.data\n\t}\n\n\tasync deleteComment({ cardId, id }) {\n\t\tconst api = await axios.delete(generateOcsUrl(`apps/deck/api/v1.0/cards/${cardId}/comments/${id}`))\n\t\treturn api.data.ocs.data\n\t}\n\n\tasync markCommentsAsRead(cardId) {\n\t\tconst readMarker = (new Date()).toUTCString()\n\t\tconst response = await axios({\n\t\t\tmethod: 'PROPPATCH',\n\t\t\turl: this.url(`${cardId}`),\n\t\t\tdata: `<?xml version=\"1.0\"?>\n\t\t\t\t<d:propertyupdate  xmlns:d=\"DAV:\" xmlns:oc=\"http://owncloud.org/ns\">\n\t\t\t\t  <d:set>\n\t\t\t\t   <d:prop>\n\t\t\t\t\t  <oc:readMarker>${readMarker}</oc:readMarker>\n\t\t\t\t\t</d:prop>\n\t\t\t\t  </d:set>\n\t\t\t\t</d:propertyupdate>`,\n\t\t})\n\t\treturn response.data\n\t}\n\n}\n","/*\n * @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { StackApi } from '../services/StackApi.js'\nimport { CardApi } from '../services/CardApi.js'\n\nconst stackApi = new StackApi()\nconst cardApi = new CardApi()\n\nexport default {\n\tstate: {\n\t\tdeletedStacks: [],\n\t\tdeletedCards: [],\n\t},\n\tmutations: {\n\t\tsetDeletedStacks(state, delStacks) {\n\t\t\tstate.deletedStacks = []\n\t\t\tif (delStacks.length > 0) {\n\t\t\t\tstate.deletedStacks = delStacks\n\t\t\t}\n\t\t},\n\n\t\tmoveStackToTrash(state, stack) {\n\t\t\tstack.deletedAt = Math.floor(Date.now() / 1000)\n\t\t\tstate.deletedStacks.push(stack)\n\t\t},\n\n\t\tremoveStackFromTrash(state, stack) {\n\t\t\tconst existingIndex = state.deletedStacks.findIndex(_stack => _stack.id === stack.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.deletedStacks.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\n\t\tsetDeletedCards(state, delCards) {\n\t\t\tstate.deletedCards = []\n\t\t\tstate.deletedCards = delCards\n\t\t},\n\n\t\tmoveCardToTrash(state, card) {\n\t\t\tcard.deletedAt = Math.floor(Date.now() / 1000)\n\t\t\tstate.deletedCards.push(card)\n\t\t},\n\n\t\tremoveCardFromTrash(state, card) {\n\t\t\tconst existingIndex = state.deletedCards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.deletedCards.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\t},\n\tactions: {\n\t\tfetchDeletedItems({ commit }, boardId) {\n\t\t\tstackApi.deletedStacks(boardId)\n\t\t\t\t.then((deletedStacks) => {\n\t\t\t\t\tcommit('setDeletedStacks', deletedStacks)\n\t\t\t\t})\n\t\t\tcardApi.deletedCards(boardId)\n\t\t\t\t.then((deletedCards) => {\n\t\t\t\t\tcommit('setDeletedCards', deletedCards)\n\t\t\t\t})\n\t\t},\n\t\tstackUndoDelete({ commit }, stack) {\n\t\t\tstackApi.updateStack(stack)\n\t\t\t\t.then((stack) => {\n\t\t\t\t\tcommit('addStack', stack)\n\t\t\t\t\tcommit('removeStackFromTrash', stack)\n\t\t\t\t})\n\t\t},\n\t\tcardUndoDelete({ commit }, card) {\n\t\t\tcardApi.updateCard(card)\n\t\t\t\t.then((card) => {\n\t\t\t\t\tcommit('removeCardFromTrash', card)\n\t\t\t\t\tcommit('addCard', card)\n\t\t\t\t})\n\t\t},\n\t},\n}\n","/*\n * @copyright Copyright (c) 2020 Jakob Röhrl <jakob.roehrl@web.de>\n *\n * @author Jakob Röhrl <jakob.roehrl@web.de>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { AttachmentApi } from './../services/AttachmentApi.js'\nimport Vue from 'vue'\n\nconst apiClient = new AttachmentApi()\n\nexport default {\n\tstate: {\n\t\tattachments: {},\n\t},\n\tgetters: {\n\t\tattachmentsByCard: state => (cardId) => {\n\t\t\tif (typeof state.attachments[cardId] === 'undefined') {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\treturn state.attachments[cardId]\n\t\t},\n\n\t},\n\tmutations: {\n\t\tcreateAttachment(state, { cardId, attachment }) {\n\t\t\tif (typeof state.attachments[cardId] === 'undefined') {\n\t\t\t\tVue.set(state.attachments, cardId, [attachment])\n\t\t\t} else {\n\t\t\t\tstate.attachments[cardId].push(attachment)\n\t\t\t}\n\t\t},\n\n\t\tcreateAttachments(state, { cardId, attachments }) {\n\t\t\tVue.set(state.attachments, cardId, attachments)\n\t\t},\n\n\t\tupdateAttachment(state, { cardId, attachment }) {\n\t\t\tconst existingIndex = state.attachments[attachment.cardId].findIndex(a => a.id === attachment.id && a.type === attachment.type)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.attachments[cardId], existingIndex, attachment)\n\t\t\t}\n\t\t},\n\n\t\tdeleteAttachment(state, deletedAttachment) {\n\t\t\tconst existingIndex = state.attachments[deletedAttachment.cardId].findIndex(a => a.id === deletedAttachment.id && a.type === deletedAttachment.type)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.attachments[deletedAttachment.cardId][existingIndex].deletedAt = Date.now() / 1000 | 0\n\t\t\t}\n\t\t},\n\n\t\tunshareAttachment(state, deletedAttachment) {\n\t\t\tconst existingIndex = state.attachments[deletedAttachment.cardId].findIndex(a => a.id === deletedAttachment.id && a.type === deletedAttachment.type)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.attachments[deletedAttachment.cardId][existingIndex].deletedAt = -1\n\t\t\t}\n\t\t},\n\n\t\trestoreAttachment(state, restoredAttachment) {\n\t\t\tconst existingIndex = state.attachments[restoredAttachment.cardId].findIndex(a => a.id === restoredAttachment.id && a.type === restoredAttachment.type)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.attachments[restoredAttachment.cardId][existingIndex].deletedAt = 0\n\t\t\t}\n\t\t},\n\n\t},\n\tactions: {\n\t\tasync fetchAttachments({ commit }, cardId) {\n\t\t\tconst attachments = await apiClient.fetchAttachments(cardId)\n\t\t\tcommit('createAttachments', { cardId, attachments })\n\t\t\tcommit('cardSetAttachmentCount', { cardId, count: attachments.length })\n\t\t},\n\n\t\tasync createAttachment({ commit }, { cardId, formData, onUploadProgress }) {\n\t\t\tconst attachment = await apiClient.createAttachment({ cardId, formData, onUploadProgress })\n\t\t\tcommit('createAttachment', { cardId, attachment })\n\t\t\tcommit('cardIncreaseAttachmentCount', cardId)\n\t\t},\n\n\t\tasync updateAttachment({ commit }, { cardId, attachment, formData }) {\n\t\t\tconst result = await apiClient.updateAttachment({ cardId, attachment, formData })\n\t\t\tcommit('updateAttachment', { cardId, attachment: result })\n\t\t},\n\n\t\tasync deleteAttachment({ commit }, attachment) {\n\t\t\tawait apiClient.deleteAttachment(attachment)\n\t\t\tcommit('deleteAttachment', attachment)\n\t\t\tcommit('cardDecreaseAttachmentCount', attachment.cardId)\n\t\t},\n\n\t\tasync unshareAttachment({ commit }, attachment) {\n\t\t\tawait apiClient.deleteAttachment(attachment)\n\t\t\tcommit('unshareAttachment', attachment)\n\t\t\tcommit('cardDecreaseAttachmentCount', attachment.cardId)\n\t\t},\n\n\t\tasync restoreAttachment({ commit }, attachment) {\n\t\t\tconst restoredAttachment = await apiClient.restoreAttachment(attachment)\n\t\t\tcommit('restoreAttachment', restoredAttachment)\n\t\t\tcommit('cardIncreaseAttachmentCount', attachment.cardId)\n\t\t},\n\n\t},\n}\n","/*\n * @copyright Copyright (c) 2020 Jakob Röhrl <jakob.roehrl@web.de>\n *\n * @author Jakob Röhrl <jakob.roehrl@web.de>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport class AttachmentApi {\n\n\turl(url) {\n\t\treturn generateUrl(`/apps/deck${url}`)\n\t}\n\n\tasync fetchAttachments(cardId) {\n\t\tconst response = await axios({\n\t\t\tmethod: 'GET',\n\t\t\turl: this.url(`/cards/${cardId}/attachments`),\n\t\t})\n\t\treturn response.data\n\t}\n\n\tasync createAttachment({ cardId, formData, onUploadProgress }) {\n\t\tconst response = await axios({\n\t\t\tmethod: 'POST',\n\t\t\turl: this.url(`/cards/${cardId}/attachment`),\n\t\t\tdata: formData,\n\t\t\tonUploadProgress,\n\t\t})\n\t\treturn response.data\n\t}\n\n\tasync updateAttachment({ cardId, attachment, formData }) {\n\t\tconst response = await axios({\n\t\t   method: 'POST',\n\t\t   url: this.url(`/cards/${cardId}/attachment/${attachment.type}:${attachment.id}`),\n\t\t   data: formData,\n\t   })\n\t   return response.data\n\t}\n\n\tasync deleteAttachment(attachment) {\n\t\tawait axios({\n\t\t\tmethod: 'DELETE',\n\t\t\turl: this.url(`/cards/${attachment.cardId}/attachment/${attachment.type}:${attachment.id}`),\n\t\t})\n\t}\n\n\tasync restoreAttachment(attachment) {\n\t\tconst response = await axios({\n\t\t\tmethod: 'GET',\n\t\t\turl: this.url(`/cards/${attachment.cardId}/attachment/${attachment.type}:${attachment.id}/restore`),\n\t\t})\n\t\treturn response.data\n\t}\n\n\tasync displayAttachment(attachment) {\n\t\tconst response = await axios({\n\t\t\tmethod: 'GET',\n\t\t\turl: this.url(`/cards/${attachment.cardId}/attachment/${attachment.type}:${attachment.id}`),\n\t\t})\n\t\treturn response.data\n\t}\n\n}\n","/*\n * @copyright Copyright (c) 2020 Jakob Röhrl <jakob.roehrl@web.de>\n *\n * @author Jakob Röhrl <jakob.roehrl@web.de>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport { OverviewApi } from '../services/OverviewApi.js'\nVue.use(Vuex)\n\nconst apiClient = new OverviewApi()\nexport default {\n\tstate: {\n\t\tassignedCards: [],\n\t\tloading: false,\n\t},\n\tgetters: {\n\t\tassignedCardsDashboard: state => {\n\t\t\treturn state.assignedCards\n\t\t},\n\t},\n\tmutations: {\n\t\tsetAssignedCards(state, assignedCards) {\n\t\t\tstate.assignedCards = assignedCards\n\t\t},\n\t\tsetLoading(state, promise) {\n\t\t\tstate.loading = promise\n\t\t},\n\t},\n\tactions: {\n\t\tasync loadUpcoming({ state, commit }) {\n\t\t\tif (state.loading) {\n\t\t\t\treturn state.loading\n\t\t\t}\n\t\t\tconst promise = (async () => {\n\t\t\t\tcommit('setCurrentBoard', null)\n\t\t\t\tconst assignedCards = await apiClient.get('upcoming')\n\t\t\t\tconst assignedCardsFlat = Object.values(assignedCards).flat()\n\t\t\t\tfor (const i in assignedCardsFlat) {\n\t\t\t\t\tcommit('addCard', assignedCardsFlat[i])\n\t\t\t\t}\n\t\t\t\tcommit('setAssignedCards', assignedCards)\n\t\t\t\tcommit('setLoading', false)\n\t\t\t})()\n\t\t\tcommit('setLoading', promise)\n\t\t\treturn promise\n\t\t},\n\t},\n}\n","/*\n * @copyright Copyright (c) 2020 Jakob Röhrl <jakob.roehrl@web.de>\n *\n * @author Jakob Röhrl <jakob.roehrl@web.de>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\n\nexport class OverviewApi {\n\n\turl(url) {\n\t\treturn generateOcsUrl(`apps/deck/api/v1.0/${url}`)\n\t}\n\n\tget(filter) {\n\t\treturn axios.get(this.url(`overview/${filter}`), {\n\t\t\theaders: { 'OCS-APIRequest': 'true' },\n\t\t})\n\t\t\t.then(\n\t\t\t\t(response) => Promise.resolve(response.data.ocs.data),\n\t\t\t\t(err) => Promise.reject(err),\n\t\t\t)\n\t\t\t.catch((err) => Promise.reject(err),\n\t\t\t)\n\t}\n\n}\n","/*\n * @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport 'url-search-params-polyfill'\n\nimport { loadState } from '@nextcloud/initial-state'\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl, generateUrl } from '@nextcloud/router'\nimport { BoardApi } from '../services/BoardApi.js'\nimport actions from './actions.js'\nimport stack from './stack.js'\nimport card from './card.js'\nimport comment from './comment.js'\nimport trashbin from './trashbin.js'\nimport attachment from './attachment.js'\nimport overview from './overview.js'\nVue.use(Vuex)\n\nconst apiClient = new BoardApi()\nconst debug = process.env.NODE_ENV !== 'production'\n\nexport const BOARD_FILTERS = {\n\tALL: '',\n\tARCHIVED: 'archived',\n\tSHARED: 'shared',\n}\n\nexport default new Vuex.Store({\n\tmodules: {\n\t\tactions,\n\t\tstack,\n\t\tcard,\n\t\tcomment,\n\t\ttrashbin,\n\t\tattachment,\n\t\toverview,\n\t},\n\tstrict: debug,\n\tstate: {\n\t\tisFullApp: true,\n\t\tconfig: loadState('deck', 'config', {}),\n\t\tshowArchived: false,\n\t\tnavShown: localStorage.getItem('deck.navShown') === null || localStorage.getItem('deck.navShown') === 'true',\n\t\tcompactMode: localStorage.getItem('deck.compactMode') === 'true',\n\t\tshowCardCover: localStorage.getItem('deck.showCardCover') === 'true',\n\t\tsidebarShown: false,\n\t\tcurrentBoard: null,\n\t\tcurrentCard: null,\n\t\tboards: loadState('deck', 'initialBoards', []),\n\t\tsharees: [],\n\t\tassignableUsers: [],\n\t\tboardFilter: BOARD_FILTERS.ALL,\n\t\tsearchQuery: '',\n\t\tactivity: [],\n\t\tactivityLoadMore: true,\n\t\tfilter: { tags: [], users: [], due: '', completed: 'both' },\n\t\tshortcutLock: false,\n\t},\n\tgetters: {\n\t\tconfig: state => (key) => {\n\t\t\tif (!state.isFullApp && key === 'cardDetailsInModal') {\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\treturn state.config[key]\n\t\t},\n\t\tgetSearchQuery: state => {\n\t\t\treturn state.searchQuery\n\t\t},\n\t\tgetFilter: state => {\n\t\t\treturn state.filter\n\t\t},\n\t\tboards: state => {\n\t\t\treturn state.boards\n\t\t},\n\t\tboardById: state => (id) => {\n\t\t\treturn state.boards.find((board) => board.id === id)\n\t\t},\n\t\tassignables: state => {\n\t\t\treturn [\n\t\t\t\t...state.assignableUsers.map((user) => ({ ...user, type: 0 })),\n\t\t\t\t...state.currentBoard.acl.filter((acl) => acl.type === 1 && typeof acl.participant === 'object').map((group) => ({ ...group.participant, type: 1 })),\n\t\t\t\t...state.currentBoard.acl.filter((acl) => acl.type === 7 && typeof acl.participant === 'object').map((circle) => ({ ...circle.participant, type: 7 })),\n\t\t\t]\n\t\t},\n\t\tnoneArchivedBoards: state => {\n\t\t\treturn state.boards.filter(board => {\n\t\t\t\treturn board.archived === false && !board.deletedAt\n\t\t\t})\n\t\t},\n\t\tarchivedBoards: state => {\n\t\t\treturn state.boards.filter(board => {\n\t\t\t\treturn board.archived === true && !board.deletedAt\n\t\t\t})\n\t\t},\n\t\tsharedBoards: state => {\n\t\t\treturn state.boards.filter(board => {\n\t\t\t\treturn board.shared && !board.deletedAt\n\t\t\t})\n\t\t},\n\t\tfilteredBoards: state => {\n\t\t\t// filters the boards depending on the active filter\n\t\t\tconst boards = state.boards.filter(board => {\n\t\t\t\treturn (state.boardFilter === BOARD_FILTERS.ALL && board.archived === false)\n\t\t\t\t\t|| (state.boardFilter === BOARD_FILTERS.ARCHIVED && board.archived === true)\n\t\t\t\t\t|| (state.boardFilter === BOARD_FILTERS.SHARED && board.shared === 1)\n\t\t\t})\n\t\t\treturn boards\n\t\t},\n\t\tcurrentBoardLabels: state => {\n\t\t\treturn state.currentBoard ? state.currentBoard.labels : []\n\t\t},\n\t\tcanEdit: state => {\n\t\t\treturn state.currentBoard ? state.currentBoard.permissions.PERMISSION_EDIT : false\n\t\t},\n\t\tcanManage: state => {\n\t\t\treturn state.currentBoard ? state.currentBoard.permissions.PERMISSION_MANAGE : false\n\t\t},\n\t\tcanShare: state => {\n\t\t\treturn state.currentBoard ? state.currentBoard.permissions.PERMISSION_SHARE : false\n\t\t},\n\t\tisArchived: state => {\n\t\t\treturn state.currentBoard && state.currentBoard.archived\n\t\t},\n\t},\n\tmutations: {\n\t\tsetFullApp(state, isFullApp) {\n\t\t\tVue.set(state, 'isFullApp', isFullApp)\n\t\t},\n\t\tSET_CONFIG(state, { key, value }) {\n\t\t\tconst [scope, id, configKey] = key.split(':', 3)\n\t\t\tlet indexExisting = -1\n\t\t\tswitch (scope) {\n\t\t\tcase 'board':\n\t\t\t\tindexExisting = state.boards.findIndex((b) => {\n\t\t\t\t\treturn id === '' + b.id\n\t\t\t\t})\n\n\t\t\t\tif (indexExisting > -1) {\n\t\t\t\t\tVue.set(state.boards[indexExisting].settings, configKey, value)\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tVue.set(state.config, key, value)\n\t\t\t}\n\t\t},\n\t\tsetSearchQuery(state, searchQuery) {\n\t\t\tstate.searchQuery = searchQuery\n\t\t},\n\t\tSET_FILTER(state, filter) {\n\t\t\tObject.assign(state.filter, filter)\n\t\t},\n\t\tTOGGLE_FILTER(state, filter) {\n\t\t\tObject.keys(filter).forEach((key) => {\n\t\t\t\tswitch (key) {\n\t\t\t\tcase 'due':\n\t\t\t\t\tVue.set(state.filter, key, filter.due)\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tfilter[key].forEach((item) => {\n\t\t\t\t\t\tif (state.filter[key].indexOf(item) === -1) {\n\t\t\t\t\t\t\tstate.filter[key].push(item)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate.filter[key].splice(state.filter[key].indexOf(item), 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\ttoggleShowArchived(state) {\n\t\t\tstate.showArchived = !state.showArchived\n\t\t},\n\t\t/*\n\t\t * Adds or replaces a board in the store.\n\t\t * Matches a board by it's id.\n\t\t */\n\t\taddBoard(state, board) {\n\t\t\tconst indexExisting = state.boards.findIndex((b) => {\n\t\t\t\treturn board.id === b.id\n\t\t\t})\n\n\t\t\tif (indexExisting > -1) {\n\t\t\t\tVue.set(state.boards, indexExisting, board)\n\t\t\t} else {\n\t\t\t\tstate.boards.push(board)\n\t\t\t}\n\t\t},\n\n\t\tcloneBoard(state, board) {\n\t\t\tconst indexExisting = state.boards.findIndex((b) => {\n\t\t\t\treturn board.id === b.id\n\t\t\t})\n\n\t\t\tif (indexExisting > -1) {\n\t\t\t\tVue.set(state.boards, indexExisting, board)\n\t\t\t} else {\n\t\t\t\tstate.boards.push(board)\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * Removes the board from the store.\n\t\t */\n\t\tremoveBoard(state, board) {\n\t\t\tstate.boards = state.boards.filter((b) => {\n\t\t\t\treturn board.id !== b.id\n\t\t\t})\n\t\t},\n\t\ttoggleNav(state, navState) {\n\t\t\tstate.navShown = navState\n\t\t\tlocalStorage.setItem('deck.navShown', navState)\n\t\t},\n\t\ttoggleSidebar(state) {\n\t\t\tstate.sidebarShown = !state.sidebarShown\n\t\t},\n\t\ttoggleCompactMode(state) {\n\t\t\tstate.compactMode = !state.compactMode\n\t\t\tlocalStorage.setItem('deck.compactMode', state.compactMode)\n\t\t},\n\t\ttoggleShowCardCover(state) {\n\t\t\tstate.showCardCover = !state.showCardCover\n\t\t\tlocalStorage.setItem('deck.showCardCover', state.showCardCover)\n\t\t},\n\t\tsetBoards(state, boards) {\n\t\t\tstate.boards = boards\n\t\t},\n\t\tsetSharees(state, shareesUsersAndGroups) {\n\t\t\tVue.set(state, 'sharees', shareesUsersAndGroups.exact.users)\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.exact.groups)\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.exact.circles)\n\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.users)\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.groups)\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.circles)\n\t\t},\n\t\tsetAssignableUsers(state, users) {\n\t\t\tstate.assignableUsers = users\n\t\t},\n\t\tsetBoardFilter(state, filter) {\n\t\t\tstate.boardFilter = filter\n\t\t},\n\t\tsetCurrentBoard(state, board) {\n\t\t\tstate.currentBoard = board\n\t\t},\n\t\tsetCurrentCard(state, card) {\n\t\t\tstate.currentCard = card\n\t\t},\n\n\t\t// label mutators\n\t\tremoveLabelFromCurrentBoard(state, labelId) {\n\t\t\tconst removeIndex = state.currentBoard.labels.findIndex((l) => {\n\t\t\t\treturn labelId === l.id\n\t\t\t})\n\n\t\t\tif (removeIndex > -1) {\n\t\t\t\tstate.currentBoard.labels.splice(removeIndex, 1)\n\t\t\t}\n\t\t},\n\t\tupdateLabelFromCurrentBoard(state, newLabel) {\n\t\t\tconst labelToUpdate = state.currentBoard.labels.find((l) => {\n\t\t\t\treturn newLabel.id === l.id\n\t\t\t})\n\n\t\t\tlabelToUpdate.title = newLabel.title\n\t\t\tlabelToUpdate.color = newLabel.color\n\t\t},\n\t\taddLabelToCurrentBoard(state, newLabel) {\n\t\t\tstate.currentBoard.labels.push(newLabel)\n\t\t},\n\n\t\t// acl mutators\n\t\taddAclToCurrentBoard(state, createdAcl) {\n\t\t\tstate.currentBoard.acl.push(createdAcl)\n\t\t},\n\t\tupdateAclFromCurrentBoard(state, acl) {\n\t\t\tfor (const acl_ in state.currentBoard.acl) {\n\t\t\t\tif (state.currentBoard.acl[acl_].participant.uid === acl.participant.uid) {\n\t\t\t\t\tVue.set(state.currentBoard.acl, acl_, acl)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdeleteAclFromCurrentBoard(state, acl) {\n\t\t\tlet removeIndex = -1\n\t\t\tfor (const index in state.currentBoard.acl) {\n\t\t\t\tconst attr = state.currentBoard.acl[index]\n\t\t\t\tif (acl.id === attr.id) {\n\t\t\t\t\tremoveIndex = index\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (removeIndex > -1) {\n\t\t\t\tVue.delete(state.currentBoard.acl, removeIndex)\n\t\t\t}\n\t\t},\n\t\tTOGGLE_SHORTCUT_LOCK(state, lock) {\n\t\t\tstate.shortcutLock = lock\n\t\t},\n\t},\n\tactions: {\n\t\tsetFullApp({ commit }, isFullApp) {\n\t\t\tcommit('setFullApp', isFullApp)\n\t\t},\n\t\tasync setConfig({ commit }, config) {\n\t\t\tfor (const key in config) {\n\t\t\t\ttry {\n\t\t\t\t\tawait axios.post(generateOcsUrl(`apps/deck/api/v1.0/config/${key}`), {\n\t\t\t\t\t\tvalue: config[key],\n\t\t\t\t\t})\n\t\t\t\t\tcommit('SET_CONFIG', { key, value: config[key] })\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(`Error while saving ${key}`, e.response)\n\t\t\t\t\tthrow e\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetFilter({ commit }, filter) {\n\t\t\tcommit('SET_FILTER', filter)\n\t\t},\n\t\ttoggleFilter({ commit }, filter) {\n\t\t\tcommit('TOGGLE_FILTER', filter)\n\t\t},\n\t\tasync loadBoardById({ commit, dispatch }, boardId) {\n\t\t\tconst filterReset = { tags: [], users: [], due: '' }\n\t\t\tdispatch('setFilter', filterReset)\n\t\t\tcommit('setCurrentBoard', null)\n\t\t\tconst board = await apiClient.loadById(boardId)\n\t\t\tcommit('setCurrentBoard', board)\n\t\t\tcommit('setAssignableUsers', board.users)\n\t\t},\n\n\t\tasync refreshBoard({ commit, dispatch }, boardId) {\n\t\t\tconst board = await apiClient.loadById(boardId)\n\t\t\tconst etagHasChanged = board.ETag !== this.state.currentBoard.ETag\n\t\t\tcommit('setCurrentBoard', board)\n\t\t\tcommit('setAssignableUsers', board.users)\n\n\t\t\tif (etagHasChanged) {\n\t\t\t\tdispatch('loadStacks', boardId)\n\t\t\t}\n\t\t},\n\n\t\ttoggleShowArchived({ commit }) {\n\t\t\tcommit('toggleShowArchived')\n\t\t},\n\n\t\t/**\n\t\t * @param commit.commit\n\t\t * @param commit\n\t\t * @param state\n\t\t * @param {Board} board\n\t\t */\n\t\tarchiveBoard({ commit }, board) {\n\t\t\tconst boardCopy = JSON.parse(JSON.stringify(board))\n\t\t\tboardCopy.archived = true\n\t\t\tapiClient.updateBoard(boardCopy)\n\t\t\t\t.then((board) => {\n\t\t\t\t\tcommit('addBoard', board)\n\t\t\t\t})\n\t\t},\n\t\t/**\n\t\t * @param commit.commit\n\t\t * @param commit\n\t\t * @param state\n\t\t * @param {Board} board\n\t\t */\n\t\tunarchiveBoard({ commit }, board) {\n\t\t\tconst boardCopy = JSON.parse(JSON.stringify(board))\n\t\t\tboardCopy.archived = false\n\t\t\tapiClient.updateBoard(boardCopy)\n\t\t\t\t.then((board) => {\n\t\t\t\t\tcommit('addBoard', board)\n\t\t\t\t})\n\t\t},\n\t\t/**\n\t\t * Updates a board API side.\n\t\t *\n\t\t * @param commit.commit\n\t\t * @param commit\n\t\t * @param board The board to update.\n\t\t * @return {Promise<void>}\n\t\t */\n\t\tasync updateBoard({ commit }, board) {\n\t\t\tconst storedBoard = await apiClient.updateBoard(board)\n\t\t\tcommit('addBoard', storedBoard)\n\t\t},\n\t\tasync createBoard({ commit }, boardData) {\n\t\t\ttry {\n\t\t\t\tconst board = await apiClient.createBoard(boardData)\n\t\t\t\tcommit('addBoard', board)\n\t\t\t} catch (err) {\n\t\t\t\treturn err\n\t\t\t}\n\t\t},\n\t\tasync cloneBoard({ commit }, boardData) {\n\t\t\ttry {\n\t\t\t\tconst newBoard = await apiClient.cloneBoard(boardData)\n\t\t\t\tcommit('cloneBoard', newBoard)\n\t\t\t\treturn newBoard\n\t\t\t} catch (err) {\n\t\t\t\treturn err\n\t\t\t}\n\t\t},\n\t\tremoveBoard({ commit }, board) {\n\t\t\tcommit('removeBoard', board)\n\t\t},\n\t\tasync loadBoards({ commit }) {\n\t\t\tconst boards = await apiClient.loadBoards()\n\t\t\tcommit('setBoards', boards)\n\t\t},\n\t\tasync loadSharees({ commit }, query) {\n\t\t\tconst params = new URLSearchParams()\n\t\t\tif (typeof query === 'undefined') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tparams.append('search', query)\n\t\t\tparams.append('format', 'json')\n\t\t\tparams.append('perPage', 20)\n\t\t\tparams.append('itemType', [0, 1, 4, 7])\n\t\t\tparams.append('lookup', false)\n\n\t\t\tconst response = await axios.get(generateOcsUrl('apps/files_sharing/api/v1/sharees'), { params })\n\t\t\tcommit('setSharees', response.data.ocs.data)\n\t\t},\n\n\t\tsetBoardFilter({ commmit }, filter) {\n\t\t\tcommmit('setBoardFilter', filter)\n\t\t},\n\t\ttoggleNav({ commit }, navState) {\n\t\t\tcommit('toggleNav', navState)\n\t\t},\n\t\ttoggleSidebar({ commit }) {\n\t\t\tcommit('toggleSidebar')\n\t\t},\n\t\ttoggleCompactMode({ commit }) {\n\t\t\tcommit('toggleCompactMode')\n\t\t},\n\t\ttoggleShowCardCover({ commit }) {\n\t\t\tcommit('toggleShowCardCover')\n\t\t},\n\t\tsetCurrentBoard({ commit }, board) {\n\t\t\tcommit('setCurrentBoard', board)\n\t\t},\n\t\tsetAssignableUsers({ commit }, board) {\n\t\t\tcommit('setAssignableUsers', board)\n\t\t},\n\t\tsetCurrentCard({ commit }, card) {\n\t\t\tcommit('setCurrentCard', card)\n\t\t},\n\n\t\t// label actions\n\t\tremoveLabelFromCurrentBoard({ commit }, label) {\n\t\t\tapiClient.deleteLabel(label)\n\t\t\t\t.then((label) => {\n\t\t\t\t\tcommit('removeLabelFromCurrentBoard', label.id)\n\t\t\t\t})\n\t\t},\n\t\tupdateLabelFromCurrentBoard({ commit }, newLabel) {\n\t\t\tapiClient.updateLabel(newLabel)\n\t\t\t\t.then((newLabel) => {\n\t\t\t\t\tcommit('updateLabelFromCurrentBoard', newLabel)\n\t\t\t\t})\n\t\t},\n\t\taddLabelToCurrentBoard({ commit }, newLabel) {\n\t\t\tnewLabel.boardId = this.state.currentBoard.id\n\t\t\tapiClient.createLabel(newLabel)\n\t\t\t\t.then((newLabel) => {\n\t\t\t\t\tcommit('addLabelToCurrentBoard', newLabel)\n\t\t\t\t})\n\t\t},\n\t\tasync addLabelToCurrentBoardAndCard({ dispatch, commit }, { newLabel, card }) {\n\t\t\tnewLabel.boardId = this.state.currentBoard.id\n\t\t\tconst label = await apiClient.createLabel(newLabel)\n\t\t\tcommit('addLabelToCurrentBoard', label)\n\t\t\tdispatch('addLabel', {\n\t\t\t\tcard,\n\t\t\t\tlabelId: label.id,\n\t\t\t})\n\t\t\treturn label\n\t\t},\n\n\t\t// acl actions\n\t\tasync addAclToCurrentBoard({ dispatch, commit }, newAcl) {\n\t\t\tnewAcl.boardId = this.state.currentBoard.id\n\t\t\tconst result = await apiClient.addAcl(newAcl)\n\t\t\tcommit('addAclToCurrentBoard', result)\n\t\t\tdispatch('refreshBoard', newAcl.boardId)\n\t\t},\n\t\tupdateAclFromCurrentBoard({ commit }, acl) {\n\t\t\tacl.boardId = this.state.currentBoard.id\n\t\t\tapiClient.updateAcl(acl)\n\t\t\t\t.then((acl) => {\n\t\t\t\t\tcommit('updateAclFromCurrentBoard', acl)\n\t\t\t\t})\n\t\t},\n\t\tdeleteAclFromCurrentBoard({ dispatch, commit }, acl) {\n\t\t\tacl.boardId = this.state.currentBoard.id\n\t\t\tapiClient.deleteAcl(acl)\n\t\t\t\t.then((acl) => {\n\t\t\t\t\tcommit('deleteAclFromCurrentBoard', acl)\n\t\t\t\t\tdispatch('loadBoardById', acl.boardId)\n\t\t\t\t})\n\t\t},\n\t\tasync transferOwnership({ commit }, { boardId, newOwner }) {\n\t\t\tawait axios.put(generateUrl(`apps/deck/boards/${boardId}/transferOwner`), {\n\t\t\t\tnewOwner,\n\t\t\t})\n\t\t},\n\t\ttoggleShortcutLock({ commit }, lock) {\n\t\t\tcommit('TOGGLE_SHORTCUT_LOCK', lock)\n\t\t},\n\t},\n})\n","/*\n * @copyright Copyright (c) 2022, chandi Langecker (git@chandi.it)\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { listen } from '@nextcloud/notify_push'\nimport { sessionApi } from './services/SessionApi.js'\nimport store from './store/main.js'\nimport axios from '@nextcloud/axios'\n\nconst SESSION_INTERVAL = 90 // in seconds\n\nlet hasPush = false\n\nlet syncRunning = false\n\n/**\n * used to verify, whether an event is originated by ourselves\n *\n * @param token\n */\nfunction isOurSessionToken(token) {\n\tif (axios.defaults.headers['x-nc-deck-session']\n\t\t&& axios.defaults.headers['x-nc-deck-session'].startsWith(token)) {\n\t\treturn true\n\t} else {\n\t\treturn false\n\t}\n}\n\nhasPush = listen('deck_board_update', (name, body) => {\n\t// ignore update events which we have triggered ourselves\n\tif (isOurSessionToken(body._causingSessionToken)) return\n\n\t// only handle update events for the currently open board\n\tconst currentBoardId = store.state.currentBoard?.id\n\tif (body.id !== currentBoardId) return\n\n\tstore.dispatch('refreshBoard', currentBoardId)\n})\n\nlisten('deck_card_update', (name, body) => {\n\n\t// ignore update events which we have triggered ourselves\n\tif (isOurSessionToken(body._causingSessionToken)) return\n\n\t// only handle update events for the currently open board\n\tconst currentBoardId = store.state.currentBoard?.id\n\tif (body.boardId !== currentBoardId) return\n\n\tstore.dispatch('loadStacks', currentBoardId)\n})\n\n/**\n * is the notify_push app active and can\n * provide us with real time updates?\n */\nexport function isNotifyPushEnabled() {\n\treturn hasPush\n}\n\n/**\n *\n * @param boardId\n */\nexport function createSession(boardId) {\n\n\tif (!isNotifyPushEnabled()) {\n\t\t// return a dummy object\n\t\treturn {\n\t\t\tasync close() {},\n\t\t}\n\t}\n\n\t// let's try to make createSession() synchronous, so that\n\t// the component doesn't need to bother about the asynchronousness\n\tlet tokenPromise\n\tlet token\n\tconst create = () => {\n\t\ttokenPromise = sessionApi.createSession(boardId).then(res => res.token)\n\t\ttokenPromise.then((t) => {\n\t\t\ttoken = t\n\t\t\taxios.defaults.headers['x-nc-deck-session'] = t\n\t\t})\n\t}\n\tcreate()\n\n\tconst ensureSession = async () => {\n\t\tif (!tokenPromise) {\n\t\t\tcreate()\n\t\t\treturn\n\t\t}\n\n\t\tif (syncRunning) {\n\t\t\treturn\n\t\t}\n\n\t\ttry {\n\t\t\tsyncRunning = true\n\t\t\tawait sessionApi.syncSession(boardId, await tokenPromise)\n\t\t} catch (err) {\n\t\t\tif (err.response.status === 404) {\n\t\t\t\t// session probably expired, let's\n\t\t\t\t// create a fresh session\n\t\t\t\tcreate()\n\t\t\t} else {\n\t\t\t\tconsole.error('Failed to sync deck session', err)\n\t\t\t}\n\t\t} finally {\n\t\t\tsyncRunning = false\n\t\t}\n\t}\n\n\t// periodically notify the server that we are still here\n\tlet interval = setInterval(ensureSession, SESSION_INTERVAL * 1000)\n\n\t// close session when tab gets hidden/inactive\n\tconst visibilitychangeListener = () => {\n\t\tif (document.visibilityState === 'hidden' && token) {\n\t\t\tsessionApi.closeSessionViaBeacon(boardId, token)\n\t\t\ttokenPromise = null\n\t\t\ttoken = null\n\t\t\tdelete axios.defaults.headers['x-nc-deck-session']\n\n\t\t\t// stop session refresh interval\n\t\t\tclearInterval(interval)\n\t\t} else {\n\t\t\t// tab is back in focus or was restored from the bfcache\n\t\t\tensureSession()\n\n\t\t\t// we must assume that the websocket connection was\n\t\t\t// paused and we have missed updates in the meantime.\n\t\t\tstore.dispatch('refreshBoard', store.state.currentBoard?.id)\n\n\t\t\t// restart session refresh interval\n\t\t\tclearInterval(interval)\n\t\t\tinterval = setInterval(ensureSession, SESSION_INTERVAL * 1000)\n\t\t}\n\t}\n\tdocument.addEventListener('visibilitychange', visibilitychangeListener)\n\n\treturn {\n\t\tasync close() {\n\t\t\tclearInterval(interval)\n\t\t\tdocument.removeEventListener('visibilitychange', visibilitychangeListener)\n\t\t\tif (token) {\n\t\t\t\tawait sessionApi.closeSession(boardId, token)\n\t\t\t\ttokenPromise = null\n\t\t\t\ttoken = null\n\t\t\t\tdelete axios.defaults.headers['x-nc-deck-session']\n\t\t\t}\n\t\t},\n\t}\n}\n","<!--\n* @copyright Copyright (c) 2018 Michael Weimann <mail@michael-weimann.eu>\n*\n* @author Michael Weimann <mail@michael-weimann.eu>\n*\n* @license GNU AGPL version 3 or any later version\n*\n* This program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <http://www.gnu.org/licenses/>.\n*\n-->\n\n<template>\n\t<div class=\"controls\">\n\t\t<NcModal v-if=\"showAddCardModal\" class=\"card-selector\" @close=\"clickHideAddCardModel\">\n\t\t\t<CreateNewCardCustomPicker show-created-notice @cancel=\"clickHideAddCardModel\" />\n\t\t</NcModal>\n\t\t<div v-if=\"overviewName\" class=\"board-title\">\n\t\t\t<div class=\"board-bullet icon-calendar-dark\" />\n\t\t\t<h2 dir=\"auto\">\n\t\t\t\t{{ overviewName }}\n\t\t\t</h2>\n\t\t\t<NcActions>\n\t\t\t\t<NcActionButton icon=\"icon-add\" @click=\"clickShowAddCardModel\">\n\t\t\t\t\t{{ t('deck', 'Add card') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t</div>\n\t\t<div v-else-if=\"board\" class=\"board-title\">\n\t\t\t<div :style=\"{backgroundColor: '#' + board.color}\" class=\"board-bullet\" />\n\t\t\t<h2 dir=\"auto\">\n\t\t\t\t{{ board.title }}\n\t\t\t</h2>\n\t\t\t<p v-if=\"showArchived\">\n\t\t\t\t({{ t('deck', 'Archived cards') }})\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"board-actions\">\n\t\t\t<SessionList v-if=\"isNotifyPushEnabled && presentUsers.length\"\n\t\t\t\t:sessions=\"presentUsers\" />\n\t\t\t<div v-if=\"searchQuery || true\" class=\"deck-search\">\n\t\t\t\t<input id=\"deck-search-input\"\n\t\t\t\t\tref=\"search\"\n\t\t\t\t\t:tabindex=\"0\"\n\t\t\t\t\ttype=\"search\"\n\t\t\t\t\tclass=\"icon-search\"\n\t\t\t\t\t:value=\"searchQuery\"\n\t\t\t\t\t@focus=\"$store.dispatch('toggleShortcutLock', true)\"\n\t\t\t\t\t@blur=\"$store.dispatch('toggleShortcutLock', false)\"\n\t\t\t\t\t@input=\"$store.commit('setSearchQuery', $event.target.value)\">\n\t\t\t</div>\n\t\t\t<div v-if=\"board && canManage && !showArchived && !board.archived\"\n\t\t\t\tid=\"stack-add\"\n\t\t\t\tv-click-outside=\"hideAddStack\">\n\t\t\t\t<NcActions v-if=\"!isAddStackVisible\">\n\t\t\t\t\t<NcActionButton icon=\"icon-add\" @click.stop=\"showAddStack\">\n\t\t\t\t\t\t{{ t('deck', 'Add list') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t</NcActions>\n\t\t\t\t<form v-else @submit.prevent=\"addNewStack()\">\n\t\t\t\t\t<label for=\"new-stack-input-main\" class=\"hidden-visually\">{{ t('deck', 'Add list') }}</label>\n\t\t\t\t\t<input id=\"new-stack-input-main\"\n\t\t\t\t\t\tv-model=\"newStackTitle\"\n\t\t\t\t\t\tv-focus\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclass=\"no-close\"\n\t\t\t\t\t\t:placeholder=\"t('deck', 'List name')\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\t@focus=\"$store.dispatch('toggleShortcutLock', true)\"\n\t\t\t\t\t\t@blur=\"$store.dispatch('toggleShortcutLock', false)\">\n\t\t\t\t\t<input :title=\"t('deck', 'Add list')\"\n\t\t\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvalue=\"\">\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div v-if=\"board\" class=\"board-action-buttons\">\n\t\t\t\t<div class=\"board-action-buttons__filter\">\n\t\t\t\t\t<NcPopover :placement=\"'bottom-end'\"\n\t\t\t\t\t\t:aria-label=\"t('deck', 'Active filters')\"\n\t\t\t\t\t\t:name=\"t('deck', 'Active filters')\"\n\t\t\t\t\t\t@show=\"filterVisible=true\"\n\t\t\t\t\t\t@hide=\"filterVisible=false\">\n\t\t\t\t\t\t<!-- We cannot use NcActions here are the popover trigger does not update on reactive icons -->\n\t\t\t\t\t\t<template #trigger>\n\t\t\t\t\t\t\t<NcButton ref=\"filterPopover\"\n\t\t\t\t\t\t\t\t:title=\"t('deck', 'Apply filter')\"\n\t\t\t\t\t\t\t\t:aria-label=\"t('deck', 'Apply filter')\"\n\t\t\t\t\t\t\t\tclass=\"filter-button\"\n\t\t\t\t\t\t\t\t:type=\"isFilterActive ? 'primary' : 'tertiary'\">\n\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t<FilterIcon v-if=\"isFilterActive\" :size=\"20\" decorative />\n\t\t\t\t\t\t\t\t\t<FilterOffIcon v-else :size=\"20\" decorative />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<div v-if=\"filterVisible\" class=\"filter\">\n\t\t\t\t\t\t\t<h3>{{ t('deck', 'Filter by tag') }}</h3>\n\t\t\t\t\t\t\t<div v-for=\"label in labelsSorted\" :key=\"label.id\" class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input :id=\"label.id\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.tags\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\t\t\t\t:value=\"label.id\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\">\n\t\t\t\t\t\t\t\t<label :for=\"label.id\"><span class=\"label\" :style=\"labelStyle(label)\">{{ label.title }}</span></label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<h3>{{ t('deck', 'Filter by assigned user') }}</h3>\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"unassigned\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.unassigned\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\t\t\t\tvalue=\"unassigned\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"unassigned\">{{ t('deck', 'Unassigned') }}</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-for=\"user in board.users\" :key=\"user.uid\" class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input :id=\"user.uid\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.users\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\t\t\t\t:value=\"user.uid\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\">\n\t\t\t\t\t\t\t\t<label :for=\"user.uid\"><NcAvatar :user=\"user.uid\" :size=\"24\" :disable-menu=\"true\" /> {{ user.displayname }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<h3>{{ t('deck', 'Filter by completed') }}</h3>\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"filter-option-both\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.completed\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"both\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"filter-option-both\">{{ t('deck', 'Open and completed') }}</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"filter-option-open\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.completed\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"open\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"filter-option-open\">{{ t('deck', 'Open') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"filter-option-completed\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.completed\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"completed\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"filter-option-completed\">{{ t('deck', 'Completed') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<h3>{{ t('deck', 'Filter by due date') }}</h3>\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"overdue\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"overdue\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"overdue\">{{ t('deck', 'Overdue') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"dueToday\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"dueToday\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"dueToday\">{{ t('deck', 'Next 24 hours') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"dueWeek\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"dueWeek\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"dueWeek\">{{ t('deck', 'Next 7 days') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"dueMonth\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"dueMonth\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"dueMonth\">{{ t('deck', 'Next 30 days') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"noDue\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"noDue\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"noDue\">{{ t('deck', 'No due date') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<NcButton :disabled=\"!isFilterActive\" :wide=\"true\" @click=\"clearFilter\">\n\t\t\t\t\t\t\t\t{{ t('deck', 'Clear filter') }}\n\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</NcPopover>\n\t\t\t\t</div>\n\n\t\t\t\t<NcActions :aria-label=\"t('deck', 'View Modes')\"\n\t\t\t\t\t:name=\"t('deck', 'Toggle View Modes')\">\n\t\t\t\t\t<NcActionButton @click=\"toggleShowArchived\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<ArchiveIcon :size=\"20\" decorative />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ showArchived ? t('deck', 'Hide archived cards') : t('deck', 'Show archived cards') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t<NcActionButton v-if=\"compactMode\"\n\t\t\t\t\t\t@click=\"toggleCompactMode\">\n\t\t\t\t\t\t<ArrowExpandVerticalIcon slot=\"icon\" :size=\"20\" decorative />\n\t\t\t\t\t\t{{ t('deck', 'Toggle compact mode') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t<NcActionButton v-else\n\t\t\t\t\t\t@click=\"toggleCompactMode\">\n\t\t\t\t\t\t<ArrowCollapseVerticalIcon slot=\"icon\" :size=\"20\" decorative />\n\t\t\t\t\t\t{{ t('deck', 'Toggle compact mode') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t<NcActionButton @click=\"toggleShowCardCover\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<ImageIcon :size=\"20\" decorative />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ showCardCover ? t('deck', 'Hide card cover images') : t('deck', 'Show card cover images') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t</NcActions>\n\t\t\t\t<!-- FIXME: NcActionRouter currently doesn't work as an inline action -->\n\t\t\t\t<NcActions v-if=\"isFullApp\">\n\t\t\t\t\t<NcActionButton icon=\"icon-menu-sidebar\"\n\t\t\t\t\t\t:aria-label=\"t('deck', 'Open details')\"\n\t\t\t\t\t\t:name=\"t('deck', 'Details')\"\n\t\t\t\t\t\t@click=\"toggleDetailsView\" />\n\t\t\t\t</NcActions>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport { subscribe, unsubscribe } from '@nextcloud/event-bus'\nimport { NcActions, NcActionButton, NcAvatar, NcButton, NcPopover, NcModal } from '@nextcloud/vue'\nimport labelStyle from '../mixins/labelStyle.js'\nimport ArchiveIcon from 'vue-material-design-icons/Archive.vue'\nimport ImageIcon from 'vue-material-design-icons/ImageMultiple.vue'\nimport FilterIcon from 'vue-material-design-icons/Filter.vue'\nimport FilterOffIcon from 'vue-material-design-icons/FilterOff.vue'\nimport ArrowCollapseVerticalIcon from 'vue-material-design-icons/ArrowCollapseVertical.vue'\nimport ArrowExpandVerticalIcon from 'vue-material-design-icons/ArrowExpandVertical.vue'\nimport SessionList from './SessionList.vue'\nimport { isNotifyPushEnabled } from '../sessions.js'\nimport CreateNewCardCustomPicker from '../views/CreateNewCardCustomPicker.vue'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nexport default {\n\tname: 'Controls',\n\tcomponents: {\n\t\tCreateNewCardCustomPicker,\n\t\tNcModal,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcButton,\n\t\tNcPopover,\n\t\tNcAvatar,\n\t\tArchiveIcon,\n\t\tImageIcon,\n\t\tFilterIcon,\n\t\tFilterOffIcon,\n\t\tArrowCollapseVerticalIcon,\n\t\tArrowExpandVerticalIcon,\n\t\tSessionList,\n\t},\n\tmixins: [labelStyle],\n\tprops: {\n\t\tboard: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t\toverviewName: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tnewStackTitle: '',\n\t\t\tstack: '',\n\t\t\tfilterVisible: false,\n\t\t\tshowArchived: false,\n\t\t\tisAddStackVisible: false,\n\t\t\tfilter: { tags: [], users: [], due: '', unassigned: false, completed: 'both' },\n\t\t\tshowAddCardModal: false,\n\t\t\tdefaultPageTitle: false,\n\t\t\tisNotifyPushEnabled: isNotifyPushEnabled(),\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'canEdit',\n\t\t\t'canManage',\n\t\t]),\n\t\t...mapState({\n\t\t\tisFullApp: state => state.isFullApp,\n\t\t\tcompactMode: state => state.compactMode,\n\t\t\tshowCardCover: state => state.showCardCover,\n\t\t\tsearchQuery: state => state.searchQuery,\n\t\t}),\n\t\tdetailsRoute() {\n\t\t\treturn {\n\t\t\t\tname: 'board.details',\n\t\t\t}\n\t\t},\n\t\tisFilterActive() {\n\t\t\treturn this.filter.tags.length !== 0 || this.filter.users.length !== 0 || this.filter.due !== '' || this.filter.completed !== 'both'\n\t\t},\n\t\tlabelsSorted() {\n\t\t\treturn [...this.board.labels].sort((a, b) => (a.title < b.title) ? -1 : 1)\n\t\t},\n\t\tpresentUsers() {\n\t\t\tif (!this.board) return []\n\t\t\t// get user object including displayname from the list of all users with acces\n\t\t\treturn this.board.users.filter((user) => this.board.activeSessions.includes(user.uid))\n\t\t},\n\t},\n\twatch: {\n\t\tboard(current, previous) {\n\t\t\tif (current?.id !== previous?.id) {\n\t\t\t\tthis.clearFilter()\n\t\t\t}\n\t\t\tif (current) {\n\t\t\t\tthis.setPageTitle(current.title)\n\t\t\t}\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tsubscribe('deck:board:show-new-card', this.clickShowAddCardModel)\n\t\tsubscribe('deck:board:toggle-filter-popover', this.triggerOpenFilters)\n\t\tsubscribe('deck:board:clear-filter', this.triggerClearFilter)\n\t\tsubscribe('deck:board:toggle-filter-by-me', this.triggerFilterByMe)\n\n\t},\n\tbeforeDestroy() {\n\t\tunsubscribe('deck:board:show-new-card', this.clickShowAddCardModel)\n\t\tunsubscribe('deck:board:toggle-filter-popover', this.triggerOpenFilters)\n\t\tunsubscribe('deck:board:clear-filter', this.triggerClearFilter)\n\t\tunsubscribe('deck:board:toggle-filter-by-me', this.triggerFilterByMe)\n\t\tthis.setPageTitle('')\n\t},\n\tmethods: {\n\t\tbeforeSetFilter(e) {\n\t\t\tif (this.filter.due === e.target.value) {\n\t\t\t\tthis.filter.due = ''\n\t\t\t\tthis.$store.dispatch('setFilter', { ...this.filter })\n\t\t\t}\n\t\t\tif (e.target.value === 'unassigned') {\n\t\t\t\tthis.filter.users = []\n\t\t\t\tthis.$store.dispatch('setFilter', { ...this.filter })\n\t\t\t} else {\n\t\t\t\tthis.filter.completed = 'both'\n\t\t\t\tthis.$store.dispatch('setFilter', { ...this.filter })\n\t\t\t}\n\t\t\tthis.$store.dispatch('setFilter', { ...this.filter })\n\t\t},\n\t\tsetFilter() {\n\t\t\tif (this.filter.users.length > 0) {\n\t\t\t\tthis.filter.unassigned = false\n\t\t\t}\n\t\t\tthis.$nextTick(() => this.$store.dispatch('setFilter', { ...this.filter }))\n\t\t},\n\t\ttoggleNav() {\n\t\t\tthis.$store.dispatch('toggleNav')\n\t\t},\n\t\ttoggleCompactMode() {\n\t\t\tthis.$store.dispatch('toggleCompactMode')\n\t\t},\n\t\ttoggleShowCardCover() {\n\t\t\tthis.$store.dispatch('toggleShowCardCover')\n\t\t},\n\t\ttoggleShowArchived() {\n\t\t\tthis.$store.dispatch('toggleShowArchived')\n\t\t\tthis.showArchived = !this.showArchived\n\t\t},\n\t\taddNewStack() {\n\t\t\tthis.stack = { title: this.newStackTitle }\n\t\t\tthis.$store.dispatch('createStack', this.stack)\n\t\t\tthis.newStackTitle = ''\n\t\t\tthis.stack = null\n\t\t\tthis.isAddStackVisible = false\n\t\t},\n\t\tshowAddStack() {\n\t\t\tthis.isAddStackVisible = true\n\t\t},\n\t\thideAddStack() {\n\t\t\tthis.isAddStackVisible = false\n\t\t},\n\t\ttoggleDetailsView() {\n\t\t\tif (this.$route.name === 'board.details') {\n\t\t\t\tthis.$router.push({ name: 'board' })\n\t\t\t} else {\n\t\t\t\tthis.$router.push({ name: 'board.details' })\n\t\t\t}\n\t\t},\n\t\tclearFilter() {\n\t\t\tconst filterReset = { tags: [], users: [], due: '', completed: 'both' }\n\t\t\tthis.$store.dispatch('setFilter', { ...filterReset })\n\t\t\tthis.filter = filterReset\n\t\t},\n\t\tclickShowAddCardModel() {\n\t\t\tthis.showAddCardModal = true\n\t\t},\n\t\tclickHideAddCardModel() {\n\t\t\tthis.showAddCardModal = false\n\t\t},\n\t\tsetPageTitle(title) {\n\t\t\tif (!this.isFullApp) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (this.defaultPageTitle === false) {\n\t\t\t\tthis.defaultPageTitle = window.document.title\n\t\t\t\tif (this.defaultPageTitle.indexOf(' - Deck - ') !== -1) {\n\t\t\t\t\tthis.defaultPageTitle = this.defaultPageTitle.substring(this.defaultPageTitle.indexOf(' - Deck - ') + 3)\n\t\t\t\t}\n\t\t\t\tif (this.defaultPageTitle.indexOf('Deck - ') !== 0) {\n\t\t\t\t\tthis.defaultPageTitle = 'Deck - ' + this.defaultPageTitle\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet newTitle = this.defaultPageTitle\n\t\t\tif (title !== '') {\n\t\t\t\tnewTitle = `${title} - ${newTitle}`\n\t\t\t}\n\t\t\twindow.document.title = newTitle\n\t\t},\n\t\ttriggerOpenFilters() {\n\t\t\tthis.$refs.filterPopover.$el.click()\n\t\t},\n\t\ttriggerOpenSearch() {\n\t\t\tthis.$refs.search.focus()\n\t\t},\n\t\ttriggerClearFilter() {\n\t\t\tthis.clearFilter()\n\t\t},\n\t\ttriggerFilterByMe() {\n\t\t\tif (this.isFilterActive) {\n\t\t\t\tthis.clearFilter()\n\t\t\t} else {\n\t\t\t\tthis.filter.users = [getCurrentUser().uid]\n\t\t\t\tthis.setFilter()\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.controls {\n\t\tdisplay: flex;\n\t\tmargin: 5px;\n\t\theight: 44px;\n\t\tpadding-left: 44px;\n\n\t\t.board-title {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\th2 {\n\t\t\t\tmargin: 0;\n\t\t\t\tmargin-right: 10px;\n\t\t\t}\n\n\t\t\t.board-bullet {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t\tborder: none;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tbackground-color: transparent;\n\t\t\t\tmargin: 12px;\n\t\t\t\tmargin-left: -4px;\n\t\t\t}\n\t\t}\n\n\t\t#stack-add form {\n\t\t\tdisplay: flex;\n\t\t}\n\t}\n\n\t#app-navigation-toggle-custom {\n\t\tposition: static;\n\t\twidth: 44px;\n\t\theight: 44px;\n\t\tcursor: pointer;\n\t\topacity: 1;\n\t\tdisplay: inline-block !important;\n\t}\n\n\t.board-actions {\n\t\tflex-grow: 1;\n\t\torder: 100;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t}\n\n\t.board-action-buttons {\n\t\tdisplay: flex;\n\t}\n\n\t.deck-search {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tinput[type=search] {\n\t\t\tbackground-position: 5px;\n\t\t\tpadding-left: 24px !important;\n\t\t}\n\t}\n\n\t.filter--item {\n\t\tinput + label {\n\t\t\tdisplay: block;\n\t\t\tpadding: 6px 0;\n\t\t\t.avatardiv {\n\t\t\t\tvertical-align: middle;\n\t\t\t\tmargin-bottom: 2px;\n\t\t\t\tmargin-right: 3px;\n\t\t\t}\n\t\t\t.label {\n\t\t\t\tpadding: 5px;\n\t\t\t\tborder-radius: 3px;\n\t\t\t}\n\t\t}\n\t}\n\n\t.filter {\n\t\twidth: 240px;\n\t\tmax-height: calc(100vh - 150px);\n\t\tposition: relative;\n\t\toverflow: auto;\n\t\tpadding: 8px;\n\t}\n\n\t.filter h3 {\n\t\tmargin-top: 0px;\n\t\tmargin-bottom: 5px;\n\t}\n\n\t.filter-button {\n\t\tpadding: 0;\n\t\tborder-radius: 50%;\n\t\twidth: 44px;\n\t\theight: 44px;\n\n\t\t&[data-popper-shown] {\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t\t&.button-vue--vue-primary {\n\t\t\t\tbackground-color: var(--color-primary-element);\n\t\t\t}\n\t\t}\n\t}\n</style>\n<style lang=\"scss\">\n\t.popover:focus {\n\t\toutline: 2px solid var(--color-main-text);\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=0&id=f6667d3c&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=0&id=f6667d3c&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=1&id=f6667d3c&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=1&id=f6667d3c&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Controls.vue?vue&type=template&id=f6667d3c&scoped=true\"\nimport script from \"./Controls.vue?vue&type=script&lang=js\"\nexport * from \"./Controls.vue?vue&type=script&lang=js\"\nimport style0 from \"./Controls.vue?vue&type=style&index=0&id=f6667d3c&prod&lang=scss&scoped=true\"\nimport style1 from \"./Controls.vue?vue&type=style&index=1&id=f6667d3c&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f6667d3c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"controls\"},[(_vm.showAddCardModal)?_c('NcModal',{staticClass:\"card-selector\",on:{\"close\":_vm.clickHideAddCardModel}},[_c('CreateNewCardCustomPicker',{attrs:{\"show-created-notice\":\"\"},on:{\"cancel\":_vm.clickHideAddCardModel}})],1):_vm._e(),_vm._v(\" \"),(_vm.overviewName)?_c('div',{staticClass:\"board-title\"},[_c('div',{staticClass:\"board-bullet icon-calendar-dark\"}),_vm._v(\" \"),_c('h2',{attrs:{\"dir\":\"auto\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.overviewName)+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-add\"},on:{\"click\":_vm.clickShowAddCardModel}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Add card'))+\"\\n\\t\\t\\t\")])],1)],1):(_vm.board)?_c('div',{staticClass:\"board-title\"},[_c('div',{staticClass:\"board-bullet\",style:({backgroundColor: '#' + _vm.board.color})}),_vm._v(\" \"),_c('h2',{attrs:{\"dir\":\"auto\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.board.title)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.showArchived)?_c('p',[_vm._v(\"\\n\\t\\t\\t(\"+_vm._s(_vm.t('deck', 'Archived cards'))+\")\\n\\t\\t\")]):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"board-actions\"},[(_vm.isNotifyPushEnabled && _vm.presentUsers.length)?_c('SessionList',{attrs:{\"sessions\":_vm.presentUsers}}):_vm._e(),_vm._v(\" \"),(_vm.searchQuery || true)?_c('div',{staticClass:\"deck-search\"},[_c('input',{ref:\"search\",staticClass:\"icon-search\",attrs:{\"id\":\"deck-search-input\",\"tabindex\":0,\"type\":\"search\"},domProps:{\"value\":_vm.searchQuery},on:{\"focus\":function($event){return _vm.$store.dispatch('toggleShortcutLock', true)},\"blur\":function($event){return _vm.$store.dispatch('toggleShortcutLock', false)},\"input\":function($event){return _vm.$store.commit('setSearchQuery', $event.target.value)}}})]):_vm._e(),_vm._v(\" \"),(_vm.board && _vm.canManage && !_vm.showArchived && !_vm.board.archived)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.hideAddStack),expression:\"hideAddStack\"}],attrs:{\"id\":\"stack-add\"}},[(!_vm.isAddStackVisible)?_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-add\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showAddStack.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Add list'))+\"\\n\\t\\t\\t\\t\")])],1):_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addNewStack()}}},[_c('label',{staticClass:\"hidden-visually\",attrs:{\"for\":\"new-stack-input-main\"}},[_vm._v(_vm._s(_vm.t('deck', 'Add list')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newStackTitle),expression:\"newStackTitle\"},{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"no-close\",attrs:{\"id\":\"new-stack-input-main\",\"type\":\"text\",\"placeholder\":_vm.t('deck', 'List name'),\"required\":\"\"},domProps:{\"value\":(_vm.newStackTitle)},on:{\"focus\":function($event){return _vm.$store.dispatch('toggleShortcutLock', true)},\"blur\":function($event){return _vm.$store.dispatch('toggleShortcutLock', false)},\"input\":function($event){if($event.target.composing)return;_vm.newStackTitle=$event.target.value}}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"title\":_vm.t('deck', 'Add list'),\"type\":\"submit\",\"value\":\"\"}})])],1):_vm._e(),_vm._v(\" \"),(_vm.board)?_c('div',{staticClass:\"board-action-buttons\"},[_c('div',{staticClass:\"board-action-buttons__filter\"},[_c('NcPopover',{attrs:{\"placement\":'bottom-end',\"aria-label\":_vm.t('deck', 'Active filters'),\"name\":_vm.t('deck', 'Active filters')},on:{\"show\":function($event){_vm.filterVisible=true},\"hide\":function($event){_vm.filterVisible=false}},scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('NcButton',{ref:\"filterPopover\",staticClass:\"filter-button\",attrs:{\"title\":_vm.t('deck', 'Apply filter'),\"aria-label\":_vm.t('deck', 'Apply filter'),\"type\":_vm.isFilterActive ? 'primary' : 'tertiary'},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.isFilterActive)?_c('FilterIcon',{attrs:{\"size\":20,\"decorative\":\"\"}}):_c('FilterOffIcon',{attrs:{\"size\":20,\"decorative\":\"\"}})]},proxy:true}],null,false,2332309571)})]},proxy:true}],null,false,2069517790)},[_vm._v(\" \"),(_vm.filterVisible)?_c('div',{staticClass:\"filter\"},[_c('h3',[_vm._v(_vm._s(_vm.t('deck', 'Filter by tag')))]),_vm._v(\" \"),_vm._l((_vm.labelsSorted),function(label){return _c('div',{key:label.id,staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.tags),expression:\"filter.tags\"}],staticClass:\"checkbox\",attrs:{\"id\":label.id,\"type\":\"checkbox\"},domProps:{\"value\":label.id,\"checked\":Array.isArray(_vm.filter.tags)?_vm._i(_vm.filter.tags,label.id)>-1:(_vm.filter.tags)},on:{\"change\":[function($event){var $$a=_vm.filter.tags,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=label.id,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"tags\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"tags\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"tags\", $$c)}},_vm.setFilter]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":label.id}},[_c('span',{staticClass:\"label\",style:(_vm.labelStyle(label))},[_vm._v(_vm._s(label.title))])])])}),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.t('deck', 'Filter by assigned user')))]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.unassigned),expression:\"filter.unassigned\"}],staticClass:\"checkbox\",attrs:{\"id\":\"unassigned\",\"type\":\"checkbox\",\"value\":\"unassigned\"},domProps:{\"checked\":Array.isArray(_vm.filter.unassigned)?_vm._i(_vm.filter.unassigned,\"unassigned\")>-1:(_vm.filter.unassigned)},on:{\"change\":[function($event){var $$a=_vm.filter.unassigned,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"unassigned\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"unassigned\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"unassigned\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"unassigned\", $$c)}},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"unassigned\"}},[_vm._v(_vm._s(_vm.t('deck', 'Unassigned')))])]),_vm._v(\" \"),_vm._l((_vm.board.users),function(user){return _c('div',{key:user.uid,staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.users),expression:\"filter.users\"}],staticClass:\"checkbox\",attrs:{\"id\":user.uid,\"type\":\"checkbox\"},domProps:{\"value\":user.uid,\"checked\":Array.isArray(_vm.filter.users)?_vm._i(_vm.filter.users,user.uid)>-1:(_vm.filter.users)},on:{\"change\":[function($event){var $$a=_vm.filter.users,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=user.uid,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"users\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"users\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"users\", $$c)}},_vm.setFilter]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":user.uid}},[_c('NcAvatar',{attrs:{\"user\":user.uid,\"size\":24,\"disable-menu\":true}}),_vm._v(\" \"+_vm._s(user.displayname))],1)])}),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.t('deck', 'Filter by completed')))]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.completed),expression:\"filter.completed\"}],staticClass:\"radio\",attrs:{\"id\":\"filter-option-both\",\"type\":\"radio\",\"value\":\"both\"},domProps:{\"checked\":_vm._q(_vm.filter.completed,\"both\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"completed\", \"both\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"filter-option-both\"}},[_vm._v(_vm._s(_vm.t('deck', 'Open and completed')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.completed),expression:\"filter.completed\"}],staticClass:\"radio\",attrs:{\"id\":\"filter-option-open\",\"type\":\"radio\",\"value\":\"open\"},domProps:{\"checked\":_vm._q(_vm.filter.completed,\"open\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"completed\", \"open\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"filter-option-open\"}},[_vm._v(_vm._s(_vm.t('deck', 'Open')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.completed),expression:\"filter.completed\"}],staticClass:\"radio\",attrs:{\"id\":\"filter-option-completed\",\"type\":\"radio\",\"value\":\"completed\"},domProps:{\"checked\":_vm._q(_vm.filter.completed,\"completed\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"completed\", \"completed\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"filter-option-completed\"}},[_vm._v(_vm._s(_vm.t('deck', 'Completed')))])]),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.t('deck', 'Filter by due date')))]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"overdue\",\"type\":\"radio\",\"value\":\"overdue\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"overdue\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"overdue\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"overdue\"}},[_vm._v(_vm._s(_vm.t('deck', 'Overdue')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"dueToday\",\"type\":\"radio\",\"value\":\"dueToday\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"dueToday\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"dueToday\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dueToday\"}},[_vm._v(_vm._s(_vm.t('deck', 'Next 24 hours')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"dueWeek\",\"type\":\"radio\",\"value\":\"dueWeek\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"dueWeek\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"dueWeek\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dueWeek\"}},[_vm._v(_vm._s(_vm.t('deck', 'Next 7 days')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"dueMonth\",\"type\":\"radio\",\"value\":\"dueMonth\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"dueMonth\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"dueMonth\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dueMonth\"}},[_vm._v(_vm._s(_vm.t('deck', 'Next 30 days')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"noDue\",\"type\":\"radio\",\"value\":\"noDue\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"noDue\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"noDue\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"noDue\"}},[_vm._v(_vm._s(_vm.t('deck', 'No due date')))])]),_vm._v(\" \"),_c('NcButton',{attrs:{\"disabled\":!_vm.isFilterActive,\"wide\":true},on:{\"click\":_vm.clearFilter}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Clear filter'))+\"\\n\\t\\t\\t\\t\\t\\t\")])],2):_vm._e()])],1),_vm._v(\" \"),_c('NcActions',{attrs:{\"aria-label\":_vm.t('deck', 'View Modes'),\"name\":_vm.t('deck', 'Toggle View Modes')}},[_c('NcActionButton',{on:{\"click\":_vm.toggleShowArchived},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"size\":20,\"decorative\":\"\"}})]},proxy:true}],null,false,2522540071)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.showArchived ? _vm.t('deck', 'Hide archived cards') : _vm.t('deck', 'Show archived cards'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.compactMode)?_c('NcActionButton',{on:{\"click\":_vm.toggleCompactMode}},[_c('ArrowExpandVerticalIcon',{attrs:{\"slot\":\"icon\",\"size\":20,\"decorative\":\"\"},slot:\"icon\"}),_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Toggle compact mode'))+\"\\n\\t\\t\\t\\t\")],1):_c('NcActionButton',{on:{\"click\":_vm.toggleCompactMode}},[_c('ArrowCollapseVerticalIcon',{attrs:{\"slot\":\"icon\",\"size\":20,\"decorative\":\"\"},slot:\"icon\"}),_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Toggle compact mode'))+\"\\n\\t\\t\\t\\t\")],1),_vm._v(\" \"),_c('NcActionButton',{on:{\"click\":_vm.toggleShowCardCover},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ImageIcon',{attrs:{\"size\":20,\"decorative\":\"\"}})]},proxy:true}],null,false,4228331746)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.showCardCover ? _vm.t('deck', 'Hide card cover images') : _vm.t('deck', 'Show card cover images'))+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),(_vm.isFullApp)?_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-menu-sidebar\",\"aria-label\":_vm.t('deck', 'Open details'),\"name\":_vm.t('deck', 'Details')},on:{\"click\":_vm.toggleDetailsView}})],1):_vm._e()],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n\t- @copyright Copyright (c) 2022 Adrian Missy <adrian.missy@onewavestudios.com>\n\t-\n\t- @author Adrian Missy <adrian.missy@onewavestudios.com>\n\t-\n\t- @license GNU AGPL version 3 or any later version\n\t-\n\t- This program is free software: you can redistribute it and/or modify\n\t- it under the terms of the GNU Affero General Public License as\n\t- published by the Free Software Foundation, either version 3 of the\n\t- License, or (at your option) any later version.\n\t-\n\t- This program is distributed in the hope that it will be useful,\n\t- but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n\t- GNU Affero General Public License for more details.\n\t-\n\t- You should have received a copy of the GNU Affero General Public License\n\t- along with this program. If not, see <http://www.gnu.org/licenses/>.\n\t-\n\t-->\n\n<template>\n\t<div v-if=\"card\" class=\"cardid\">\n\t\t<span>#{{ card.id }}</span>\n\t</div>\n</template>\n\n<script>\n\nexport default {\n\tname: 'CardId',\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.cardid {\n\t\tfont-size: .9em;\n\t}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardId.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardId.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardId.vue?vue&type=style&index=0&id=f56db06c&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardId.vue?vue&type=style&index=0&id=f56db06c&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardId.vue?vue&type=template&id=f56db06c&scoped=true\"\nimport script from \"./CardId.vue?vue&type=script&lang=js\"\nexport * from \"./CardId.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardId.vue?vue&type=style&index=0&id=f56db06c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f56db06c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('div',{staticClass:\"cardid\"},[_c('span',[_vm._v(\"#\"+_vm._s(_vm.card.id))])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2020 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div v-if=\"card\" class=\"duedate\" :data-due-state=\"dueState\">\n\t\t<transition name=\"zoom\">\n\t\t\t<div v-if=\"card.duedate || card.done\" class=\"due\" :name=\"absoluteDate\">\n\t\t\t\t<CheckCircle v-if=\"card.done\" :size=\"16\" />\n\t\t\t\t<Clock v-else-if=\"overdue\" :size=\"16\" />\n\t\t\t\t<ClockOutline v-else :size=\"16\" />\n\t\t\t\t<span v-if=\"!compactMode\" class=\"due--label\">{{ relativeDate }}</span>\n\t\t\t</div>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport moment from '@nextcloud/moment'\nimport Clock from 'vue-material-design-icons/Clock.vue'\nimport ClockOutline from 'vue-material-design-icons/ClockOutline.vue'\nimport CheckCircle from 'vue-material-design-icons/CheckCircle.vue'\n\nconst DueState = {\n\tDone: 'Done',\n\tFuture: 'Future',\n\tNext: 'Next',\n\tNow: 'Now',\n\tOverdue: 'Overdue',\n}\nexport default {\n\tname: 'DueDate',\n\tcomponents: {\n\t\tCheckCircle,\n\t\tClock,\n\t\tClockOutline,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcompactMode: state => state.compactMode,\n\t\t}),\n\t\tdueState() {\n\t\t\tif (this.card.done) {\n\t\t\t\treturn DueState.Done\n\t\t\t}\n\t\t\tconst days = Math.floor(moment(this.card.duedate).diff(this.$root.time, 'seconds') / 60 / 60 / 24)\n\t\t\tif (days < 0) {\n\t\t\t\treturn DueState.Overdue\n\t\t\t}\n\t\t\tif (days === 0) {\n\t\t\t\treturn DueState.Now\n\t\t\t}\n\t\t\tif (days === 1) {\n\t\t\t\treturn DueState.Next\n\t\t\t}\n\n\t\t\treturn DueState.Future\n\t\t},\n\t\toverdue() {\n\t\t\treturn this.dueState === DueState.Overdue\n\t\t},\n\t\trelativeDate() {\n\t\t\tconst date = this.card.done ? this.card.done : this.card.duedate\n\t\t\tconst diff = moment(this.$root.time).diff(date, 'seconds')\n\t\t\tif (diff >= 0 && diff < 45) {\n\t\t\t\treturn t('core', 'seconds ago')\n\t\t\t}\n\t\t\treturn moment(date).fromNow()\n\t\t},\n\t\tabsoluteDate() {\n\t\t\tconst date = this.card.done ? this.card.done : this.card.duedate\n\t\t\treturn moment(date).format('LLLL')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.due {\n\t\tbackground-position: 4px center;\n\t\tborder-radius: var(--border-radius-pill);\n\t\tpadding: 1px 8px;\n\t\tfont-size: 90%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tflex-shrink: 1;\n\t\tz-index: 2;\n\n\t\t[data-due-state='Overdue'] & {\n\t\t\tcolor: var(--color-error-text);\n\t\t\tbackground-color: rgba(var(--color-error-rgb), .1);\n\t\t}\n\t\t[data-due-state='Now'] & {\n\t\t\tcolor: var(--color-warning-text);\n\t\t\tbackground-color: rgba(var(--color-warning-rgb), .1);\n\t\t}\n\t\t[data-due-state='Done'] & {\n\t\t\tcolor: var(--color-success-text);\n\t\t\tbackground-color: rgba(var(--color-success-rgb), .1);\n\t\t}\n\n\t\t.due--label {\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t\tmargin-left: 4px;\n\t\t\tfont-size: 13px;\n\t\t}\n\t}\n\n\t@media print {\n\t\t.icon.due {\n\t\t\tbackground-color: transparent !important;\n\n\t\t\tspan {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t&::before {\n\t\t\t\tcontent: attr(title);\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDate.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDate.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDate.vue?vue&type=style&index=0&id=1afd2267&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDate.vue?vue&type=style&index=0&id=1afd2267&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./DueDate.vue?vue&type=template&id=1afd2267&scoped=true\"\nimport script from \"./DueDate.vue?vue&type=script&lang=js\"\nexport * from \"./DueDate.vue?vue&type=script&lang=js\"\nimport style0 from \"./DueDate.vue?vue&type=style&index=0&id=1afd2267&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1afd2267\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('div',{staticClass:\"duedate\",attrs:{\"data-due-state\":_vm.dueState}},[_c('transition',{attrs:{\"name\":\"zoom\"}},[(_vm.card.duedate || _vm.card.done)?_c('div',{staticClass:\"due\",attrs:{\"name\":_vm.absoluteDate}},[(_vm.card.done)?_c('CheckCircle',{attrs:{\"size\":16}}):(_vm.overdue)?_c('Clock',{attrs:{\"size\":16}}):_c('ClockOutline',{attrs:{\"size\":16}}),_vm._v(\" \"),(!_vm.compactMode)?_c('span',{staticClass:\"due--label\"},[_vm._v(_vm._s(_vm.relativeDate))]):_vm._e()],1):_vm._e()])],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardBadges.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardBadges.vue?vue&type=script&lang=js\"","<!--\n  - @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div v-if=\"card\" class=\"badges\">\n\t\t<div class=\"badge-left\">\n\t\t\t<DueDate v-if=\"card.duedate || card.done\" :card=\"card\" />\n\n\t\t\t<div class=\"inline-badges\">\n\t\t\t\t<CardId v-if=\"idBadge\" class=\"icon-badge\" :card=\"card\" />\n\n\t\t\t\t<div v-if=\"card.commentsCount > 0\"\n\t\t\t\t\t:title=\"commentsHint\"\n\t\t\t\t\tclass=\"icon-badge\"\n\t\t\t\t\t@click.stop=\"openComments\">\n\t\t\t\t\t<CommentUnreadIcon v-if=\"card.commentsUnread > 0\" :size=\"16\" />\n\t\t\t\t\t<CommentIcon v-else :size=\"16\" />\n\t\t\t\t\t<span>{{ card.commentsCount }}</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"card.description && checkListCount > 0\" class=\"icon-badge\">\n\t\t\t\t\t<CheckmarkIcon :size=\"16\" :title=\"t('deck', 'Todo items')\" />\n\t\t\t\t\t<span>{{ checkListCheckedCount }}/{{ checkListCount }}</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-else-if=\"card.description && card.description.trim() && checkListCount == 0\" class=\"icon-badge\">\n\t\t\t\t\t<TextIcon :size=\"16\" decorative />\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"card.attachmentCount > 0\" class=\"icon-badge\">\n\t\t\t\t\t<AttachmentIcon :size=\"16\" />\n\t\t\t\t\t<span>{{ card.attachmentCount }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"badge-right\">\n\t\t\t<NcAvatarList :users=\"card.assignedUsers\" :size=\"32\" />\n\n\t\t\t<slot />\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport NcAvatarList from './AvatarList.vue'\nimport CardId from './badges/CardId.vue'\nimport TextIcon from 'vue-material-design-icons/Text.vue'\nimport AttachmentIcon from 'vue-material-design-icons/Paperclip.vue'\nimport CheckmarkIcon from 'vue-material-design-icons/CheckboxMarked.vue'\nimport CommentIcon from 'vue-material-design-icons/Comment.vue'\nimport CommentUnreadIcon from 'vue-material-design-icons/CommentAccount.vue'\nimport DueDate from './badges/DueDate.vue'\n\nexport default {\n\tname: 'CardBadges',\n\tcomponents: {\n\t\tDueDate,\n\t\tNcAvatarList,\n\t\tTextIcon,\n\t\tAttachmentIcon,\n\t\tCheckmarkIcon,\n\t\tCommentIcon,\n\t\tCommentUnreadIcon,\n\t\tCardId,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tcomputed: {\n\t\tcheckListCount() {\n\t\t\treturn (this.card.description.match(/^\\s*([*+-]|(\\d\\.))\\s+\\[\\s*(\\s|x)\\s*\\](.*)$/gim) || []).length\n\t\t},\n\t\tcheckListCheckedCount() {\n\t\t\treturn (this.card.description.match(/^\\s*([*+-]|(\\d\\.))\\s+\\[\\s*x\\s*\\](.*)$/gim) || []).length\n\t\t},\n\t\tcommentsHint() {\n\t\t\tif (this.card.commentsUnread > 0) {\n\t\t\t\treturn t('deck', '{count} comments, {unread} unread', {\n\t\t\t\t\tcount: this.card.commentsCount,\n\t\t\t\t\tunread: this.card.commentsUnread,\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn null\n\t\t},\n\t\tidBadge() {\n\t\t\treturn this.$store.getters.config('cardIdBadge')\n\t\t},\n\t},\n\tmethods: {\n\t\topenComments() {\n\t\t\tconst boardId = this.card && this.card.boardId ? this.card.boardId : this.$route.params.id\n\t\t\tthis.$router.push({ name: 'card', params: { id: boardId, cardId: this.card.id, tabId: 'comments' } })\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.badges {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\tflex-grow: 1;\n\t\tflex-direction: row;\n\t\tgap: 3px;\n\n\t\t.icon-badge {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\tdisplay: flex;\n\t\t\tmargin-right: 2px;\n\n\t\t\tspan,\n\t\t\t&:deep(span) {\n\t\t\t\tpadding: 2px;\n\t\t\t}\n\t\t}\n\t}\n\n\t.inline-badges {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\tgap: 3px;\n\t}\n\n\t.badges .icon.due {\n\t\tbackground-position: 4px center;\n\t\tborder-radius: var(--border-radius);\n\t\tpadding: 4px;\n\t\tfont-size: 13px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\topacity: .5;\n\t\tflex-shrink: 1;\n\n\t\t.icon {\n\t\t\tbackground-size: contain;\n\t\t}\n\n\t\t&.overdue {\n\t\t\tbackground-color: var(--color-error);\n\t\t\tcolor: var(--color-primary-element-text);\n\t\t\topacity: .7;\n\t\t}\n\t\t&.now {\n\t\t\tbackground-color: var(--color-warning);\n\t\t\topacity: .7;\n\t\t}\n\t\t&.next {\n\t\t\tbackground-color: var(--color-background-dark);\n\t\t\topacity: .7;\n\t\t}\n\n\t\tspan {\n\t\t\tmargin-left: 20px;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t.badge-left, .badge-right {\n\t\tdisplay: flex;\n\t}\n\n\t.badge-left {\n\t\talign-self: end;\n\t\tmargin-bottom: 8px;\n\t\tflex-basis: auto;\n\t\tflex-grow: 1;\n\t\tflex-shrink: 1;\n\t\tflex-wrap: wrap;\n\t\talign-content: flex-end;\n\t\tgap: 3px;\n\t}\n\n\t.badge-right {\n\t\talign-items: center;\n\t\talign-self: flex-end;\n\t\tdisplay: flex;\n\t\tjustify-items: center;\n\t\tmax-width: 165px;\n\t\tflex-grow: 0;\n\t\tflex-shrink: 0;\n\t}\n\n\t.fade-enter-active, .fade-leave-active {\n\t\ttransition: opacity .125s;\n\t}\n\n\t.fade-enter, .fade-leave-to {\n\t\topacity: 0;\n\t}\n\n\t@media print {\n\t\t.badges {\n\t\t\talign-items: flex-start;\n\t\t\tmax-height: none !important;\n\t\t}\n\t}\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardBadges.vue?vue&type=style&index=0&id=1cd7fbf0&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardBadges.vue?vue&type=style&index=0&id=1cd7fbf0&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardBadges.vue?vue&type=template&id=1cd7fbf0&scoped=true\"\nimport script from \"./CardBadges.vue?vue&type=script&lang=js\"\nexport * from \"./CardBadges.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardBadges.vue?vue&type=style&index=0&id=1cd7fbf0&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1cd7fbf0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('div',{staticClass:\"badges\"},[_c('div',{staticClass:\"badge-left\"},[(_vm.card.duedate || _vm.card.done)?_c('DueDate',{attrs:{\"card\":_vm.card}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"inline-badges\"},[(_vm.idBadge)?_c('CardId',{staticClass:\"icon-badge\",attrs:{\"card\":_vm.card}}):_vm._e(),_vm._v(\" \"),(_vm.card.commentsCount > 0)?_c('div',{staticClass:\"icon-badge\",attrs:{\"title\":_vm.commentsHint},on:{\"click\":function($event){$event.stopPropagation();return _vm.openComments.apply(null, arguments)}}},[(_vm.card.commentsUnread > 0)?_c('CommentUnreadIcon',{attrs:{\"size\":16}}):_c('CommentIcon',{attrs:{\"size\":16}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.card.commentsCount))])],1):_vm._e(),_vm._v(\" \"),(_vm.card.description && _vm.checkListCount > 0)?_c('div',{staticClass:\"icon-badge\"},[_c('CheckmarkIcon',{attrs:{\"size\":16,\"title\":_vm.t('deck', 'Todo items')}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.checkListCheckedCount)+\"/\"+_vm._s(_vm.checkListCount))])],1):(_vm.card.description && _vm.card.description.trim() && _vm.checkListCount == 0)?_c('div',{staticClass:\"icon-badge\"},[_c('TextIcon',{attrs:{\"size\":16,\"decorative\":\"\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.card.attachmentCount > 0)?_c('div',{staticClass:\"icon-badge\"},[_c('AttachmentIcon',{attrs:{\"size\":16}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.card.attachmentCount))])],1):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"badge-right\"},[_c('NcAvatarList',{attrs:{\"users\":_vm.card.assignedUsers,\"size\":32}}),_vm._v(\" \"),_vm._t(\"default\")],2)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div>\n\t\t<NcActionButton v-if=\"!hideDetailsEntry\" :close-after-click=\"true\" @click=\"openCard\">\n\t\t\t<CardBulletedIcon slot=\"icon\" :size=\"20\" decorative />\n\t\t\t{{ t('deck', 'Card details') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit && !isCurrentUserAssigned\"\n\t\t\ticon=\"icon-user\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"assignCardToMe()\">\n\t\t\t{{ t('deck', 'Assign to me') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit && isCurrentUserAssigned\"\n\t\t\ticon=\"icon-user\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"unassignCardFromMe()\">\n\t\t\t{{ t('deck', 'Unassign myself') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\ticon=\"icon-checkmark\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"changeCardDoneStatus()\">\n\t\t\t{{ card.done ? t('deck', 'Mark as not done') : t('deck', 'Mark as done') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\ticon=\"icon-external\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"openCardMoveDialog\">\n\t\t\t{{ t('deck', 'Move card') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-for=\"action in cardActions\"\n\t\t\t:key=\"action.label\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t:icon=\"action.icon\"\n\t\t\t@click=\"action.callback(cardRichObject)\">\n\t\t\t{{ action.label }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEditBoard\" :close-after-click=\"true\" @click=\"archiveUnarchiveCard()\">\n\t\t\t<template #icon>\n\t\t\t\t<ArchiveIcon :size=\"20\" decorative />\n\t\t\t</template>\n\t\t\t{{ card.archived ? t('deck', 'Unarchive card') : t('deck', 'Archive card') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\ticon=\"icon-delete\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"deleteCard()\">\n\t\t\t{{ t('deck', 'Delete card') }}\n\t\t</NcActionButton>\n\t</div>\n</template>\n<script>\nimport { NcActionButton } from '@nextcloud/vue'\nimport { mapGetters, mapState } from 'vuex'\nimport ArchiveIcon from 'vue-material-design-icons/Archive.vue'\nimport CardBulletedIcon from 'vue-material-design-icons/CardBulleted.vue'\nimport { generateUrl } from '@nextcloud/router'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { showUndo } from '@nextcloud/dialogs'\n\nimport '@nextcloud/dialogs/style.css'\nimport { emit } from '@nextcloud/event-bus'\n\nexport default {\n\tname: 'CardMenuEntries',\n\tcomponents: { NcActionButton, ArchiveIcon, CardBulletedIcon },\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\thideDetailsEntry: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmodalShow: false,\n\t\t\tselectedBoard: '',\n\t\t\tselectedStack: '',\n\t\t\tstacksFromBoard: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'isArchived',\n\t\t\t'boards',\n\t\t\t'cardActions',\n\t\t\t'stackById',\n\t\t\t'boardById',\n\t\t]),\n\t\t...mapState({\n\t\t\tshowArchived: state => state.showArchived,\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t}),\n\t\tcanEdit() {\n\t\t\treturn !this.card.archived\n\t\t},\n\t\tcanEditBoard() {\n\t\t\tif (this.currentBoard) {\n\t\t\t\treturn this.$store.getters.canEdit\n\t\t\t}\n\t\t\tconst board = this.$store.getters.boards.find((item) => item.id === this.card.boardId)\n\t\t\treturn !!board?.permissions?.PERMISSION_EDIT\n\t\t},\n\t\tisCurrentUserAssigned() {\n\t\t\treturn this.card.assignedUsers.find((item) => item.type === 0 && item.participant.uid === getCurrentUser()?.uid)\n\t\t},\n\t\tboardId() {\n\t\t\treturn this.card?.boardId ? this.card.boardId : Number(this.$route.params.id)\n\t\t},\n\t\tcardRichObject() {\n\t\t\treturn {\n\t\t\t\tid: '' + this.card.id,\n\t\t\t\tname: this.card.title,\n\t\t\t\tboardname: this.boardById(this.boardId)?.title,\n\t\t\t\tstackname: this.stackById(this.card.stackId)?.title,\n\t\t\t\tlink: window.location.protocol + '//' + window.location.host + generateUrl('/apps/deck/') + `card/${this.card.id}`,\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\topenCard() {\n\t\t\tconst boardId = this.card?.boardId ? this.card.boardId : this.$route?.params.id ?? this.currentBoard.id\n\n\t\t\tif (this.$router) {\n\t\t\t\tthis.$router?.push({ name: 'card', params: { id: boardId, cardId: this.card.id } }).catch(() => {})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.$root.$emit('open-card', this.card.id)\n\t\t},\n\t\tdeleteCard() {\n\t\t\tthis.$store.dispatch('deleteCard', this.card)\n\t\t\tconst undoCard = { ...this.card, deletedAt: 0 }\n\t\t\tshowUndo(t('deck', 'Card deleted'), () => this.$store.dispatch('cardUndoDelete', undoCard))\n\t\t},\n\t\tchangeCardDoneStatus() {\n\t\t\tthis.$store.dispatch('changeCardDoneStatus', { ...this.card, done: !this.card.done })\n\t\t},\n\t\tarchiveUnarchiveCard() {\n\t\t\tthis.$store.dispatch('archiveUnarchiveCard', { ...this.card, archived: !this.card.archived })\n\t\t},\n\t\tassignCardToMe() {\n\t\t\tthis.$store.dispatch('assignCardToUser', {\n\t\t\t\tcard: this.card,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: getCurrentUser()?.uid,\n\t\t\t\t\ttype: 0,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tunassignCardFromMe() {\n\t\t\tthis.$store.dispatch('removeUserFromCard', {\n\t\t\t\tcard: this.card,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: getCurrentUser()?.uid,\n\t\t\t\t\ttype: 0,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\topenCardMoveDialog() {\n\t\t\temit('deck:card:show-move-dialog', this.card)\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardMenuEntries.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardMenuEntries.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CardMenuEntries.vue?vue&type=template&id=2f198ef5\"\nimport script from \"./CardMenuEntries.vue?vue&type=script&lang=js\"\nexport * from \"./CardMenuEntries.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.hideDetailsEntry)?_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.openCard}},[_c('CardBulletedIcon',{attrs:{\"slot\":\"icon\",\"size\":20,\"decorative\":\"\"},slot:\"icon\"}),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Card details'))+\"\\n\\t\")],1):_vm._e(),_vm._v(\" \"),(_vm.canEdit && !_vm.isCurrentUserAssigned)?_c('NcActionButton',{attrs:{\"icon\":\"icon-user\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.assignCardToMe()}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Assign to me'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit && _vm.isCurrentUserAssigned)?_c('NcActionButton',{attrs:{\"icon\":\"icon-user\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.unassignCardFromMe()}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Unassign myself'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-checkmark\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.changeCardDoneStatus()}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.card.done ? _vm.t('deck', 'Mark as not done') : _vm.t('deck', 'Mark as done'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-external\",\"close-after-click\":true},on:{\"click\":_vm.openCardMoveDialog}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Move card'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.cardActions),function(action){return _c('NcActionButton',{key:action.label,attrs:{\"close-after-click\":true,\"icon\":action.icon},on:{\"click\":function($event){return action.callback(_vm.cardRichObject)}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(action.label)+\"\\n\\t\")])}),_vm._v(\" \"),(_vm.canEditBoard)?_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.archiveUnarchiveCard()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"size\":20,\"decorative\":\"\"}})]},proxy:true}],null,false,2522540071)},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.card.archived ? _vm.t('deck', 'Unarchive card') : _vm.t('deck', 'Archive card'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.deleteCard()}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Delete card'))+\"\\n\\t\")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardMenu.vue?vue&type=script&lang=js\"","<!--\n  - @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div v-if=\"card\" class=\"card-menu\" @click.stop.prevent>\n\t\t<NcActions>\n\t\t\t<CardMenuEntries :card=\"card\" />\n\t\t</NcActions>\n\t</div>\n</template>\n<script>\nimport { NcActions } from '@nextcloud/vue'\nimport CardMenuEntries from './CardMenuEntries.vue'\n\nexport default {\n\tname: 'CardMenu',\n\tcomponents: { NcActions, CardMenuEntries },\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n}\n</script>\n","import { render, staticRenderFns } from \"./CardMenu.vue?vue&type=template&id=47245f37\"\nimport script from \"./CardMenu.vue?vue&type=script&lang=js\"\nexport * from \"./CardMenu.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('div',{staticClass:\"card-menu\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('NcActions',[_c('CardMenuEntries',{attrs:{\"card\":_vm.card}})],1)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2023 Johannes Szeibert <johannes@szeibert.de>\n  -\n  - @author Johannes Szeibert <johannes@szeibert.de>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div v-if=\"cardId && ( attachments.length > 0 )\" class=\"card-cover\">\n\t\t<div v-for=\"(attachment, index) in attachments\"\n\t\t\t:key=\"attachment.id\"\n\t\t\t:class=\"['image-wrapper', { 'rounded-left': index === 0 }, { 'rounded-right': index === attachments.length - 1 }]\"\n\t\t\t:style=\"{ backgroundImage: `url(${attachmentPreview(attachment)})` }\" />\n\t</div>\n</template>\n<script>\nimport { mapActions } from 'vuex'\nimport { generateUrl } from '@nextcloud/router'\nexport default {\n\tname: 'CardCover',\n\tprops: {\n\t\tcardId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tattachments() {\n\t\t\treturn [...this.$store.getters.attachmentsByCard(this.cardId)]\n\t\t\t\t// Filter deleted and hasPreview\n\t\t\t\t.filter(attachment => attachment.deletedAt >= 0 && attachment.extendedData.hasPreview)\n\t\t\t\t// sort by id (same as in AttachmentList) to get Newest\n\t\t\t\t.sort((a, b) => b.id - a.id)\n\t\t\t\t// limit to 3 like with android Deck app\n\t\t\t\t.slice(0, 3)\n\t\t},\n\t\tattachmentPreview() {\n\t\t\t// FIXME find a better way to get the stack-width\n\t\t\tconst stackWidth = getComputedStyle(document.documentElement).getPropertyValue('--stack-width').trim()\n\t\t\tconst x = Math.ceil(parseInt(stackWidth) / this.attachments.length) | 260\n\t\t\tconst y = 100\n\t\t\treturn attachment => (\n\t\t\t\t// The core preview provider is a bit strange at times, providing much larger than needed images\n\t\t\t\t// when cropping is enabled. Therefore use a=1 to not crop the image and let css handle the overflow\n\t\t\t\tattachment.extendedData.fileid ? generateUrl(`/core/preview?fileId=${attachment.extendedData.fileid}&x=${x}&y=${y}&a=1`) : null\n\t\t\t)\n\t\t},\n\t},\n\twatch: {\n\t\tcardId: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tif (this.$store.getters.cardById(this.cardId)?.attachmentCount > 0) {\n\t\t\t\t\tthis.fetchAttachments(this.cardId)\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'fetchAttachments',\n\t\t]),\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../css/variables';\n\n.card-cover {\n\theight: 100px;\n\tdisplay: flex;\n\tmargin-top: -8px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\n\t.image-wrapper {\n\t\tflex: 1;\n\t\tposition: relative;\n\t\tbackground-size: cover;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: center center;\n\t\t&.rounded-left {\n\t\t\tborder-top-left-radius: 10px;\n\t\t}\n\t\t&.rounded-right {\n\t\t\tborder-top-right-radius: 10px;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardCover.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardCover.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardCover.vue?vue&type=style&index=0&id=868099ce&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardCover.vue?vue&type=style&index=0&id=868099ce&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardCover.vue?vue&type=template&id=868099ce&scoped=true\"\nimport script from \"./CardCover.vue?vue&type=script&lang=js\"\nexport * from \"./CardCover.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardCover.vue?vue&type=style&index=0&id=868099ce&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"868099ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.cardId && ( _vm.attachments.length > 0 ))?_c('div',{staticClass:\"card-cover\"},_vm._l((_vm.attachments),function(attachment,index){return _c('div',{key:attachment.id,class:['image-wrapper', { 'rounded-left': index === 0 }, { 'rounded-right': index === _vm.attachments.length - 1 }],style:({ backgroundImage: `url(${_vm.attachmentPreview(attachment)})` })})}),0):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n  -\n  - @copyright Copyright (c) 2019 Gary Kim <gary@garykim.dev>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Gary Kim <gary@garykim.dev>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<AttachmentDragAndDrop v-if=\"card\" :card-id=\"card.id\" class=\"drop-upload--card\">\n\t\t<div :ref=\"`card${card.id}`\"\n\t\t\t:class=\"{'compact': compactMode, 'current-card': currentCard, 'has-labels': card.labels && card.labels.length > 0, 'card__editable': canEdit, 'card__archived': card.archived }\"\n\t\t\ttag=\"div\"\n\t\t\t:tabindex=\"0\"\n\t\t\tclass=\"card\"\n\t\t\t@click=\"openCard\"\n\t\t\t@keyup.self=\"handleCardKeyboardShortcut\"\n\t\t\t@mouseenter=\"focus(card.id)\">\n\t\t\t<div v-if=\"standalone\" class=\"card-related\">\n\t\t\t\t<div :style=\"{backgroundColor: '#' + board.color}\" class=\"board-bullet\" dir=\"auto\" />\n\t\t\t\t{{ board.title }} » {{ stack.title }}\n\t\t\t</div>\n\t\t\t<CardCover v-if=\"showCardCover\" :card-id=\"card.id\" />\n\t\t\t<div class=\"card-upper\">\n\t\t\t\t<h3 v-if=\"inlineEditingBlocked\" dir=\"auto\">\n\t\t\t\t\t{{ card.title }}\n\t\t\t\t</h3>\n\t\t\t\t<h3 v-else\n\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\tclass=\"editable\"\n\t\t\t\t\t:aria-label=\"t('deck', 'Edit card title')\">\n\t\t\t\t\t<span ref=\"titleContentEditable\"\n\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\tcontenteditable=\"true\"\n\t\t\t\t\t\trole=\"textbox\"\n\t\t\t\t\t\t@focus=\"onTitleFocus\"\n\t\t\t\t\t\t@blur=\"onTitleBlur\"\n\t\t\t\t\t\t@click.stop\n\t\t\t\t\t\t@keyup.esc=\"cancelEdit\"\n\t\t\t\t\t\t@keyup.stop>{{ card.title }}</span>\n\t\t\t\t</h3>\n\n\t\t\t\t<DueDate v-if=\"compactMode\" :card=\"card\" />\n\t\t\t\t<CardMenu v-if=\"showMenuAtTitle\" :card=\"card\" class=\"right card-menu\" />\n\t\t\t</div>\n\n\t\t\t<div v-if=\"hasLabels\" class=\"card-labels\">\n\t\t\t\t<transition-group v-if=\"card.labels && card.labels.length\"\n\t\t\t\t\tname=\"zoom\"\n\t\t\t\t\ttag=\"ul\"\n\t\t\t\t\tclass=\"labels\"\n\t\t\t\t\t@click.stop=\"openCard\">\n\t\t\t\t\t<li v-for=\"label in labelsSorted\" :key=\"label?.id ?? label?.title\" :style=\"labelStyle(label)\">\n\t\t\t\t\t\t<span @click.stop=\"applyLabelFilter(label)\">{{ label.title }}</span>\n\t\t\t\t\t</li>\n\t\t\t\t</transition-group>\n\t\t\t\t<CardMenu v-if=\"showMenuAtLabels\" :card=\"card\" class=\"right\" />\n\t\t\t</div>\n\n\t\t\t<div v-if=\"hasBadges\"\n\t\t\t\tv-show=\"!compactMode\"\n\t\t\t\tclass=\"card-controls compact-item\"\n\t\t\t\t@click=\"openCard\">\n\t\t\t\t<CardBadges :card=\"card\">\n\t\t\t\t\t<CardMenu v-if=\"showMenuAtBadges\" :card=\"card\" class=\"right\" />\n\t\t\t\t</CardBadges>\n\t\t\t</div>\n\t\t</div>\n\t</AttachmentDragAndDrop>\n</template>\n\n<script>\nimport ClickOutside from 'vue-click-outside'\nimport { mapState, mapGetters } from 'vuex'\nimport CardBadges from './CardBadges.vue'\nimport Color from '../../mixins/color.js'\nimport labelStyle from '../../mixins/labelStyle.js'\nimport AttachmentDragAndDrop from '../AttachmentDragAndDrop.vue'\nimport CardMenu from './CardMenu.vue'\nimport CardCover from './CardCover.vue'\nimport DueDate from './badges/DueDate.vue'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nexport default {\n\tname: 'CardItem',\n\tcomponents: { CardBadges, AttachmentDragAndDrop, CardMenu, CardCover, DueDate },\n\tdirectives: {\n\t\tClickOutside,\n\t},\n\tmixins: [Color, labelStyle],\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\tdefault: null,\n\t\t},\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\tstandalone: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tdragging: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcompactMode: state => state.compactMode,\n\t\t\tshowArchived: state => state.showArchived,\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t\tshowCardCover: state => state.showCardCover,\n\t\t}),\n\t\t...mapGetters([\n\t\t\t'isArchived',\n\t\t]),\n\t\tboard() {\n\t\t\treturn this.$store.getters.boardById(this?.stack?.boardId)\n\t\t},\n\t\tstack() {\n\t\t\treturn this.$store.getters.stackById(this?.card?.stackId)\n\t\t},\n\t\tcanEdit() {\n\t\t\tif (this.currentBoard) {\n\t\t\t\treturn !this.currentBoard.archived && this.$store.getters.canEdit\n\t\t\t}\n\t\t\tconst board = this.$store.getters.boards.find((item) => item.id === this.card.boardId)\n\t\t\treturn board ? !board.archived && board.permissions.PERMISSION_EDIT : false\n\t\t},\n\t\tinlineEditingBlocked() {\n\t\t\treturn this.isArchived || this.showArchived || !this.canEdit || this.standalone\n\t\t},\n\t\tcard() {\n\t\t\treturn this.item ? this.item : this.$store.getters.cardById(this.id)\n\t\t},\n\t\tcurrentCard() {\n\t\t\treturn this.card && this.$route && this.$route.params.cardId === this.card.id\n\t\t},\n\t\tlabelsSorted() {\n\t\t\treturn [...this.card.labels].sort((a, b) => (a.title < b.title) ? -1 : 1)\n\t\t},\n\t\thasLabels() {\n\t\t\treturn this.card.labels.length > 0\n\t\t},\n\t\thasBadges() {\n\t\t\treturn this.card.done\n\t\t\t\t|| this.card.duedate\n\t\t\t\t|| this.idBadge\n\t\t\t\t|| this.card.commentsCount > 0\n\t\t\t\t|| this.card.description\n\t\t\t\t|| this.card.attachmentCount > 0\n\t\t\t\t|| this.card.assignedUsers.length > 0\n\t\t},\n\t\tidBadge() {\n\t\t\treturn this.$store.getters.config('cardIdBadge')\n\t\t},\n\t\tshowMenuAtTitle() {\n\t\t\treturn this.compactMode || (!this.compactMode && !this.hasBadges && !this.hasLabels)\n\t\t},\n\t\tshowMenuAtLabels() {\n\t\t\tif (this.compactMode) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn !this.hasBadges && this.hasLabels\n\t\t},\n\t\tshowMenuAtBadges() {\n\t\t\tif (this.compactMode) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn this.hasBadges\n\t\t},\n\t},\n\twatch: {\n\t\tcurrentCard(newValue) {\n\t\t\tif (newValue) {\n\t\t\t\tthis.$nextTick(() => this.$el.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' }))\n\t\t\t}\n\t\t},\n\t\t'card.title'(value) {\n\t\t\tif (document.activeElement === this.$refs.titleContentEditable || this.$refs.titleContentEditable.textContent === value) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.$refs.titleContentEditable.textContent = value\n\t\t},\n\t},\n\tmethods: {\n\t\tfocus(card) {\n\t\t\tcard = this.$refs[`card${card}`]\n\t\t\tcard.focus()\n\t\t},\n\t\topenCard() {\n\t\t\tif (this.dragging) {\n\t\t\t  return\n\t\t\t}\n\t\t\tconst boardId = this.card && this.card.boardId ? this.card.boardId : (this.$route?.params.id ?? this.currentBoard.id)\n\n\t\t\tif (this.$router) {\n\t\t\t\tthis.$router.push({ name: 'card', params: { id: boardId, cardId: this.card.id } }).catch(() => {})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.$root.$emit('open-card', this.card.id)\n\t\t},\n\t\tonTitleBlur(e) {\n\t\t\t// TODO Handle empty title\n\t\t\tif (e.target.innerText !== this.card.title) {\n\t\t\t\tthis.$store.dispatch('updateCardTitle', {\n\t\t\t\t\t...this.card,\n\t\t\t\t\ttitle: e.target.innerText,\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.$store.dispatch('toggleShortcutLock', false)\n\t\t},\n\t\tonTitleFocus() {\n\t\t\tthis.$store.dispatch('toggleShortcutLock', true)\n\t\t},\n\t\tcancelEdit() {\n\t\t\tthis.$refs.titleContentEditable.textContent = this.card.title\n\t\t\tthis.$store.dispatch('toggleShortcutLock', false)\n\t\t},\n\t\thandleCardKeyboardShortcut(key) {\n\t\t\tif (OCP.Accessibility.disableKeyboardShortcuts()) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!this.canEdit || this.$store.state.shortcutLock || key.shiftKey || key.ctrlKey || key.altKey || key.metaKey) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tswitch (key.code) {\n\t\t\tcase 'KeyE':\n\t\t\t\tthis.$refs.titleContentEditable?.focus()\n\t\t\t\tbreak\n\t\t\tcase 'KeyA':\n\t\t\t\tthis.$store.dispatch('archiveUnarchiveCard', { ...this.card, archived: !this.card.archived })\n\t\t\t\tbreak\n\t\t\tcase 'KeyO':\n\t\t\t\tthis.$store.dispatch('changeCardDoneStatus', { ...this.card, done: !this.card.done })\n\t\t\t\tbreak\n\t\t\tcase 'KeyM':\n\t\t\t\tthis.$el.querySelector('button.action-item__menutoggle')?.click()\n\t\t\t\tbreak\n\t\t\tcase 'Enter':\n\t\t\tcase 'Space':\n\t\t\t\tthis.openCard().then(() => document.getElementById('app-sidebar-vue')?.focus())\n\t\t\t\tbreak\n\t\t\tcase 'KeyS':\n\t\t\t\tthis.toggleSelfAsignment()\n\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\tapplyLabelFilter(label) {\n\t\t\tif (this.dragging) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.$nextTick(() => this.$store.dispatch('toggleFilter', { tags: [label.id] }))\n\t\t},\n\t\ttoggleSelfAsignment() {\n\t\t\tconst isAssigned = this.card.assignedUsers.find(\n\t\t\t\t(item) => item.type === 0 && item.participant.uid === getCurrentUser()?.uid,\n\t\t\t)\n\t\t\tthis.$store.dispatch(isAssigned ? 'removeUserFromCard' : 'assignCardToUser', {\n\t\t\t\tcard: this.card,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: getCurrentUser()?.uid,\n\t\t\t\t\ttype: 0,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t@import './../../css/animations';\n\t@import './../../css/variables';\n\n\t@mixin dark-card {\n\t\tborder: 2px solid var(--color-border-dark);\n\t\tbox-shadow: none;\n\t}\n\n\t.card {\n\t\ttransition: border 0.1s ease-in-out;\n\t\tborder-radius: var(--border-radius-large);\n\t\tfont-size: 100%;\n\t\tbackground-color: var(--color-main-background);\n\t\tmargin-bottom: $card-spacing;\n\t\tpadding: var(--default-grid-baseline) $card-padding;\n\t\tborder: 2px solid var(--color-border);\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 6px;\n\n\t\t&:deep(*) {\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t&.current-card {\n\t\t\tborder: 2px solid var(--color-primary-element);\n\t\t}\n\n\t\t&:focus, &:focus-visible, &:focus-within {\n\t\t\toutline: none;\n\t\t\tborder: 2px solid var(--color-border-maxcontrast);\n\t\t\t&.current-card {\n\t\t\t\tborder: 2px solid var(--color-primary-element);\n\t\t\t}\n\t\t}\n\n\t\t.card-upper {\n\t\t\tdisplay: flex;\n\t\t\th3 {\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 6px;\n\t\t\t\tflex-grow: 1;\n\t\t\t\tfont-size: 100%;\n\t\t\t\toverflow: hidden;\n\t\t\t\tword-wrap: break-word;\n\t\t\t\tpadding-left: 4px;\n\t\t\t\talign-self: center;\n\t\t\t\t&.editable {\n\t\t\t\t\tspan {\n\t\t\t\t\t\tcursor: text;\n\t\t\t\t\t\tpadding-right: 8px;\n\t\t\t\t\t\tpadding-top: 3px;\n\t\t\t\t\t\tpadding-bottom: 3px;\n\n\t\t\t\t\t\t&:focus, &:focus-visible {\n\t\t\t\t\t\t\toutline: none;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t&:focus-within {\n\t\t\t\t\t\toutline: 2px solid var(--color-border-dark);\n\t\t\t\t\t\tborder-radius: 3px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.card-menu {\n\t\t\t\theight: 44px;\n\t\t\t\talign-self: end;\n\t\t\t}\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-invalid-position-at-import-rule */\n\t\t@import './../../css/labels';\n\n\t\t.card-controls {\n\t\t\tdisplay: flex;\n\t\t}\n\t\t&.card__editable .card-controls {\n\t\t\tmargin-right: 0;\n\t\t}\n\t\t&.card__archived {\n\t\t\tbackground-color: var(--color-background-dark);\n\t\t}\n\t\t.card-labels {\n\t\t\tdisplay: flex;\n\t\t\talign-items: end;\n\t\t\tmargin-bottom: var(--default-grid-baseline);\n\n\t\t\t.labels {\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\talign-self: flex-start;\n\t\t\t}\n\t\t}\n\t}\n\n\t.right {\n\t\tdisplay: flex;\n\t\talign-items: flex-start;\n\t}\n\n\t.card-related {\n\t\tdisplay: flex;\n\t\tpadding: 12px;\n\t\tpadding-bottom: 0px;\n\t\tcolor: var(--color-text-maxcontrast);\n\n\t\t.board-bullet {\n\t\t\tdisplay: inline-block;\n\t\t\twidth: 12px;\n\t\t\theight: 12px;\n\t\t\tborder: none;\n\t\t\tborder-radius: 50%;\n\t\t\tbackground-color: transparent;\n\t\t\tmargin-top: 4px;\n\t\t\tmargin-right: 4px;\n\t\t}\n\t}\n\n\t.compact {\n\t\tmin-height: 44px;\n\n\t\t.duedate {\n\t\t\tmargin-right: 0;\n\t\t\tdisplay: flex;\n\t\t\theight: 32px;\n\t\t\twidth: 32px;\n\t\t\tmargin-top: 6px;\n\t\t}\n\t\t&.has-labels {\n\t\t\tpadding-bottom: $card-padding;\n\t\t}\n\t\t.labels {\n\t\t\theight: 6px;\n\t\t\tmargin-top: -7px;\n\t\t\tmargin-bottom: 3px;\n\t\t}\n\t\t.labels li {\n\t\t\twidth: 30px;\n\t\t\theight: 6px;\n\t\t\tfont-size: 0;\n\t\t\tcolor: transparent;\n\t\t}\n\t\t.card-menu {\n\t\t\talign-self: start !important;\n\t\t}\n\t}\n\n\t@media (prefers-color-scheme: dark) {\n\t\t.card {\n\t\t\t@include dark-card;\n\t\t}\n\t}\n\n\t@media print {\n\t\t.card-menu {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardItem.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardItem.vue?vue&type=style&index=0&id=9aacc27e&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardItem.vue?vue&type=style&index=0&id=9aacc27e&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardItem.vue?vue&type=template&id=9aacc27e&scoped=true\"\nimport script from \"./CardItem.vue?vue&type=script&lang=js\"\nexport * from \"./CardItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardItem.vue?vue&type=style&index=0&id=9aacc27e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9aacc27e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('AttachmentDragAndDrop',{staticClass:\"drop-upload--card\",attrs:{\"card-id\":_vm.card.id}},[_c('div',{ref:`card${_vm.card.id}`,staticClass:\"card\",class:{'compact': _vm.compactMode, 'current-card': _vm.currentCard, 'has-labels': _vm.card.labels && _vm.card.labels.length > 0, 'card__editable': _vm.canEdit, 'card__archived': _vm.card.archived },attrs:{\"tag\":\"div\",\"tabindex\":0},on:{\"click\":_vm.openCard,\"keyup\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.handleCardKeyboardShortcut.apply(null, arguments)},\"mouseenter\":function($event){return _vm.focus(_vm.card.id)}}},[(_vm.standalone)?_c('div',{staticClass:\"card-related\"},[_c('div',{staticClass:\"board-bullet\",style:({backgroundColor: '#' + _vm.board.color}),attrs:{\"dir\":\"auto\"}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.board.title)+\" » \"+_vm._s(_vm.stack.title)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showCardCover)?_c('CardCover',{attrs:{\"card-id\":_vm.card.id}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"card-upper\"},[(_vm.inlineEditingBlocked)?_c('h3',{attrs:{\"dir\":\"auto\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.card.title)+\"\\n\\t\\t\\t\")]):_c('h3',{staticClass:\"editable\",attrs:{\"dir\":\"auto\",\"aria-label\":_vm.t('deck', 'Edit card title')}},[_c('span',{ref:\"titleContentEditable\",attrs:{\"tabindex\":\"0\",\"contenteditable\":\"true\",\"role\":\"textbox\"},on:{\"focus\":_vm.onTitleFocus,\"blur\":_vm.onTitleBlur,\"click\":function($event){$event.stopPropagation();},\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.cancelEdit.apply(null, arguments)},function($event){$event.stopPropagation();}]}},[_vm._v(_vm._s(_vm.card.title))])]),_vm._v(\" \"),(_vm.compactMode)?_c('DueDate',{attrs:{\"card\":_vm.card}}):_vm._e(),_vm._v(\" \"),(_vm.showMenuAtTitle)?_c('CardMenu',{staticClass:\"right card-menu\",attrs:{\"card\":_vm.card}}):_vm._e()],1),_vm._v(\" \"),(_vm.hasLabels)?_c('div',{staticClass:\"card-labels\"},[(_vm.card.labels && _vm.card.labels.length)?_c('transition-group',{staticClass:\"labels\",attrs:{\"name\":\"zoom\",\"tag\":\"ul\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openCard.apply(null, arguments)}}},_vm._l((_vm.labelsSorted),function(label){return _c('li',{key:label?.id ?? label?.title,style:(_vm.labelStyle(label))},[_c('span',{on:{\"click\":function($event){$event.stopPropagation();return _vm.applyLabelFilter(label)}}},[_vm._v(_vm._s(label.title))])])}),0):_vm._e(),_vm._v(\" \"),(_vm.showMenuAtLabels)?_c('CardMenu',{staticClass:\"right\",attrs:{\"card\":_vm.card}}):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.hasBadges)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.compactMode),expression:\"!compactMode\"}],staticClass:\"card-controls compact-item\",on:{\"click\":_vm.openCard}},[_c('CardBadges',{attrs:{\"card\":_vm.card}},[(_vm.showMenuAtBadges)?_c('CardMenu',{staticClass:\"right\",attrs:{\"card\":_vm.card}}):_vm._e()],1)],1):_vm._e()],1)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  - @author Jakob Röhrl <jakob.roehrl@web.de>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div class=\"stack\" :data-cy-stack=\"stack.title\">\n\t\t<div v-click-outside=\"stopCardCreation\"\n\t\t\tclass=\"stack__header\"\n\t\t\t:class=\"{'stack__header--add': showAddCard}\"\n\t\t\t:aria-label=\"stack.title\">\n\t\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t\t<h3 v-if=\"!canManage || isArchived\" tabindex=\"0\">\n\t\t\t\t\t{{ stack.title }}\n\t\t\t\t</h3>\n\t\t\t\t<h3 v-else-if=\"!editing\"\n\t\t\t\t\ttitle=\"stack.title\"\n\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t:aria-label=\"stack.title\"\n\t\t\t\t\tclass=\"stack__title\"\n\t\t\t\t\t@click=\"startEditing(stack)\"\n\t\t\t\t\t@keydown.enter=\"startEditing(stack)\">\n\t\t\t\t\t{{ stack.title }}\n\t\t\t\t</h3>\n\t\t\t\t<form v-else-if=\"editing\"\n\t\t\t\t\tv-click-outside=\"cancelEdit\"\n\t\t\t\t\tdata-cy=\"editStackTitleForm\"\n\t\t\t\t\t@submit.prevent=\"finishedEdit(stack)\"\n\t\t\t\t\t@keyup.esc=\"cancelEdit\">\n\t\t\t\t\t<input v-model=\"copiedStack.title\"\n\t\t\t\t\t\tv-focus\n\t\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\trequired=\"required\">\n\t\t\t\t\t<input title=\"t('deck', 'Edit list title')\"\n\t\t\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvalue=\"\">\n\t\t\t\t</form>\n\t\t\t</transition>\n\t\t\t<NcActions v-if=\"canManage && !isArchived\" :force-menu=\"true\">\n\t\t\t\t<NcActionButton v-if=\"!showArchived\" icon=\"icon-archive\" @click=\"modalArchivAllCardsShow=true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ArchiveIcon decorative />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('deck', 'Archive all cards') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton v-if=\"showArchived\" @click=\"modalArchivAllCardsShow=true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ArchiveIcon decorative />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('deck', 'Unarchive all cards') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton icon=\"icon-delete\" @click=\"deleteStack(stack)\">\n\t\t\t\t\t{{ t('deck', 'Delete list') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t\t<NcActions v-if=\"canEdit && !showArchived && !isArchived\">\n\t\t\t\t<NcActionButton icon=\"icon-add\" data-cy=\"action:add-card\" @click.stop=\"showAddCard=true\">\n\t\t\t\t\t{{ t('deck', 'Add card') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t</div>\n\n\t\t<NcModal v-if=\"modalArchivAllCardsShow\" @close=\"modalArchivAllCardsShow=false\">\n\t\t\t<div class=\"modal__content\">\n\t\t\t\t<h3 v-if=\"!showArchived\">\n\t\t\t\t\t{{ t('deck', 'Archive all cards in this list') }}\n\t\t\t\t</h3>\n\t\t\t\t<h3 v-else>\n\t\t\t\t\t{{ t('deck', 'Unarchive all cards in this list') }}\n\t\t\t\t</h3>\n\n\t\t\t\t<progress :value=\"stackTransfer.current\" :max=\"stackTransfer.total\" />\n\t\t\t\t<button v-if=\"!showArchived\" class=\"primary\" @click=\"setArchivedToAllCardsFromStack(stack, !showArchived)\">\n\t\t\t\t\t{{ t('deck', 'Archive all cards') }}\n\t\t\t\t</button>\n\t\t\t\t<button v-else class=\"primary\" @click=\"setArchivedToAllCardsFromStack(stack, !showArchived)\">\n\t\t\t\t\t{{ t('deck', 'Unarchive all cards') }}\n\t\t\t\t</button>\n\t\t\t\t<button @click=\"modalArchivAllCardsShow=false\">\n\t\t\t\t\t{{ t('deck', 'Cancel') }}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</NcModal>\n\n\t\t<transition name=\"slide-top\" appear>\n\t\t\t<div v-if=\"showAddCard\" class=\"stack__card-add\">\n\t\t\t\t<form :class=\"{ 'icon-loading-small': stateCardCreating }\"\n\t\t\t\t\t@submit.prevent.stop=\"clickAddCard()\">\n\t\t\t\t\t<label for=\"new-stack-input-main\" class=\"hidden-visually\">{{ t('deck', 'Add a new card') }}</label>\n\t\t\t\t\t<input id=\"new-stack-input-main\"\n\t\t\t\t\t\tref=\"newCardInput\"\n\t\t\t\t\t\tv-model=\"newCardTitle\"\n\t\t\t\t\t\tv-focus\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclass=\"no-close\"\n\t\t\t\t\t\t:disabled=\"stateCardCreating\"\n\t\t\t\t\t\t:placeholder=\"t('deck', 'Card name')\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tpattern=\".*\\S+.*\"\n\t\t\t\t\t\t@keydown.esc=\"stopCardCreation\">\n\t\t\t\t\t<input v-show=\"!stateCardCreating\"\n\t\t\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvalue=\"\">\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</transition>\n\n\t\t<Container :get-child-payload=\"payloadForCard(stack.id)\"\n\t\t\tgroup-name=\"stack\"\n\t\t\tdata-click-closes-sidebar=\"true\"\n\t\t\tnon-drag-area-selector=\".dragDisabled\"\n\t\t\t:drag-handle-selector=\"dragHandleSelector\"\n\t\t\tdata-dragscroll-enabled\n\t\t\t@should-accept-drop=\"canEdit\"\n\t\t\t@drag-start=\"draggingCard = true\"\n\t\t\t@drag-end=\"draggingCard = false\"\n\t\t\t@drop=\"($event) => onDropCard(stack.id, $event)\">\n\t\t\t<Draggable v-for=\"card in cardsByStack\" :key=\"card.id\">\n\t\t\t\t<transition :appear=\"animate && !card.animated && (card.animated=true)\"\n\t\t\t\t\t:appear-class=\"'zoom-appear-class'\"\n\t\t\t\t\t:appear-active-class=\"'zoom-appear-active-class'\">\n\t\t\t\t\t<CardItem :id=\"card.id\" :dragging=\"draggingCard\" />\n\t\t\t\t</transition>\n\t\t\t</Draggable>\n\t\t</Container>\n\t</div>\n</template>\n\n<script>\nimport ClickOutside from 'vue-click-outside'\nimport { mapGetters, mapState } from 'vuex'\nimport { Container, Draggable } from 'vue-smooth-dnd'\nimport ArchiveIcon from 'vue-material-design-icons/Archive.vue'\nimport { NcActions, NcActionButton, NcModal } from '@nextcloud/vue'\nimport { showError, showUndo } from '@nextcloud/dialogs'\n\nimport CardItem from '../cards/CardItem.vue'\n\nimport '@nextcloud/dialogs/style.css'\n\nexport default {\n\tname: 'Stack',\n\tcomponents: {\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tCardItem,\n\t\tContainer,\n\t\tDraggable,\n\t\tNcModal,\n\t\tArchiveIcon,\n\t},\n\tdirectives: {\n\t\tClickOutside,\n\t},\n\tprops: {\n\t\tdragging: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tstack: {\n\t\t\ttype: Object,\n\t\t\tdefault: undefined,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tediting: false,\n\t\t\tdraggingCard: false,\n\t\t\tcopiedStack: '',\n\t\t\tnewCardTitle: '',\n\t\t\tshowAddCard: false,\n\t\t\tstateCardCreating: false,\n\t\t\tanimate: false,\n\t\t\tmodalArchivAllCardsShow: false,\n\t\t\tstackTransfer: {\n\t\t\t\ttotal: 0,\n\t\t\t\tcurrent: null,\n\t\t\t},\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'canManage',\n\t\t\t'canEdit',\n\t\t\t'isArchived',\n\t\t]),\n\t\t...mapState({\n\t\t\tshowArchived: state => state.showArchived,\n\t\t}),\n\t\tcardsByStack() {\n\t\t\treturn this.$store.getters.cardsByStack(this.stack.id).filter((card) => {\n\t\t\t\tif (this.showArchived) {\n\t\t\t\t\treturn card.archived\n\t\t\t\t}\n\t\t\t\treturn !card.archived\n\t\t\t})\n\t\t},\n\t\tdragHandleSelector() {\n\t\t\treturn this.canEdit && !this.showArchived ? null : '.no-drag'\n\t\t},\n\t\tcardDetailsInModal: {\n\t\t\tget() {\n\t\t\t\treturn this.$store.getters.config('cardDetailsInModal')\n\t\t\t},\n\t\t\tset(newValue) {\n\t\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: newValue })\n\t\t\t},\n\t\t},\n\t},\n\n\tmethods: {\n\t\tstopCardCreation(e) {\n\t\t\t// For some reason the submit event triggers a MouseEvent that is bubbling to the outside\n\t\t\t// so we have to ignore it\n\t\t\te.stopPropagation()\n\t\t\tif (this.$refs.newCardInput && this.$refs.newCardInput.parentElement === e.target.parentElement) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tthis.showAddCard = false\n\t\t\treturn false\n\t\t},\n\t\tasync onDropCard(stackId, event) {\n\t\t\tconst { addedIndex, removedIndex, payload } = event\n\t\t\tconst card = Object.assign({}, payload)\n\t\t\tif (this.stack.id === stackId) {\n\t\t\t\tif (addedIndex !== null && removedIndex === null) {\n\t\t\t\t\t// move card to new stack\n\t\t\t\t\tcard.stackId = stackId\n\t\t\t\t\tcard.order = addedIndex\n\t\t\t\t\tconsole.debug('move card to stack', card.stackId, card.order)\n\t\t\t\t\tawait this.$store.dispatch('reorderCard', card)\n\t\t\t\t}\n\t\t\t\tif (addedIndex !== null && removedIndex !== null) {\n\t\t\t\t\tcard.order = addedIndex\n\t\t\t\t\tconsole.debug('move card in stack', card.stackId, card.order)\n\t\t\t\t\tawait this.$store.dispatch('reorderCard', card)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tpayloadForCard(stackId) {\n\t\t\treturn index => {\n\t\t\t\treturn this.cardsByStack[index]\n\t\t\t}\n\t\t},\n\t\tdeleteStack(stack) {\n\t\t\tthis.$store.dispatch('deleteStack', stack)\n\t\t\tshowUndo(t('deck', 'List deleted'), () => this.$store.dispatch('stackUndoDelete', stack))\n\t\t},\n\t\tsetArchivedToAllCardsFromStack(stack, isArchived) {\n\n\t\t\tthis.stackTransfer.total = this.cardsByStack.length\n\t\t\tthis.cardsByStack.forEach((card, index) => {\n\t\t\t\tthis.stackTransfer.current = index\n\t\t\t\tthis.$store.dispatch('archiveUnarchiveCard', { ...card, archived: isArchived })\n\t\t\t})\n\t\t\tthis.modalArchivAllCardsShow = false\n\t\t},\n\t\tstartEditing(stack) {\n\t\t\tif (this.dragging) {\n\t\t\t  return\n\t\t\t}\n\n\t\t\tthis.copiedStack = Object.assign({}, stack)\n\t\t\tthis.editing = true\n\t\t},\n\t\tfinishedEdit(stack) {\n\t\t\tif (this.copiedStack.title !== stack.title) {\n\t\t\t\tthis.$store.dispatch('updateStack', this.copiedStack)\n\t\t\t}\n\t\t\tthis.editing = false\n\t\t},\n\t\tcancelEdit() {\n\t\t\tthis.editing = false\n\t\t},\n\t\tasync clickAddCard() {\n\t\t\tthis.stateCardCreating = true\n\t\t\ttry {\n\t\t\t\tthis.animate = true\n\t\t\t\tconst newCard = await this.$store.dispatch('addCard', {\n\t\t\t\t\ttitle: this.newCardTitle,\n\t\t\t\t\tstackId: this.stack.id,\n\t\t\t\t\tboardId: this.stack.boardId,\n\t\t\t\t})\n\t\t\t\tthis.newCardTitle = ''\n\t\t\t\tthis.showAddCard = true\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$refs.newCardInput.focus()\n\t\t\t\t\tthis.animate = false\n\t\t\t\t})\n\t\t\t\tif (!this.cardDetailsInModal) {\n\t\t\t\t\tthis.$router.push({ name: 'card', params: { cardId: newCard.id } })\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tshowError('Could not create card: ' + e.response.data.message)\n\t\t\t} finally {\n\t\t\t\tthis.stateCardCreating = false\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n\t@use 'sass:math';\n\n\t@import './../../css/variables';\n\n\t.stack {\n\t\twidth: $stack-width + $stack-spacing * 3;\n\t}\n\n\t.stack__header {\n\t\tdisplay: flex;\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tz-index: 100;\n\t\tpadding-left: $card-spacing;\n\t\tpadding-right: $card-spacing;\n\t\tcursor: grab;\n\t\tmin-height: 44px;\n\n\t\t// Smooth fade out of the cards at the top\n\t\t&:before {\n\t\t\tcontent: ' ';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\twidth: calc(100% - 16px);\n\t\t\theight: 20px;\n\t\t\ttop: 30px;\n\t\t\tleft: 0px;\n\t\t\tz-index: 99;\n\t\t\ttransition: top var(--animation-slow);\n\n\t\t\tbackground-image: linear-gradient(180deg, var(--color-main-background) 3px, rgba(255, 255, 255, 0) 100%);\n\t\t\tbody.theme--dark & {\n\t\t\t\tbackground-image: linear-gradient(180deg, var(--color-main-background) 3px, rgba(0, 0, 0, 0) 100%);\n\t\t\t}\n\t\t}\n\n\t\t&--add:before {\n\t\t\theight: 80px;\n\t\t\tbackground-image: linear-gradient(180deg, var(--color-main-background) 68px, rgba(255, 255, 255, 0) 100%);\n\t\t\tbody.theme--dark & {\n\t\t\t\tbackground-image: linear-gradient(180deg, var(--color-main-background) 68px, rgba(0, 0, 0, 0) 100%);\n\t\t\t}\n\t\t}\n\n\t\t& > * {\n\t\t\tposition: relative;\n\t\t\tz-index: 100;\n\t\t}\n\n\t\th3, form {\n\t\t\tflex-grow: 1;\n\t\t\tdisplay: flex;\n\t\t\tcursor: inherit;\n\t\t\tmargin: 0;\n\n\t\t\tinput[type=text] {\n\t\t\t\tflex-grow: 1;\n\t\t\t}\n\t\t}\n\n\t\th3.stack__title {\n\t\t\twhite-space: nowrap;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tmax-width: calc($stack-width - 60px);\n\t\t\tborder-radius: 3px;\n\t\t\tmargin: 6px;\n\t\t\tpadding: 4px 4px;\n\n\t\t\t&:focus-visible {\n\t\t\t\toutline: 2px solid var(--color-border-dark);\n\t\t\t\tborder-radius: 3px;\n\t\t\t}\n\t\t}\n\n\t\tform {\n\t\t\tmargin: 2px 0;\n\t\t}\n\t}\n\n\t.stack__card-add {\n\t\theight: 44px;\n\t\tflex-shrink: 0;\n\t\tz-index: 100;\n\t\tdisplay: flex;\n\t\tmargin-top: 5px;\n\t\tmargin-bottom: 8px;\n\t\tbackground-color: var(--color-main-background);\n\n\t\tform {\n\t\t\tdisplay: flex;\n\t\t\tmargin-left: 12px;\n\t\t\tmargin-right: 12px;\n\t\t\twidth: 100%;\n\t\t\tborder: 2px solid var(--color-border);\n\t\t\tborder-radius: var(--border-radius-large);\n\t\t\toverflow: hidden;\n\t\t\tpadding: 2px;\n\t\t}\n\n\t\t&.icon-loading-small:after,\n\t\t&.icon-loading-small-dark:after {\n\t\t\tmargin-left: calc(50% - 25px);\n\t\t}\n\n\t\tinput[type=text] {\n\t\t\tflex-grow: 1;\n\t\t}\n\n\t\tinput {\n\t\t\tborder: none;\n\t\t}\n\t}\n\n\t/**\n\t * Rules to handle scrolling behaviour are inherited from Board.vue\n\t */\n\n\t.slide-top-enter-active,\n\t.slide-top-leave-active {\n\t\ttransition: all 100ms ease;\n\t}\n\n\t.slide-top-enter, .slide-top-leave-to {\n\t\ttransform: translateY(-10px);\n\t\topacity: 0;\n\t\theight: 0px;\n\t}\n\n\t.modal__content {\n\t\twidth: 25vw;\n\t\tmin-width: 250px;\n\t\tmin-height: 100px;\n\t\ttext-align: center;\n\t\tmargin: 20px 20px 20px 20px;\n\t}\n\n\t.modal__content button {\n\t\tfloat: right;\n\t}\n\n\tprogress {\n\t\tmargin-top: 3px;\n\t\tmargin-bottom: 30px;\n\t}\n\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stack.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stack.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stack.vue?vue&type=style&index=0&id=3a502c33&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stack.vue?vue&type=style&index=0&id=3a502c33&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Stack.vue?vue&type=template&id=3a502c33&scoped=true\"\nimport script from \"./Stack.vue?vue&type=script&lang=js\"\nexport * from \"./Stack.vue?vue&type=script&lang=js\"\nimport style0 from \"./Stack.vue?vue&type=style&index=0&id=3a502c33&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a502c33\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"stack\",attrs:{\"data-cy-stack\":_vm.stack.title}},[_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.stopCardCreation),expression:\"stopCardCreation\"}],staticClass:\"stack__header\",class:{'stack__header--add': _vm.showAddCard},attrs:{\"aria-label\":_vm.stack.title}},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(!_vm.canManage || _vm.isArchived)?_c('h3',{attrs:{\"tabindex\":\"0\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.stack.title)+\"\\n\\t\\t\\t\")]):(!_vm.editing)?_c('h3',{staticClass:\"stack__title\",attrs:{\"title\":\"stack.title\",\"dir\":\"auto\",\"tabindex\":\"0\",\"aria-label\":_vm.stack.title},on:{\"click\":function($event){return _vm.startEditing(_vm.stack)},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.startEditing(_vm.stack)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.stack.title)+\"\\n\\t\\t\\t\")]):(_vm.editing)?_c('form',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.cancelEdit),expression:\"cancelEdit\"}],attrs:{\"data-cy\":\"editStackTitleForm\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.finishedEdit(_vm.stack)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.cancelEdit.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.copiedStack.title),expression:\"copiedStack.title\"},{name:\"focus\",rawName:\"v-focus\"}],attrs:{\"dir\":\"auto\",\"type\":\"text\",\"required\":\"required\"},domProps:{\"value\":(_vm.copiedStack.title)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.copiedStack, \"title\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"title\":\"t('deck', 'Edit list title')\",\"type\":\"submit\",\"value\":\"\"}})]):_vm._e()]),_vm._v(\" \"),(_vm.canManage && !_vm.isArchived)?_c('NcActions',{attrs:{\"force-menu\":true}},[(!_vm.showArchived)?_c('NcActionButton',{attrs:{\"icon\":\"icon-archive\"},on:{\"click\":function($event){_vm.modalArchivAllCardsShow=true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"decorative\":\"\"}})]},proxy:true}],null,false,2570557878)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Archive all cards'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showArchived)?_c('NcActionButton',{on:{\"click\":function($event){_vm.modalArchivAllCardsShow=true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"decorative\":\"\"}})]},proxy:true}],null,false,2570557878)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Unarchive all cards'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\"},on:{\"click\":function($event){return _vm.deleteStack(_vm.stack)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Delete list'))+\"\\n\\t\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),(_vm.canEdit && !_vm.showArchived && !_vm.isArchived)?_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-add\",\"data-cy\":\"action:add-card\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showAddCard=true}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Add card'))+\"\\n\\t\\t\\t\")])],1):_vm._e()],1),_vm._v(\" \"),(_vm.modalArchivAllCardsShow)?_c('NcModal',{on:{\"close\":function($event){_vm.modalArchivAllCardsShow=false}}},[_c('div',{staticClass:\"modal__content\"},[(!_vm.showArchived)?_c('h3',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Archive all cards in this list'))+\"\\n\\t\\t\\t\")]):_c('h3',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Unarchive all cards in this list'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('progress',{attrs:{\"max\":_vm.stackTransfer.total},domProps:{\"value\":_vm.stackTransfer.current}}),_vm._v(\" \"),(!_vm.showArchived)?_c('button',{staticClass:\"primary\",on:{\"click\":function($event){return _vm.setArchivedToAllCardsFromStack(_vm.stack, !_vm.showArchived)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Archive all cards'))+\"\\n\\t\\t\\t\")]):_c('button',{staticClass:\"primary\",on:{\"click\":function($event){return _vm.setArchivedToAllCardsFromStack(_vm.stack, !_vm.showArchived)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Unarchive all cards'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.modalArchivAllCardsShow=false}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Cancel'))+\"\\n\\t\\t\\t\")])])]):_vm._e(),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide-top\",\"appear\":\"\"}},[(_vm.showAddCard)?_c('div',{staticClass:\"stack__card-add\"},[_c('form',{class:{ 'icon-loading-small': _vm.stateCardCreating },on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.clickAddCard()}}},[_c('label',{staticClass:\"hidden-visually\",attrs:{\"for\":\"new-stack-input-main\"}},[_vm._v(_vm._s(_vm.t('deck', 'Add a new card')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newCardTitle),expression:\"newCardTitle\"},{name:\"focus\",rawName:\"v-focus\"}],ref:\"newCardInput\",staticClass:\"no-close\",attrs:{\"id\":\"new-stack-input-main\",\"type\":\"text\",\"disabled\":_vm.stateCardCreating,\"placeholder\":_vm.t('deck', 'Card name'),\"required\":\"\",\"pattern\":\".*\\\\S+.*\"},domProps:{\"value\":(_vm.newCardTitle)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.stopCardCreation.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.newCardTitle=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.stateCardCreating),expression:\"!stateCardCreating\"}],staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"value\":\"\"}})])]):_vm._e()]),_vm._v(\" \"),_c('Container',{attrs:{\"get-child-payload\":_vm.payloadForCard(_vm.stack.id),\"group-name\":\"stack\",\"data-click-closes-sidebar\":\"true\",\"non-drag-area-selector\":\".dragDisabled\",\"drag-handle-selector\":_vm.dragHandleSelector,\"data-dragscroll-enabled\":\"\"},on:{\"should-accept-drop\":_vm.canEdit,\"drag-start\":function($event){_vm.draggingCard = true},\"drag-end\":function($event){_vm.draggingCard = false},\"drop\":($event) => _vm.onDropCard(_vm.stack.id, $event)}},_vm._l((_vm.cardsByStack),function(card){return _c('Draggable',{key:card.id},[_c('transition',{attrs:{\"appear\":_vm.animate && !card.animated && (card.animated=true),\"appear-class\":'zoom-appear-class',\"appear-active-class\":'zoom-appear-active-class'}},[_c('CardItem',{attrs:{\"id\":card.id,\"dragging\":_vm.draggingCard}})],1)],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.searchQuery!=='')?_c('div',{staticClass:\"global-search\"},[_c('h2',[_c('NcRichText',{attrs:{\"text\":_vm.t('deck', 'Search for {searchQuery} in all boards'),\"arguments\":_vm.queryStringArgs}}),_vm._v(\" \"),(_vm.loading)?_c('div',{staticClass:\"icon-loading-small\"}):_vm._e()],1),_vm._v(\" \"),_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-close\"},on:{\"click\":function($event){return _vm.$store.commit('setSearchQuery', '')}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-wrapper\"},[(_vm.loading || _vm.filteredResults.length > 0)?_c('div',{staticClass:\"search-results\"},[_vm._l((_vm.filteredResults),function(card){return _c('CardItem',{key:card.id,attrs:{\"id\":card.id,\"standalone\":true}})}),_vm._v(\" \"),(_vm.loading)?_c('Placeholder'):_vm._e(),_vm._v(\" \"),_c('InfiniteLoading',{attrs:{\"identifier\":_vm.searchQuery},on:{\"infinite\":_vm.infiniteHandler}},[_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'No results found'))+\"\\n\\t\\t\\t\\t\")])])],2):_c('div',[_c('p',[_vm._v(_vm._s(_vm.t('deck', 'No results found')))])])])],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"card--placeholder\">\n\t\t<svg class=\"card-placeholder__gradient\">\n\t\t\t<defs>\n\t\t\t\t<linearGradient id=\"card-placeholder__gradient\">\n\t\t\t\t\t<stop offset=\"0%\" :stop-color=\"light\">\n\t\t\t\t\t\t<animate attributeName=\"stop-color\"\n\t\t\t\t\t\t\t:values=\"`${light}; ${light}; ${dark}; ${dark}; ${light}`\"\n\t\t\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\t\t\trepeatCount=\"indefinite\" />\n\t\t\t\t\t</stop>\n\t\t\t\t\t<stop offset=\"100%\" :stop-color=\"dark\">\n\t\t\t\t\t\t<animate attributeName=\"stop-color\"\n\t\t\t\t\t\t\t:values=\"`${dark}; ${light}; ${light}; ${dark}; ${dark}`\"\n\t\t\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\t\t\trepeatCount=\"indefinite\" />\n\t\t\t\t\t</stop>\n\t\t\t\t</linearGradient>\n\t\t\t</defs>\n\t\t</svg>\n\t\t<svg class=\"card-placeholder__placeholder\"\n\t\t\t:class=\"{ 'standalone': standalone }\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tfill=\"url(#card-placeholder__gradient)\">\n\t\t\t<rect class=\"card-placeholder__placeholder-line-header\" :style=\"{width: `calc(${randWidth()}%)`}\" />\n\t\t\t<rect class=\"card-placeholder__placeholder-line-one\" />\n\t\t\t<rect class=\"card-placeholder__placeholder-line-two\" :style=\"{width: `calc(${randWidth()}%)`}\" />\n\t\t</svg>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'Placeholder',\n\tdata() {\n\t\treturn {\n\t\t\tlight: null,\n\t\t\tdark: null,\n\t\t\tstandalone: true,\n\t\t}\n\t},\n\tmounted() {\n\t\tconst styles = getComputedStyle(document.documentElement)\n\t\tthis.dark = styles.getPropertyValue('--color-placeholder-dark')\n\t\tthis.light = styles.getPropertyValue('--color-placeholder-light')\n\t},\n\n\tmethods: {\n\t\trandWidth() {\n\t\t\treturn Math.floor(Math.random() * 20) + 40\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../css/variables';\n$clickable-area: 44px;\n\n.card--placeholder {\n\twidth: $stack-width;\n\tmargin-right: $stack-spacing;\n\tpadding: $card-padding;\n\ttransition: box-shadow 0.1s ease-in-out;\n\tbox-shadow: 0 0 2px 0 var(--color-box-shadow);\n\tborder-radius: var(--border-radius-large);\n\tfont-size: 100%;\n\tmargin-bottom: $card-spacing;\n\theight: 100px;\n}\n\n.card-placeholder__gradient {\n\tposition: fixed;\n\theight: 0;\n\twidth: 0;\n\tz-index: -1;\n}\n\n.card-placeholder__placeholder {\n\twidth: 100%;\n\t&-line-header,\n\t&-line-one,\n\t&-line-two {\n\t\twidth: 100%;\n\t\theight: 1em;\n\t\tx: 0;\n\t}\n\t&-line-header {\n\t\tvisibility: hidden;\n\t}\n\t&-line-one {\n\t\ty: 5px;\n\t}\n\n\t&-line-two {\n\t\ty: 25px;\n\t}\n\n\t&.standalone {\n\t\t.card-placeholder__placeholder-line-header {\n\t\t\tvisibility: visible;\n\t\t\ty: 5px;\n\t\t}\n\t\t.card-placeholder__placeholder-line-one {\n\t\t\ty: 40px;\n\t\t}\n\n\t\t.card-placeholder__placeholder-line-two {\n\t\t\ty: 60px;\n\t\t}\n\t}\n}\n\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Placeholder.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Placeholder.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Placeholder.vue?vue&type=style&index=0&id=43bfbf02&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Placeholder.vue?vue&type=style&index=0&id=43bfbf02&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Placeholder.vue?vue&type=template&id=43bfbf02&scoped=true\"\nimport script from \"./Placeholder.vue?vue&type=script&lang=js\"\nexport * from \"./Placeholder.vue?vue&type=script&lang=js\"\nimport style0 from \"./Placeholder.vue?vue&type=style&index=0&id=43bfbf02&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43bfbf02\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card--placeholder\"},[_c('svg',{staticClass:\"card-placeholder__gradient\"},[_c('defs',[_c('linearGradient',{attrs:{\"id\":\"card-placeholder__gradient\"}},[_c('stop',{attrs:{\"offset\":\"0%\",\"stop-color\":_vm.light}},[_c('animate',{attrs:{\"attributeName\":\"stop-color\",\"values\":`${_vm.light}; ${_vm.light}; ${_vm.dark}; ${_vm.dark}; ${_vm.light}`,\"dur\":\"2s\",\"repeatCount\":\"indefinite\"}})]),_vm._v(\" \"),_c('stop',{attrs:{\"offset\":\"100%\",\"stop-color\":_vm.dark}},[_c('animate',{attrs:{\"attributeName\":\"stop-color\",\"values\":`${_vm.dark}; ${_vm.light}; ${_vm.light}; ${_vm.dark}; ${_vm.dark}`,\"dur\":\"2s\",\"repeatCount\":\"indefinite\"}})])],1)],1)]),_vm._v(\" \"),_c('svg',{staticClass:\"card-placeholder__placeholder\",class:{ 'standalone': _vm.standalone },attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"url(#card-placeholder__gradient)\"}},[_c('rect',{staticClass:\"card-placeholder__placeholder-line-header\",style:({width: `calc(${_vm.randWidth()}%)`})}),_vm._v(\" \"),_c('rect',{staticClass:\"card-placeholder__placeholder-line-one\"}),_vm._v(\" \"),_c('rect',{staticClass:\"card-placeholder__placeholder-line-two\",style:({width: `calc(${_vm.randWidth()}%)`})})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2021 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div v-if=\"searchQuery!==''\" class=\"global-search\">\n\t\t<h2>\n\t\t\t<NcRichText :text=\"t('deck', 'Search for {searchQuery} in all boards')\" :arguments=\"queryStringArgs\" />\n\t\t\t<div v-if=\"loading\" class=\"icon-loading-small\" />\n\t\t</h2>\n\t\t<NcActions>\n\t\t\t<NcActionButton icon=\"icon-close\" @click=\"$store.commit('setSearchQuery', '')\" />\n\t\t</NcActions>\n\t\t<div class=\"search-wrapper\">\n\t\t\t<div v-if=\"loading || filteredResults.length > 0\" class=\"search-results\">\n\t\t\t\t<CardItem v-for=\"card in filteredResults\"\n\t\t\t\t\t:id=\"card.id\"\n\t\t\t\t\t:key=\"card.id\"\n\t\t\t\t\t:standalone=\"true\" />\n\t\t\t\t<Placeholder v-if=\"loading\" />\n\t\t\t\t<InfiniteLoading :identifier=\"searchQuery\" @infinite=\"infiniteHandler\">\n\t\t\t\t\t<div slot=\"spinner\" />\n\t\t\t\t\t<div slot=\"no-more\" />\n\t\t\t\t\t<div slot=\"no-results\">\n\t\t\t\t\t\t{{ t('deck', 'No results found') }}\n\t\t\t\t\t</div>\n\t\t\t\t</InfiniteLoading>\n\t\t\t</div>\n\t\t\t<div v-else>\n\t\t\t\t<p>{{ t('deck', 'No results found') }}</p>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport CardItem from '../cards/CardItem.vue'\nimport { mapState } from 'vuex'\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\nimport InfiniteLoading from 'vue-infinite-loading'\nimport Placeholder from './Placeholder.vue'\nimport { NcActions, NcActionButton, NcRichText } from '@nextcloud/vue'\n\nconst createCancelToken = () => axios.CancelToken.source()\n\n/**\n * @param root0\n * @param root0.query\n * @param root0.cursor\n */\nfunction search({ query, cursor }) {\n\tconst cancelToken = createCancelToken()\n\n\tconst request = async () => axios.get(generateOcsUrl('apps/deck/api/v1.0/search'), {\n\t\tcancelToken: cancelToken.token,\n\t\tparams: {\n\t\t\tterm: query,\n\t\t\tlimit: 20,\n\t\t\tcursor,\n\t\t},\n\t})\n\n\treturn {\n\t\trequest,\n\t\tcancel: cancelToken.cancel,\n\t}\n}\n\nexport default {\n\tname: 'GlobalSearchResults',\n\tcomponents: { CardItem, InfiniteLoading, NcRichText, Placeholder, NcActions, NcActionButton },\n\tdata() {\n\t\treturn {\n\t\t\tresults: [],\n\t\t\tcancel: null,\n\t\t\tloading: false,\n\t\t\tcursor: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tsearchQuery: state => state.searchQuery,\n\t\t}),\n\t\tfilteredResults() {\n\t\t\tconst sortFn = (a, b) => a.archived - b.archived || b.lastModified - a.lastModified\n\t\t\tif (this.$route.params.id) {\n\t\t\t\treturn this.results.filter((result) => result.relatedBoard.id.toString() !== this.$route.params.id.toString()).sort(sortFn)\n\t\t\t}\n\t\t\treturn [...this.results].sort(sortFn)\n\t\t},\n\t\tqueryStringArgs() {\n\t\t\treturn {\n\t\t\t\tsearchQuery: this.searchQuery,\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\tasync searchQuery() {\n\t\t\tthis.cursor = null\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tawait this.search()\n\t\t\t\tthis.loading = false\n\t\t\t} catch (e) {\n\t\t\t\tif (!axios.isCancel(e)) {\n\t\t\t\t\tconsole.error('Search request failed', e)\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\tasync infiniteHandler($state) {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tconst data = await this.search()\n\t\t\t\tif (data.length) {\n\t\t\t\t\t$state.loaded()\n\t\t\t\t} else {\n\t\t\t\t\t$state.complete()\n\t\t\t\t}\n\t\t\t\tthis.loading = false\n\t\t\t} catch (e) {\n\t\t\t\tif (!axios.isCancel(e)) {\n\t\t\t\t\tconsole.error('Search request failed', e)\n\t\t\t\t\t$state.complete()\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync search() {\n\t\t\tif (this.cancel) {\n\t\t\t\tthis.cancel()\n\t\t\t}\n\t\t\tconst { request, cancel } = await search({ query: this.searchQuery, cursor: this.cursor })\n\t\t\tthis.cancel = cancel\n\t\t\tconst { data } = await request()\n\n\t\t\tif (this.cursor === null) {\n\t\t\t\tthis.results = []\n\t\t\t}\n\t\t\tif (data.ocs.data.length > 0) {\n\t\t\t\tdata.ocs.data.forEach((card) => {\n\t\t\t\t\tthis.$store.dispatch('addCardData', card)\n\t\t\t\t})\n\t\t\t\tthis.results = [...this.results, ...data.ocs.data]\n\t\t\t\tthis.cursor = data.ocs.data[data.ocs.data.length - 1].lastModified\n\t\t\t}\n\t\t\treturn data.ocs.data\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../css/variables';\n\n.global-search {\n\twidth: 100%;\n\tpadding: $board-spacing + $stack-spacing;\n\tpadding-bottom: 0;\n\toverflow: hidden;\n\tmin-height: 35vh;\n\tmax-height: 50vh;\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\tborder-top: 1px solid var(--color-border);\n\tz-index: 1010;\n\tposition: relative;\n\n\t.action-item.icon-close {\n\t\tposition: absolute;\n\t\ttop: 10px;\n\t\tright: 10px;\n\t}\n\t.search-wrapper {\n\t\toverflow: scroll;\n\t\theight: 100%;\n\t\tposition: relative;\n\t\tpadding: 10px;\n\t}\n\n\th2 > div {\n\t\tdisplay: inline-block;\n\n\t\t&.icon-loading-small {\n\t\t\tmargin-right: 20px;\n\t\t}\n\t}\n\th2:deep(span) {\n\t\tbackground-color: var(--color-background-dark);\n\t\tpadding: 3px;\n\t\tborder-radius: var(--border-radius);\n\t}\n\n\t.search-results {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\n\t\t& > div {\n\t\t\tflex-grow: 0;\n\t\t}\n\t}\n\t&:deep(.card) {\n\t\twidth: $stack-width;\n\t\tmargin-right: $stack-spacing;\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSearchResults.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSearchResults.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSearchResults.vue?vue&type=style&index=0&id=7d9e2f4e&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSearchResults.vue?vue&type=style&index=0&id=7d9e2f4e&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./GlobalSearchResults.vue?vue&type=template&id=7d9e2f4e&scoped=true\"\nimport script from \"./GlobalSearchResults.vue?vue&type=script&lang=js\"\nexport * from \"./GlobalSearchResults.vue?vue&type=script&lang=js\"\nimport style0 from \"./GlobalSearchResults.vue?vue&type=style&index=0&id=7d9e2f4e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d9e2f4e\",\n  null\n  \n)\n\nexport default component.exports","<!--\n  - @copyright Copyright (c) 2020 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div v-if=\"copiedCard\">\n\t\t<TagSelector :card=\"card\"\n\t\t\t:labels=\"currentBoard.labels\"\n\t\t\t:disabled=\"!canEdit\"\n\t\t\t@select=\"addLabelToCard\"\n\t\t\t@remove=\"removeLabelFromCard\"\n\t\t\t@newtag=\"addLabelToBoardAndCard\" />\n\n\t\t<AssignmentSelector :card=\"card\"\n\t\t\t:assignables=\"assignables\"\n\t\t\t:can-edit=\"canEdit\"\n\t\t\t@select=\"assignUserToCard\"\n\t\t\t@remove=\"removeUserFromCard\" />\n\n\t\t<DueDateSelector :card=\"card\"\n\t\t\t:can-edit=\"canEdit\"\n\t\t\t@change=\"updateCardDue\"\n\t\t\t@input=\"debouncedUpdateCardDue\" />\n\n\t\t<div v-if=\"projectsEnabled\" class=\"section-wrapper\">\n\t\t\t<CollectionList v-if=\"card.id\"\n\t\t\t\t:id=\"`${card.id}`\"\n\t\t\t\t:name=\"card.title\"\n\t\t\t\ttype=\"deck-card\" />\n\t\t</div>\n\n\t\t<Description :key=\"card.id\"\n\t\t\t:card=\"card\"\n\t\t\t:can-edit=\"canEdit\"\n\t\t\tshow-attachments\n\t\t\t@change=\"descriptionChanged\" />\n\t</div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport moment from '@nextcloud/moment'\nimport { loadState } from '@nextcloud/initial-state'\n\nimport { CollectionList } from 'nextcloud-vue-collections'\nimport Color from '../../mixins/color.js'\nimport {\n\tgetLocale,\n} from '@nextcloud/l10n'\nimport Description from './Description.vue'\nimport TagSelector from './TagSelector.vue'\nimport AssignmentSelector from './AssignmentSelector.vue'\nimport DueDateSelector from './DueDateSelector.vue'\nimport { debounce } from 'lodash'\n\nexport default {\n\tname: 'CardSidebarTabDetails',\n\tcomponents: {\n\t\tDueDateSelector,\n\t\tAssignmentSelector,\n\t\tTagSelector,\n\t\tDescription,\n\t\tCollectionList,\n\t},\n\tmixins: [Color],\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\taddedLabelToCard: null,\n\t\t\tcopiedCard: null,\n\t\t\tlocale: getLocale(),\n\t\t\tprojectsEnabled: loadState('core', 'projects_enabled', false),\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t}),\n\t\t...mapGetters(['canEdit', 'assignables']),\n\t\tcardDetailsInModal: {\n\t\t\tget() {\n\t\t\t\treturn this.$store.getters.config('cardDetailsInModal')\n\t\t\t},\n\t\t\tset(newValue) {\n\t\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: newValue })\n\t\t\t},\n\t\t},\n\t\tlabelsSorted() {\n\t\t\treturn [...this.currentBoard.labels].sort((a, b) => (a.title < b.title) ? -1 : 1)\n\t\t},\n\t},\n\twatch: {\n\t\tcard() {\n\t\t\tthis.initialize()\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.initialize()\n\t},\n\tmethods: {\n\t\tasync descriptionChanged(newDesc) {\n\t\t\tif (newDesc === this.copiedCard.description) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.copiedCard.description = newDesc\n\t\t},\n\t\tasync initialize() {\n\t\t\tif (!this.card) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.copiedCard = JSON.parse(JSON.stringify(this.card))\n\t\t\tlocalStorage.setItem('deck.selectedBoardId', this.currentBoard.id)\n\t\t\tlocalStorage.setItem('deck.selectedStackId', this.card.stackId)\n\t\t},\n\n\t\tassignUserToCard(user) {\n\t\t\tthis.$store.dispatch('assignCardToUser', {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: user.uid,\n\t\t\t\t\ttype: user.type,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\n\t\tremoveUserFromCard(user) {\n\t\t\tthis.$store.dispatch('removeUserFromCard', {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: user.uid,\n\t\t\t\t\ttype: user.type,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\n\t\tupdateCardDue(val) {\n\t\t\tthis.$store.dispatch('updateCardDue', {\n\t\t\t\t...this.copiedCard,\n\t\t\t\tduedate: val ? (new Date(val)).toISOString() : null,\n\t\t\t})\n\t\t},\n\n\t\tdebouncedUpdateCardDue: debounce(function(val) {\n\t\t\tthis.updateCardDue(val)\n\t\t}, 500),\n\n\t\taddLabelToCard(newLabel) {\n\t\t\tthis.copiedCard.labels.push(newLabel)\n\t\t\tconst data = {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tlabelId: newLabel.id,\n\t\t\t}\n\t\t\tthis.$store.dispatch('addLabel', data)\n\t\t},\n\n\t\tasync addLabelToBoardAndCard(name) {\n\t\t\tawait this.$store.dispatch('addLabelToCurrentBoardAndCard', {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tnewLabel: {\n\t\t\t\t\ttitle: name,\n\t\t\t\t\tcolor: this.randomColor(),\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\n\t\tremoveLabelFromCard(removedLabel) {\n\t\t\tconst removeIndex = this.copiedCard.labels.findIndex((label) => {\n\t\t\t\treturn label.id === removedLabel.id\n\t\t\t})\n\t\t\tif (removeIndex !== -1) {\n\t\t\t\tthis.copiedCard.labels.splice(removeIndex, 1)\n\t\t\t}\n\n\t\t\tconst data = {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tlabelId: removedLabel.id,\n\t\t\t}\n\t\t\tthis.$store.dispatch('removeLabel', data)\n\t\t},\n\t\tstringify(date) {\n\t\t\treturn moment(date).locale(this.locale).format('LLL')\n\t\t},\n\t\tparse(value) {\n\t\t\treturn moment(value).toDate()\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.section-wrapper {\n\tdisplay: flex;\n\tmax-width: 100%;\n\tmargin-top: 10px;\n\n\t.section-label {\n\t\tbackground-position: 0px center;\n\t\twidth: 28px;\n\t\tmargin-left: 9px;\n\t\tflex-shrink: 0;\n\t}\n\n\t.section-details {\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\n\t\t.remove-due-button{\n\t\t\tmargin-top: -2px;\n\t\t\tmargin-left: 6px;\n\t\t}\n\t}\n}\n\n.button-group {\n\twidth: 100%;\n\tdisplay: flex;\n\n\tbutton {\n\t\twidth: 100%;\n\t}\n}\n\n.done {\n\tdisplay: flex;\n}\n\n.tag {\n\tflex-grow: 0;\n\tflex-shrink: 1;\n\toverflow: hidden;\n\tpadding: 0px 5px;\n\tborder-radius: 15px;\n\tfont-size: 85%;\n\tmargin-right: 3px;\n}\n\n.avatarLabel {\n\tpadding: 6px\n}\n\n.section-details:deep(.multiselect__tags-wrap) {\n\tflex-wrap: wrap;\n}\n\n.avatar-list--readonly .avatardiv {\n\tmargin-right: 3px;\n}\n\n.avatarlist--inline {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 3px;\n\t.avatarLabel {\n\t\tpadding: 0;\n\t}\n}\n\n.multiselect:deep(.multiselect__tags-wrap) {\n\tz-index: 2;\n}\n\n.multiselect.multiselect--active:deep(.multiselect__tags-wrap) {\n\tz-index: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabDetails.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabDetails.vue?vue&type=style&index=0&id=d1f1d148&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabDetails.vue?vue&type=style&index=0&id=d1f1d148&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardSidebarTabDetails.vue?vue&type=template&id=d1f1d148&scoped=true\"\nimport script from \"./CardSidebarTabDetails.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebarTabDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardSidebarTabDetails.vue?vue&type=style&index=0&id=d1f1d148&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d1f1d148\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.copiedCard)?_c('div',[_c('TagSelector',{attrs:{\"card\":_vm.card,\"labels\":_vm.currentBoard.labels,\"disabled\":!_vm.canEdit},on:{\"select\":_vm.addLabelToCard,\"remove\":_vm.removeLabelFromCard,\"newtag\":_vm.addLabelToBoardAndCard}}),_vm._v(\" \"),_c('AssignmentSelector',{attrs:{\"card\":_vm.card,\"assignables\":_vm.assignables,\"can-edit\":_vm.canEdit},on:{\"select\":_vm.assignUserToCard,\"remove\":_vm.removeUserFromCard}}),_vm._v(\" \"),_c('DueDateSelector',{attrs:{\"card\":_vm.card,\"can-edit\":_vm.canEdit},on:{\"change\":_vm.updateCardDue,\"input\":_vm.debouncedUpdateCardDue}}),_vm._v(\" \"),(_vm.projectsEnabled)?_c('div',{staticClass:\"section-wrapper\"},[(_vm.card.id)?_c('CollectionList',{attrs:{\"id\":`${_vm.card.id}`,\"name\":_vm.card.title,\"type\":\"deck-card\"}}):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('Description',{key:_vm.card.id,attrs:{\"card\":_vm.card,\"can-edit\":_vm.canEdit,\"show-attachments\":\"\"},on:{\"change\":_vm.descriptionChanged}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2020 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<AttachmentList :card-id=\"card.id\"\n\t\t:removable=\"true\"\n\t\t@delete-attachment=\"deleteAttachment\"\n\t\t@restore-attachment=\"restoreAttachment\" />\n</template>\n\n<script>\nimport AttachmentList from './AttachmentList.vue'\nexport default {\n\tname: 'CardSidebarTabAttachments',\n\tcomponents: {\n\t\tAttachmentList,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tmethods: {\n\t\tdeleteAttachment(attachment) {\n\t\t\tthis.$store.dispatch('deleteAttachment', attachment)\n\t\t},\n\t\trestoreAttachment(attachment) {\n\t\t\tthis.$store.dispatch('restoreAttachment', attachment)\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabAttachments.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabAttachments.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CardSidebarTabAttachments.vue?vue&type=template&id=c67eee0a\"\nimport script from \"./CardSidebarTabAttachments.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebarTabAttachments.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AttachmentList',{attrs:{\"card-id\":_vm.card.id,\"removable\":true},on:{\"delete-attachment\":_vm.deleteAttachment,\"restore-attachment\":_vm.restoreAttachment}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"comment--header\"},[_c('NcAvatar',{attrs:{\"user\":_vm.currentUser.uid}}),_vm._v(\" \"),_c('span',{staticClass:\"username\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.currentUser.displayName)+\"\\n\\t\\t\")])],1),_vm._v(\" \"),(_vm.replyTo)?_c('CommentItem',{attrs:{\"comment\":_vm.replyTo,\"reply\":true,\"preview\":true},on:{\"cancel\":_vm.cancelReply}}):_vm._e(),_vm._v(\" \"),_c('CommentForm',{on:{\"submit\":_vm.createComment},model:{value:(_vm.newComment),callback:function ($$v) {_vm.newComment=$$v},expression:\"newComment\"}}),_vm._v(\" \"),(_vm.getCommentsForCard(_vm.card.id).length > 0)?_c('ul',{attrs:{\"id\":\"commentsFeed\"}},[_vm._l((_vm.getCommentsForCard(_vm.card.id)),function(comment){return _c('CommentItem',{key:comment.id,attrs:{\"comment\":comment},on:{\"doReload\":_vm.loadComments}})}),_vm._v(\" \"),_c('InfiniteLoading',{attrs:{\"identifier\":_vm.card.id},on:{\"infinite\":_vm.infiniteHandler}},[_c('div',{staticClass:\"icon-loading\",attrs:{\"slot\":\"spinner\"},slot:\"spinner\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"})])],2):(_vm.isLoading)?_c('div',{staticClass:\"icon icon-loading\"}):_c('div',{staticClass:\"emptycontent\"},[_c('div',{class:{ 'icon-comment': !_vm.error, 'icon-error': _vm.error }}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.error || _vm.t('deck', 'No comments yet. Begin the discussion!')))])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const rawToParsed = (text) => {\n\ttext = text.replace(/<br>/g, '\\n')\n\ttext = text.replace(/&nbsp;/g, ' ')\n\n\t// Since we used innerHTML to get the content of the div.contenteditable\n\t// it is escaped. With this little trick from https://stackoverflow.com/a/7394787\n\t// We unescape the code again, so if you write `<strong>` we can display\n\t// it again instead of `&lt;strong&gt;`\n\tconst temp = document.createElement('textarea')\n\ttemp.innerHTML = text\n\ttext = temp.value\n\n\t// Although the text is fully trimmed, at the very least the last\n\t// \"\\n\" occurrence should be always removed, as browsers add a\n\t// \"<br>\" element as soon as some rich text is written in a content\n\t// editable div (for example, if a new line is added the div content\n\t// will be \"<br><br>\").\n\treturn text.trim()\n}\n\nexport {\n\trawToParsed,\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=script&lang=js\"","<!--\n  - @copyright Copyright (c) 2020 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div class=\"comment-form\">\n\t\t<form @submit.prevent=\"submit\">\n\t\t\t<At ref=\"at\"\n\t\t\t\tv-model=\"commentText\"\n\t\t\t\t:members=\"members\"\n\t\t\t\tname-key=\"displayname\"\n\t\t\t\t:tab-select=\"true\">\n\t\t\t\t<template #item=\"s\">\n\t\t\t\t\t<NcAvatar class=\"atwho-li--avatar\" :user=\"s.item.uid\" :size=\"24\" />\n\t\t\t\t\t<span class=\"atwho-li--name\" v-text=\"s.item.displayname\" />\n\t\t\t\t</template>\n\t\t\t\t<template #embeddedItem=\"scope\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<NcUserBubble v-if=\"scope.current.uid\"\n\t\t\t\t\t\t\t:data-mention-id=\"scope.current.uid\"\n\t\t\t\t\t\t\t:user=\"scope.current.uid\"\n\t\t\t\t\t\t\t:display-name=\"scope.current.displayname\" />\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t\t<div ref=\"contentEditable\"\n\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\tclass=\"comment-form__contenteditable\"\n\t\t\t\t\tcontenteditable\n\t\t\t\t\t@keydown.enter=\"handleKeydown\"\n\t\t\t\t\t@paste=\"onPaste\"\n\t\t\t\t\t@blur=\"error = null\"\n\t\t\t\t\t@input=\"validate()\" />\n\t\t\t</At>\n\t\t\t<input :title=\"t('deck', 'Save')\"\n\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\ttype=\"submit\"\n\t\t\t\tvalue=\"\"\n\t\t\t\t:disabled=\"commentText.length === null || error\">\n\t\t\t<slot />\n\t\t</form>\n\t\t<p v-if=\"error\">\n\t\t\t{{ error }}\n\t\t</p>\n\t</div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { NcUserBubble, NcAvatar } from '@nextcloud/vue'\nimport At from 'vue-at'\nimport { rawToParsed } from '../../helpers/mentions.js'\n\nexport default {\n\tname: 'CommentForm',\n\tcomponents: {\n\t\tAt,\n\t\tNcAvatar,\n\t\tNcUserBubble,\n\t},\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcommentText: this.value,\n\t\t\terror: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t}),\n\t\tmembers() {\n\t\t\treturn this.currentBoard.users\n\t\t},\n\t},\n\twatch: {\n\t\tvalue(val) {\n\t\t\tthis.commentText = val\n\t\t},\n\t},\n\tmethods: {\n\t\tvalidate(submit) {\n\t\t\tthis.error = null\n\t\t\tconst content = this.contentEditableToParsed()\n\t\t\tif (submit && content.length === 0) {\n\t\t\t\tthis.error = t('deck', 'The comment cannot be empty.')\n\t\t\t}\n\t\t\tif (content.length > 1000) {\n\t\t\t\tthis.error = t('deck', 'The comment cannot be longer than 1000 characters.')\n\t\t\t}\n\t\t\treturn this.error === null ? content : null\n\t\t},\n\t\tsubmit() {\n\t\t\tconst content = this.validate(true)\n\t\t\tif (content) {\n\t\t\t\t// We need the plain text representation for the input event as otherwise it will propagate back to the contenteditable\n\t\t\t\t// The input event is only used for change detection to make sure that the input is reset after posting the comment\n\t\t\t\tconst temp = document.createElement('div')\n\t\t\t\ttemp.innerHTML = content\n\t\t\t\tconst text = temp.textContent || temp.innerText || ''\n\t\t\t\tthis.$emit('input', text)\n\t\t\t\tthis.$emit('submit', text)\n\t\t\t}\n\t\t},\n\t\t/* All credits for this go to the talk app\n\t\t * https://github.com/nextcloud/spreed/blob/e69740b372e17eec4541337b47baa262a5766510/src/components/NewMessageForm/NewMessageForm.vue#L100-L143\n\t\t */\n\t\tcontentEditableToParsed() {\n\t\t\tif (!this.$refs.contentEditable) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst node = this.$refs.contentEditable.cloneNode(true)\n\t\t\tconst mentions = node.querySelectorAll('span[data-at-embedded]')\n\t\t\tmentions.forEach(mention => {\n\t\t\t\t// FIXME Adding a space after the mention should be improved to\n\t\t\t\t// do it or not based on the next element instead of always\n\t\t\t\t// adding it.\n\t\t\t\t// FIXME user names can contain spaces, in that case they need to be wrapped @\"user name\" [a-zA-Z0-9\\ _\\.@\\-']+\n\t\t\t\tconst mentionValue = mention.firstElementChild.attributes['data-mention-id'].value\n\t\t\t\tif (mentionValue.indexOf(' ') !== -1) {\n\t\t\t\t\tmention.replaceWith(' @\"' + mentionValue + '\" ')\n\t\t\t\t} else {\n\t\t\t\t\tmention.replaceWith(' @' + mentionValue + ' ')\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn rawToParsed(node.innerHTML)\n\t\t},\n\n\t\t/**\n\t\t * Emits the submit event when enter is pressed (look\n\t\t * at the v-on in the template) unless shift is pressed:\n\t\t * in this case a new line will be created.\n\t\t *\n\t\t * @param {object} event the event object;\n\t\t */\n\t\thandleKeydown(event) {\n\t\t\t// Prevent submit event when vue-at panel is open, as that should\n\t\t\t// just select the mention from the panel.\n\t\t\tif (this.atwho) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// TODO: add support for CTRL+ENTER new line\n\t\t\tif (!(event.shiftKey)) {\n\t\t\t\tevent.preventDefault()\n\t\t\t\tthis.submit()\n\t\t\t}\n\t\t},\n\n\t\tonPaste(e) {\n\t\t\te.preventDefault()\n\t\t\tconst text = e.clipboardData.getData('text/plain')\n\t\t\tdocument.execCommand('insertText', false, text)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t@import '../../css/comments';\n\n\t.comment-form__contenteditable {\n\t\tword-break: break-word;\n\t\tborder-radius: var(--border-radius-large)\n\t}\n\n\t.atwho-wrap {\n\t\twidth: 100%;\n\t\t& > div[contenteditable] {\n\t\t\twidth: 100%;\n\n\t\t\t&:deep > span > div {\n\t\t\t\tvertical-align: middle;\n\t\t\t}\n\t\t}\n\t}\n\n\t.comment-form:deep(.atwho-li) {\n\t\theight: 32px;\n\t}\n\n\t.atwho-li--avatar {\n\t\tmargin-right: 10px;\n\t}\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=style&index=0&id=11857953&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=style&index=0&id=11857953&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CommentForm.vue?vue&type=template&id=11857953&scoped=true\"\nimport script from \"./CommentForm.vue?vue&type=script&lang=js\"\nexport * from \"./CommentForm.vue?vue&type=script&lang=js\"\nimport style0 from \"./CommentForm.vue?vue&type=style&index=0&id=11857953&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11857953\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-form\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}}},[_c('At',{ref:\"at\",attrs:{\"members\":_vm.members,\"name-key\":\"displayname\",\"tab-select\":true},scopedSlots:_vm._u([{key:\"item\",fn:function(s){return [_c('NcAvatar',{staticClass:\"atwho-li--avatar\",attrs:{\"user\":s.item.uid,\"size\":24}}),_vm._v(\" \"),_c('span',{staticClass:\"atwho-li--name\",domProps:{\"textContent\":_vm._s(s.item.displayname)}})]}},{key:\"embeddedItem\",fn:function(scope){return [_c('span',[(scope.current.uid)?_c('NcUserBubble',{attrs:{\"data-mention-id\":scope.current.uid,\"user\":scope.current.uid,\"display-name\":scope.current.displayname}}):_vm._e()],1)]}}]),model:{value:(_vm.commentText),callback:function ($$v) {_vm.commentText=$$v},expression:\"commentText\"}},[_vm._v(\" \"),_vm._v(\" \"),_c('div',{ref:\"contentEditable\",staticClass:\"comment-form__contenteditable\",attrs:{\"dir\":\"auto\",\"contenteditable\":\"\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleKeydown.apply(null, arguments)},\"paste\":_vm.onPaste,\"blur\":function($event){_vm.error = null},\"input\":function($event){return _vm.validate()}}})]),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"title\":_vm.t('deck', 'Save'),\"type\":\"submit\",\"value\":\"\",\"disabled\":_vm.commentText.length === null || _vm.error}}),_vm._v(\" \"),_vm._t(\"default\")],2),_vm._v(\" \"),(_vm.error)?_c('p',[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.error)+\"\\n\\t\")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div v-if=\"reply\" class=\"reply\" :class=\"{ 'reply--preview': preview }\">\n\t\t<div class=\"reply--wrapper\">\n\t\t\t<div class=\"reply--header\">\n\t\t\t\t<div class=\"reply--hint\">\n\t\t\t\t\t{{ t('deck', 'In reply to') }}\n\t\t\t\t\t<NcUserBubble :user=\"comment.actorId\" :display-name=\"comment.actorDisplayName\" />\n\t\t\t\t</div>\n\t\t\t\t<NcActions v-if=\"preview\" class=\"reply--cancel\">\n\t\t\t\t\t<NcActionButton icon=\"icon-close\" @click=\"$emit('cancel')\">\n\t\t\t\t\t\t{{ t('deck', 'Cancel reply') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t</NcActions>\n\t\t\t</div>\n\t\t\t<NcRichText class=\"comment--content\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\t:text=\"richText(comment)\"\n\t\t\t\t:arguments=\"richArgs(comment)\"\n\t\t\t\t:autolink=\"true\" />\n\t\t</div>\n\t</div>\n\t<li v-else class=\"comment\">\n\t\t<div class=\"comment--header\">\n\t\t\t<NcAvatar :user=\"comment.actorId\" />\n\t\t\t<span class=\"username\">\n\t\t\t\t{{ comment.actorDisplayName }}\n\t\t\t</span>\n\t\t\t<NcActions v-show=\"!edit\" :force-menu=\"true\">\n\t\t\t\t<NcActionButton :close-after-click=\"true\" @click=\"replyTo()\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ReplyIcon decorative />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('deck', 'Reply') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\t\t\ticon=\"icon-rename\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click=\"showUpdateForm()\">\n\t\t\t\t\t{{ t('deck', 'Update') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\t\t\ticon=\"icon-delete\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click=\"deleteComment()\">\n\t\t\t\t\t{{ t('deck', 'Delete') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t\t<NcActions v-if=\"edit\">\n\t\t\t\t<NcActionButton icon=\"icon-close\" @click=\"hideUpdateForm\" />\n\t\t\t</NcActions>\n\t\t\t<div class=\"spacer\" />\n\t\t\t<div class=\"timestamp\"\n\t\t\t\t:aria-label=\"formattedTimestamp\"\n\t\t\t\t:title=\"formattedTimestamp\">\n\t\t\t\t{{ relativeDate(comment.creationDateTime) }}\n\t\t\t</div>\n\t\t</div>\n\t\t<CommentItem v-if=\"comment.replyTo\" :reply=\"true\" :comment=\"comment.replyTo\" />\n\t\t<div v-show=\"!edit\" ref=\"richTextElement\">\n\t\t\t<NcRichText class=\"comment--content\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\t:text=\"richText(comment)\"\n\t\t\t\t:arguments=\"richArgs(comment)\"\n\t\t\t\t:autolink=\"true\" />\n\t\t</div>\n\t\t<CommentForm v-if=\"edit\"\n\t\t\tv-model=\"commentMsg\"\n\t\t\tdir=\"auto\"\n\t\t\t@submit=\"updateComment\" />\n\t</li>\n</template>\n\n<script>\nimport { NcAvatar, NcActions, NcActionButton, NcRichText, NcUserBubble } from '@nextcloud/vue'\nimport CommentForm from './CommentForm.vue'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport md5 from 'blueimp-md5'\nimport relativeDate from '../../mixins/relativeDate.js'\nimport ReplyIcon from 'vue-material-design-icons/Reply.vue'\nimport moment from 'moment'\n\nconst AtMention = {\n\tname: 'AtMention',\n\tfunctional: true,\n\trender(createElement, context) {\n\t\tconst { user, displayName } = context.props\n\t\treturn createElement(\n\t\t\t'span',\n\t\t\t{ attrs: { 'data-at-embedded': true, contenteditable: false } },\n\t\t\t[createElement(NcUserBubble, { props: { user, displayName }, attrs: { 'data-mention-id': user } })],\n\t\t)\n\t},\n}\n\nexport default {\n\tname: 'CommentItem',\n\tcomponents: {\n\t\tNcAvatar,\n\t\tNcUserBubble,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tCommentForm,\n\t\tNcRichText,\n\t\tReplyIcon,\n\t},\n\tmixins: [relativeDate],\n\tprops: {\n\t\tcomment: {\n\t\t\ttype: Object,\n\t\t\tdefault: undefined,\n\t\t},\n\t\treply: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tpreview: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tedit: false,\n\t\t\tcommentMsg: '',\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tcanEdit() {\n\t\t\treturn this.comment.actorId === getCurrentUser().uid\n\t\t},\n\t\trichText() {\n\t\t\treturn (comment) => {\n\t\t\t\tlet message = this.parsedMessage(comment.message)\n\t\t\t\tcomment.mentions.forEach((mention, index) => {\n\t\t\t\t\t// Currently only [a-z\\-_0-9] are allowed inside of placeholders so we use a hash of the mention id as a unique identifier\n\t\t\t\t\tconst hash = md5(mention.mentionId)\n\t\t\t\t\tmessage = message.split('@' + mention.mentionId + '').join(`{user-${hash}}`)\n\t\t\t\t\tmessage = message.split('@\"' + mention.mentionId + '\"').join(`{user-${hash}}`)\n\n\t\t\t\t})\n\t\t\t\treturn message\n\t\t\t}\n\t\t},\n\t\trichArgs() {\n\t\t\treturn (comment) => {\n\t\t\t\tconst mentions = [...comment.mentions]\n\t\t\t\tconst result = mentions.reduce((result, item, index) => {\n\t\t\t\t\tconst itemKey = 'user-' + md5(item.mentionId)\n\t\t\t\t\tresult[itemKey] = {\n\t\t\t\t\t\tcomponent: AtMention,\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tuser: item.mentionId,\n\t\t\t\t\t\t\tdisplayName: item.mentionDisplayName,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t\treturn result\n\t\t\t\t}, {})\n\t\t\t\treturn result\n\t\t\t}\n\t\t},\n\t\tparsedMessage() {\n\t\t\treturn (message) => {\n\t\t\t\tconst div = document.createElement('div')\n\t\t\t\tdiv.innerHTML = message\n\t\t\t\treturn (div.textContent || div.innerText || '')\n\t\t\t}\n\t\t},\n\t\tformattedTimestamp() {\n\t\t\treturn t('deck', 'Created:') + ' ' + moment(this.comment.creationDateTime).format('LLLL')\n\t\t},\n\t},\n\n\tmethods: {\n\t\treplyTo() {\n\t\t\tthis.$store.dispatch('setReplyTo', this.comment)\n\t\t},\n\t\tshowUpdateForm() {\n\t\t\tthis.edit = true\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.commentMsg = this.$refs.richTextElement.children[0].innerHTML\n\t\t\t})\n\t\t},\n\t\thideUpdateForm() {\n\t\t\tthis.commentMsg = ''\n\t\t\tthis.edit = false\n\t\t},\n\t\tasync updateComment() {\n\t\t\tconst data = {\n\t\t\t\tcomment: this.commentMsg,\n\t\t\t\tcardId: this.comment.objectId,\n\t\t\t\tid: this.comment.id,\n\t\t\t}\n\t\t\tawait this.$store.dispatch('updateComment', data)\n\t\t\tthis.hideUpdateForm()\n\t\t},\n\t\tdeleteComment() {\n\t\t\tconst data = {\n\t\t\t\tid: this.comment.id,\n\t\t\t\tcardId: this.comment.objectId,\n\t\t\t}\n\t\t\tthis.$store.dispatch('deleteComment', data)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t@import '../../css/comments';\n\n\t.reply {\n\t\tmargin: 0 0 0 44px;\n\n\t\t&.reply--preview {\n\t\t\tmargin: 4px 0;\n\t\t\tpadding: 8px;\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t\tborder-radius: var(--border-radius-large);\n\n\t\t\t.reply--wrapper {\n\t\t\t\tmargin: 8px;\n\t\t\t}\n\n\t\t\t.reply--cancel {\n\t\t\t\tmargin-right: -12px;\n\t\t\t\tmargin-top: -12px;\n\t\t\t}\n\t\t}\n\n\t\t.reply--wrapper {\n\t\t\tborder-left: 4px solid var(--color-border-dark);\n\t\t\tpadding-left: 8px;\n\t\t}\n\n\t\t&:deep(.rich-text--wrapper) {\n\t\t\tmargin-top: -3px;\n\t\t\tcolor: var(--color-text-lighter);\n\t\t}\n\n\t\t.reply--header {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.reply--hint {\n\t\t\tcolor: var(--color-text-lighter);\n\t\t\tflex-grow: 1;\n\t\t}\n\n\t\t.comment--content {\n\t\t\tmargin: 0;\n\t\t}\n\t}\n\n\t.comment--content:deep {\n\t\ta {\n\t\t\ttext-decoration: underline;\n\t\t}\n\n\t\tp {\n\t\t\tmargin-bottom: 1em;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&id=31ec9839&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&id=31ec9839&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CommentItem.vue?vue&type=template&id=31ec9839&scoped=true\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./CommentItem.vue?vue&type=style&index=0&id=31ec9839&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31ec9839\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.reply)?_c('div',{staticClass:\"reply\",class:{ 'reply--preview': _vm.preview }},[_c('div',{staticClass:\"reply--wrapper\"},[_c('div',{staticClass:\"reply--header\"},[_c('div',{staticClass:\"reply--hint\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'In reply to'))+\"\\n\\t\\t\\t\\t\"),_c('NcUserBubble',{attrs:{\"user\":_vm.comment.actorId,\"display-name\":_vm.comment.actorDisplayName}})],1),_vm._v(\" \"),(_vm.preview)?_c('NcActions',{staticClass:\"reply--cancel\"},[_c('NcActionButton',{attrs:{\"icon\":\"icon-close\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Cancel reply'))+\"\\n\\t\\t\\t\\t\")])],1):_vm._e()],1),_vm._v(\" \"),_c('NcRichText',{staticClass:\"comment--content\",attrs:{\"dir\":\"auto\",\"text\":_vm.richText(_vm.comment),\"arguments\":_vm.richArgs(_vm.comment),\"autolink\":true}})],1)]):_c('li',{staticClass:\"comment\"},[_c('div',{staticClass:\"comment--header\"},[_c('NcAvatar',{attrs:{\"user\":_vm.comment.actorId}}),_vm._v(\" \"),_c('span',{staticClass:\"username\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.comment.actorDisplayName)+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('NcActions',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.edit),expression:\"!edit\"}],attrs:{\"force-menu\":true}},[_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.replyTo()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ReplyIcon',{attrs:{\"decorative\":\"\"}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Reply'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-rename\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.showUpdateForm()}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Update'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.deleteComment()}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Delete'))+\"\\n\\t\\t\\t\")]):_vm._e()],1),_vm._v(\" \"),(_vm.edit)?_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-close\"},on:{\"click\":_vm.hideUpdateForm}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"spacer\"}),_vm._v(\" \"),_c('div',{staticClass:\"timestamp\",attrs:{\"aria-label\":_vm.formattedTimestamp,\"title\":_vm.formattedTimestamp}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.relativeDate(_vm.comment.creationDateTime))+\"\\n\\t\\t\")])],1),_vm._v(\" \"),(_vm.comment.replyTo)?_c('CommentItem',{attrs:{\"reply\":true,\"comment\":_vm.comment.replyTo}}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.edit),expression:\"!edit\"}],ref:\"richTextElement\"},[_c('NcRichText',{staticClass:\"comment--content\",attrs:{\"dir\":\"auto\",\"text\":_vm.richText(_vm.comment),\"arguments\":_vm.richArgs(_vm.comment),\"autolink\":true}})],1),_vm._v(\" \"),(_vm.edit)?_c('CommentForm',{attrs:{\"dir\":\"auto\"},on:{\"submit\":_vm.updateComment},model:{value:(_vm.commentMsg),callback:function ($$v) {_vm.commentMsg=$$v},expression:\"commentMsg\"}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabComments.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabComments.vue?vue&type=script&lang=js\"","<template>\n\t<div>\n\t\t<div class=\"comment--header\">\n\t\t\t<NcAvatar :user=\"currentUser.uid\" />\n\t\t\t<span class=\"username\">\n\t\t\t\t{{ currentUser.displayName }}\n\t\t\t</span>\n\t\t</div>\n\n\t\t<CommentItem v-if=\"replyTo\"\n\t\t\t:comment=\"replyTo\"\n\t\t\t:reply=\"true\"\n\t\t\t:preview=\"true\"\n\t\t\t@cancel=\"cancelReply\" />\n\t\t<CommentForm v-model=\"newComment\" @submit=\"createComment\" />\n\n\t\t<ul v-if=\"getCommentsForCard(card.id).length > 0\" id=\"commentsFeed\">\n\t\t\t<CommentItem v-for=\"comment in getCommentsForCard(card.id)\"\n\t\t\t\t:key=\"comment.id\"\n\t\t\t\t:comment=\"comment\"\n\t\t\t\t@doReload=\"loadComments\" />\n\t\t\t<InfiniteLoading :identifier=\"card.id\" @infinite=\"infiniteHandler\">\n\t\t\t\t<div slot=\"spinner\" class=\"icon-loading\" />\n\t\t\t\t<div slot=\"no-more\" />\n\t\t\t\t<div slot=\"no-results\" />\n\t\t\t</InfiniteLoading>\n\t\t</ul>\n\t\t<div v-else-if=\"isLoading\" class=\"icon icon-loading\" />\n\t\t<div v-else class=\"emptycontent\">\n\t\t\t<div :class=\"{ 'icon-comment': !error, 'icon-error': error }\" />\n\t\t\t<p>{{ error || t('deck', 'No comments yet. Begin the discussion!') }}</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport { NcAvatar } from '@nextcloud/vue'\nimport CommentItem from './CommentItem.vue'\nimport CommentForm from './CommentForm.vue'\nimport InfiniteLoading from 'vue-infinite-loading'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nexport default {\n\tname: 'CardSidebarTabComments',\n\tcomponents: {\n\t\tNcAvatar,\n\t\tCommentItem,\n\t\tCommentForm,\n\t\tInfiniteLoading,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: undefined,\n\t\t},\n\t\ttabQuery: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tnewComment: '',\n\t\t\tisLoading: false,\n\t\t\tcurrentUser: getCurrentUser(),\n\t\t\terror: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t\treplyTo: state => state.comment.replyTo,\n\t\t}),\n\t\t...mapGetters([\n\t\t\t'getCommentsForCard',\n\t\t\t'hasMoreComments',\n\t\t]),\n\t\tmembers() {\n\t\t\treturn this.currentBoard.users\n\t\t},\n\t},\n\twatch: {\n\t\tcard: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tthis.loadComments()\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tasync infiniteHandler($state) {\n\t\t\tthis.error = null\n\t\t\ttry {\n\t\t\t\tawait this.loadMore()\n\t\t\t\tif (this.hasMoreComments(this.card.id)) {\n\t\t\t\t\t$state.loaded()\n\t\t\t\t} else {\n\t\t\t\t\t$state.complete()\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Failed to fetch more comments during infinite loading', e)\n\t\t\t\tthis.error = t('deck', 'Failed to load comments')\n\t\t\t\t$state.complete()\n\t\t\t}\n\t\t},\n\t\tasync loadComments() {\n\t\t\tthis.$store.dispatch('setReplyTo', null)\n\t\t\tthis.error = null\n\t\t\tthis.isLoading = true\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('fetchComments', { cardId: this.card.id })\n\t\t\t\tthis.isLoading = false\n\t\t\t\tif (this.card.commentsUnread > 0) {\n\t\t\t\t\tawait this.$store.dispatch('markCommentsAsRead', this.card.id)\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tthis.isLoading = false\n\t\t\t\tconsole.error('Failed to fetch more comments during infinite loading', e)\n\t\t\t\tthis.error = t('deck', 'Failed to load comments')\n\t\t\t}\n\t\t},\n\t\tasync createComment(content) {\n\t\t\tconst commentObj = {\n\t\t\t\tcardId: this.card.id,\n\t\t\t\tcomment: content,\n\t\t\t}\n\t\t\tawait this.$store.dispatch('createComment', commentObj)\n\t\t\tthis.$store.dispatch('setReplyTo', null)\n\t\t\tthis.newComment = ''\n\t\t\tawait this.loadComments()\n\t\t},\n\t\tasync loadMore() {\n\t\t\tthis.isLoading = true\n\t\t\tawait this.$store.dispatch('fetchMore', { cardId: this.card.id })\n\t\t\tthis.isLoading = false\n\t\t},\n\t\tcancelReply() {\n\t\t\tthis.$store.dispatch('setReplyTo', null)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t@import '../../css/comments';\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabComments.vue?vue&type=style&index=0&id=44c03ab6&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabComments.vue?vue&type=style&index=0&id=44c03ab6&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardSidebarTabComments.vue?vue&type=template&id=44c03ab6&scoped=true\"\nimport script from \"./CardSidebarTabComments.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebarTabComments.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardSidebarTabComments.vue?vue&type=style&index=0&id=44c03ab6&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44c03ab6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$parent.isActive)?_c('ActivityList',{key:_vm.card.id,attrs:{\"filter\":\"filter\",\"object-id\":_vm.card.id,\"object-type\":\"deck_card\",\"type\":\"deck\"}}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div v-if=\"activity\" class=\"activity\">\n\t\t<div class=\"activity--header\">\n\t\t\t<img :src=\"activity.icon\" class=\"activity--icon\">\n\t\t\t<NcRichText class=\"activity--subject\" :text=\"message.subject\" :arguments=\"message.parameters\" />\n\t\t\t<div class=\"activity--timestamp\" :name=\"formatReadableDate(activity.datetime)\">\n\t\t\t\t{{ relativeDate(activity.datetime) }}\n\t\t\t</div>\n\t\t</div>\n\t\t<!-- FIXME ins/del tags do no longer work with activity so we should get rid of that -->\n\t\t<p v-if=\"activity.message\" class=\"activity--message\" v-html=\"sanitizedMessage\" />\n\t</div>\n</template>\n\n<script>\nimport { NcRichText, NcUserBubble } from '@nextcloud/vue'\nimport moment from '@nextcloud/moment'\nimport DOMPurify from 'dompurify'\nimport relativeDate from '../mixins/relativeDate.js'\nimport formatReadableDate from '../mixins/readableDate.js'\n\nconst InternalLink = {\n\tname: 'InternalLink',\n\tfunctional: true,\n\tprops: {\n\t\thref: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tname: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\trender(createElement, context) {\n\t\treturn createElement('a', { attrs: { href: context.props.href }, style: { 'font-weight': 600 } }, context.props.name)\n\t},\n}\nexport default {\n\tname: 'ActivityEntry',\n\tcomponents: {\n\t\tNcRichText,\n\t},\n\tmixins: [relativeDate, formatReadableDate],\n\tprops: {\n\t\tactivity: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tcomputed: {\n\t\tmessage() {\n\t\t\tconst subject = this.activity.subject_rich[0]\n\t\t\tconst parameters = JSON.parse(JSON.stringify(this.activity.subject_rich[1]))\n\t\t\tif (parameters.after && typeof parameters.after.id === 'string' && parameters.after.id.startsWith('dt:')) {\n\t\t\t\tconst dateTime = parameters.after.id.slice(3)\n\t\t\t\tparameters.after.name = moment(dateTime).format('L LTS')\n\t\t\t}\n\n\t\t\tObject.keys(parameters).forEach(function(key, index) {\n\t\t\t\tconst { type } = parameters[key]\n\t\t\t\tswitch (type) {\n\t\t\t\tcase 'highlight':\n\t\t\t\t\tparameters[key] = {\n\t\t\t\t\t\tcomponent: InternalLink,\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\thref: parameters[key].link,\n\t\t\t\t\t\t\tname: parameters[key].name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'user':\n\t\t\t\t\tparameters[key] = {\n\t\t\t\t\t\tcomponent: NcUserBubble,\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tuser: parameters[key].id,\n\t\t\t\t\t\t\tdisplayName: parameters[key].name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tparameters[key] = `{${key}}`\n\t\t\t\t}\n\n\t\t\t})\n\n\t\t\treturn {\n\t\t\t\tsubject, parameters,\n\t\t\t}\n\t\t},\n\n\t\tsanitizedMessage() {\n\t\t\treturn DOMPurify.sanitize(this.activity.message, { ALLOWED_TAGS: ['ins', 'del'], ALLOWED_ATTR: ['class'] })\n\t\t},\n\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t.activity {\n\n\t\t.activity--header {\n\t\t\tdisplay: flex;\n\t\t\tpadding: 10px;\n\t\t}\n\n\t\t.activity--icon {\n\t\t\twidth: 16px;\n\t\t\theight: 16px;\n\t\t\tflex-shrink: 0;\n\t\t\tflex-grow: 0;\n\t\t}\n\t\t.activity--subject {\n\t\t\tmargin-left: 10px;\n\t\t}\n\t\t.activity--message {\n\t\t\tmargin-left: 44px;\n\t\t\tcolor: var(--color-text-light);\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\t\t.activity--timestamp {\n\t\t\tflex-grow: 1;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\ttext-align: right;\n\t\t\tfont-size: 0.8em;\n\t\t\tpadding: 1px;\n\t\t}\n\t}\n</style>\n<style>\n\t.visualdiff ins {\n\t\tcolor: green;\n\t}\n\n\t.visualdiff del {\n\t\tcolor: darkred;\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=style&index=0&id=4d6286d9&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=style&index=0&id=4d6286d9&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=style&index=1&id=4d6286d9&prod&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=style&index=1&id=4d6286d9&prod&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ActivityEntry.vue?vue&type=template&id=4d6286d9&scoped=true\"\nimport script from \"./ActivityEntry.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityEntry.vue?vue&type=script&lang=js\"\nimport style0 from \"./ActivityEntry.vue?vue&type=style&index=0&id=4d6286d9&prod&scoped=true&lang=scss\"\nimport style1 from \"./ActivityEntry.vue?vue&type=style&index=1&id=4d6286d9&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d6286d9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.activity)?_c('div',{staticClass:\"activity\"},[_c('div',{staticClass:\"activity--header\"},[_c('img',{staticClass:\"activity--icon\",attrs:{\"src\":_vm.activity.icon}}),_vm._v(\" \"),_c('NcRichText',{staticClass:\"activity--subject\",attrs:{\"text\":_vm.message.subject,\"arguments\":_vm.message.parameters}}),_vm._v(\" \"),_c('div',{staticClass:\"activity--timestamp\",attrs:{\"name\":_vm.formatReadableDate(_vm.activity.datetime)}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.relativeDate(_vm.activity.datetime))+\"\\n\\t\\t\")])],1),_vm._v(\" \"),(_vm.activity.message)?_c('p',{staticClass:\"activity--message\",domProps:{\"innerHTML\":_vm._s(_vm.sanitizedMessage)}}):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=script&lang=js\"","<!--\n  - @copyright Copyright (c) 2020 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div class=\"activity-list\">\n\t\t<div v-if=\"isLoading\" class=\"icon icon-loading\" />\n\t\t<ActivityEntry v-for=\"activity in activities\"\n\t\t\t:key=\"activity.activity_id\"\n\t\t\t:activity=\"activity\" />\n\t\t<InfiniteLoading :identifier=\"objectId\" @infinite=\"infiniteHandler\" @change=\"changeObject\">\n\t\t\t<div slot=\"spinner\" class=\"icon-loading\" />\n\t\t\t<div slot=\"no-more\" />\n\t\t\t<div slot=\"no-results\" />\n\t\t</InfiniteLoading>\n\t</div>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\nimport ActivityEntry from './ActivityEntry.vue'\nimport InfiniteLoading from 'vue-infinite-loading'\n\nconst ACTIVITY_FETCH_LIMIT = 50\n\nexport default {\n\tname: 'ActivityList',\n\tcomponents: {\n\t\tActivityEntry,\n\t\tInfiniteLoading,\n\t},\n\tprops: {\n\t\tfilter: {\n\t\t\ttype: String,\n\t\t\tdefault: 'deck',\n\t\t},\n\t\ttype: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tobjectId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tobjectType: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tactivities: [],\n\t\t\tisLoading: false,\n\t\t\tsince: 0,\n\t\t\tendReached: false,\n\t\t}\n\t},\n\tmethods: {\n\t\tasync loadActivity() {\n\t\t\tconst params = new URLSearchParams()\n\t\t\tparams.append('format', 'json')\n\t\t\tparams.append('type', this.type)\n\t\t\tparams.append('since', this.since)\n\t\t\tparams.append('object_type', this.objectType)\n\t\t\tparams.append('object_id', '' + this.objectId)\n\t\t\tparams.append('limit', ACTIVITY_FETCH_LIMIT)\n\n\t\t\tconst response = await axios.get(\n\t\t\t\tgenerateOcsUrl(`apps/activity/api/v2/activity/${this.filter}`) + '?' + params,\n\t\t\t\t{\n\t\t\t\t\tvalidateStatus: (status) => {\n\t\t\t\t\t\treturn (status >= 200 && status < 300) || status === 304\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t)\n\n\t\t\tif (response.status === 304) {\n\t\t\t\tthis.endReached = true\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\tlet activities = response.data.ocs.data\n\t\t\tif (this.filter === 'deck') {\n\t\t\t\t// We need to manually filter activities here, since currently we use two different types and there is no way\n\t\t\t\t// to tell the backend to fetch all activites related to cards of a given board\n\t\t\t\tactivities = activities.filter((activity) => {\n\t\t\t\t\treturn (activity.object_type === 'deck_board' && activity.object_id === this.objectId)\n\t\t\t\t\t\t\t|| (activity.object_type === 'deck_card' && activity.subject_rich[1].board.id === this.objectId)\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.activities.push(...activities)\n\t\t\tif (activities.length === 0) {\n\t\t\t\tthis.endReached = true\n\t\t\t\treturn []\n\t\t\t}\n\t\t\tthis.since = (activities[activities.length - 1].activity_id)\n\t\t\treturn activities\n\t\t},\n\t\tasync infiniteHandler($state) {\n\t\t\tawait this.loadActivity()\n\t\t\tif (!this.endReached) {\n\t\t\t\t$state.loaded()\n\t\t\t} else {\n\t\t\t\t$state.complete()\n\t\t\t}\n\t\t},\n\t\tchangeObject() {\n\t\t\tthis.since = 0\n\t\t\tthis.activities = []\n\t\t\tthis.endReached = false\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n\t.activity-list {\n\t\tmargin-bottom: 100px;\n\t}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=style&index=0&id=d2d5aa18&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=style&index=0&id=d2d5aa18&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ActivityList.vue?vue&type=template&id=d2d5aa18&scoped=true\"\nimport script from \"./ActivityList.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityList.vue?vue&type=script&lang=js\"\nimport style0 from \"./ActivityList.vue?vue&type=style&index=0&id=d2d5aa18&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d2d5aa18\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabActivity.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabActivity.vue?vue&type=script&lang=js\"","<!--\n  - @copyright Copyright (c) 2020 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<ActivityList v-if=\"$parent.isActive\"\n\t\t:key=\"card.id\"\n\t\tfilter=\"filter\"\n\t\t:object-id=\"card.id\"\n\t\tobject-type=\"deck_card\"\n\t\ttype=\"deck\" />\n</template>\n\n<script>\nimport ActivityList from '../ActivityList.vue'\n\nexport default {\n\tname: 'CardSidebarTabActivity',\n\tcomponents: {\n\t\tActivityList,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tid: 'activity',\n\t\t}\n\t},\n}\n</script>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"activity-list\"},[(_vm.isLoading)?_c('div',{staticClass:\"icon icon-loading\"}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.activities),function(activity){return _c('ActivityEntry',{key:activity.activity_id,attrs:{\"activity\":activity}})}),_vm._v(\" \"),_c('InfiniteLoading',{attrs:{\"identifier\":_vm.objectId},on:{\"infinite\":_vm.infiniteHandler,\"change\":_vm.changeObject}},[_c('div',{staticClass:\"icon-loading\",attrs:{\"slot\":\"spinner\"},slot:\"spinner\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"})])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./CardSidebarTabActivity.vue?vue&type=template&id=733a1ed6\"\nimport script from \"./CardSidebarTabActivity.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebarTabActivity.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n  - @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<NcAppSidebar v-if=\"currentBoard && currentCard\"\n\t\t:active=\"tabId\"\n\t\t:name=\"title\"\n\t\t:subname=\"subtitle\"\n\t\t:subtitle=\"subtitleTooltip\"\n\t\t:name-editable=\"titleEditable\"\n\t\t@update:nameEditable=\"handleUpdateTitleEditable\"\n\t\t@update:name=\"handleUpdateTitle\"\n\t\t@submit-name=\"handleSubmitTitle\"\n\t\t@close=\"closeSidebar\">\n\t\t<template #secondary-actions>\n\t\t\t<NcActionButton v-if=\"cardDetailsInModal && isFullApp\" icon=\"icon-menu-sidebar\" @click.stop=\"closeModal()\">\n\t\t\t\t{{ t('deck', 'Open in sidebar view') }}\n\t\t\t</NcActionButton>\n\t\t\t<NcActionButton v-else-if=\"isFullApp\" icon=\"icon-external\" @click.stop=\"showModal()\">\n\t\t\t\t{{ t('deck', 'Open in bigger view') }}\n\t\t\t</NcActionButton>\n\n\t\t\t<CardMenuEntries :card=\"currentCard\" :hide-details-entry=\"true\" />\n\t\t</template>\n\n\t\t<NcAppSidebarTab id=\"details\"\n\t\t\t:order=\"0\"\n\t\t\t:name=\"t('deck', 'Details')\">\n\t\t\t<CardSidebarTabDetails :card=\"currentCard\" />\n\t\t\t<template #icon>\n\t\t\t\t<HomeIcon :size=\"20\" />\n\t\t\t</template>\n\t\t</NcAppSidebarTab>\n\n\t\t<NcAppSidebarTab id=\"attachments\"\n\t\t\t:order=\"1\"\n\t\t\t:name=\"t('deck', 'Attachments')\">\n\t\t\t<template #icon>\n\t\t\t\t<AttachmentIcon :size=\"20\" />\n\t\t\t</template>\n\t\t\t<CardSidebarTabAttachments :card=\"currentCard\" />\n\t\t</NcAppSidebarTab>\n\n\t\t<NcAppSidebarTab id=\"comments\"\n\t\t\t:order=\"2\"\n\t\t\t:name=\"t('deck', 'Comments')\">\n\t\t\t<template #icon>\n\t\t\t\t<CommentIcon :size=\"20\" />\n\t\t\t</template>\n\t\t\t<CardSidebarTabComments :card=\"currentCard\" :tab-query=\"tabQuery\" />\n\t\t</NcAppSidebarTab>\n\n\t\t<NcAppSidebarTab v-if=\"hasActivity\"\n\t\t\tid=\"timeline\"\n\t\t\t:order=\"3\"\n\t\t\t:name=\"t('deck', 'Activity')\">\n\t\t\t<template #icon>\n\t\t\t\t<ActivityIcon :size=\"20\" />\n\t\t\t</template>\n\t\t\t<CardSidebarTabActivity :card=\"currentCard\" />\n\t\t</NcAppSidebarTab>\n\t</NcAppSidebar>\n</template>\n\n<script>\nimport { NcActionButton, NcAppSidebar, NcAppSidebarTab } from '@nextcloud/vue'\nimport { getCapabilities } from '@nextcloud/capabilities'\nimport { mapState, mapGetters } from 'vuex'\nimport CardSidebarTabDetails from './CardSidebarTabDetails.vue'\nimport CardSidebarTabAttachments from './CardSidebarTabAttachments.vue'\nimport CardSidebarTabComments from './CardSidebarTabComments.vue'\nimport CardSidebarTabActivity from './CardSidebarTabActivity.vue'\nimport relativeDate from '../../mixins/relativeDate.js'\nimport moment from '@nextcloud/moment'\nimport AttachmentIcon from 'vue-material-design-icons/Paperclip.vue'\nimport HomeIcon from 'vue-material-design-icons/Home.vue'\nimport CommentIcon from 'vue-material-design-icons/Comment.vue'\nimport ActivityIcon from 'vue-material-design-icons/LightningBolt.vue'\n\nimport { showError } from '@nextcloud/dialogs'\nimport { getLocale } from '@nextcloud/l10n'\nimport CardMenuEntries from '../cards/CardMenuEntries.vue'\n\nconst capabilities = getCapabilities()\n\nexport default {\n\tname: 'CardSidebar',\n\tcomponents: {\n\t\tNcAppSidebar,\n\t\tNcAppSidebarTab,\n\t\tNcActionButton,\n\t\tCardSidebarTabAttachments,\n\t\tCardSidebarTabComments,\n\t\tCardSidebarTabActivity,\n\t\tCardSidebarTabDetails,\n\t\tActivityIcon,\n\t\tAttachmentIcon,\n\t\tCommentIcon,\n\t\tHomeIcon,\n\t\tCardMenuEntries,\n\t},\n\tmixins: [relativeDate],\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\ttabId: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t\ttabQuery: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttitleEditable: false,\n\t\t\ttitleEditing: '',\n\t\t\thasActivity: capabilities && capabilities.activity,\n\t\t\tlocale: getLocale(),\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tisFullApp: state => state.isFullApp,\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t}),\n\t\t...mapGetters(['canEdit', 'assignables', 'cardActions', 'stackById']),\n\t\ttitle() {\n\t\t\treturn this.titleEditable ? this.titleEditing : this.currentCard.title\n\t\t},\n\t\tcurrentCard() {\n\t\t\treturn this.$store.getters.cardById(this.id)\n\t\t},\n\t\tsubtitle() {\n\t\t\treturn t('deck', 'Modified') + ': ' + this.relativeDate(this.currentCard.lastModified * 1000) + ' ⸱ ' + t('deck', 'Created') + ': ' + this.relativeDate(this.currentCard.createdAt * 1000)\n\t\t},\n\t\tsubtitleTooltip() {\n\t\t\treturn t('deck', 'Modified') + ': ' + this.formatDate(this.currentCard.lastModified) + '\\n' + t('deck', 'Created') + ': ' + this.formatDate(this.currentCard.createdAt)\n\t\t},\n\t\tcardDetailsInModal: {\n\t\t\tget() {\n\t\t\t\treturn this.$store.getters.config('cardDetailsInModal')\n\t\t\t},\n\t\t\tset(newValue) {\n\t\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: newValue })\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\thandleUpdateTitleEditable(value) {\n\t\t\tthis.titleEditable = value\n\t\t\tif (value) {\n\t\t\t\tthis.titleEditing = this.currentCard.title\n\t\t\t}\n\t\t},\n\t\thandleUpdateTitle(value) {\n\t\t\tthis.titleEditing = value\n\t\t},\n\t\thandleSubmitTitle(value) {\n\t\t\tif (value.trim === '') {\n\t\t\t\tshowError(t('deck', 'The title cannot be empty.'))\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.titleEditable = false\n\t\t\tthis.$store.dispatch('updateCardTitle', { ...this.currentCard, title: this.titleEditing })\n\t\t},\n\n\t\tcloseSidebar() {\n\t\t\tthis.$router?.push({ name: 'board' })\n\t\t\tthis.$emit('close')\n\t\t},\n\n\t\tshowModal() {\n\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: true })\n\t\t},\n\t\tcloseModal() {\n\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: false })\n\t\t},\n\t\tformatDate(timestamp) {\n\t\t\treturn moment.unix(timestamp).locale(this.locale).format('LLLL')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n\nsection.app-sidebar__tab--active {\n\tmin-height: auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n}\n\n// FIXME: Obivously we should at some point not randomly reuse the sidebar component\n// since this is not oficially supported\n.modal__card .app-sidebar {\n\t$modal-padding: 14px;\n\tborder: 0;\n\tmin-width: calc(100% - #{$modal-padding * 2});\n\tposition: relative;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tmax-width: calc(100% - #{$modal-padding * 2});\n\tpadding: 0 14px;\n\theight: auto;\n\toverflow: initial;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\n\t// FIXME: test\n\t&:deep {\n\t\t.app-sidebar-header {\n\t\t\tposition: sticky;\n\t\t\ttop: 0;\n\t\t\tz-index: 100;\n\t\t\tbackground-color: var(--color-main-background);\n\t\t}\n\t\t.app-sidebar-tabs__nav {\n\t\t\tposition: sticky;\n\t\t\ttop: 87px;\n\t\t\tmargin: 0;\n\t\t\tz-index: 100;\n\t\t\tbackground-color: var(--color-main-background);\n\t\t}\n\n\t\t.app-sidebar__tab {\n\t\t\toverflow: initial;\n\t\t}\n\n\t\t#emptycontent, .emptycontent {\n\t\t\tmargin-top: 88px;\n\t\t}\n\t}\n}\n\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebar.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebar.vue?vue&type=style&index=0&id=4b0a8195&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebar.vue?vue&type=style&index=0&id=4b0a8195&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardSidebar.vue?vue&type=template&id=4b0a8195\"\nimport script from \"./CardSidebar.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebar.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardSidebar.vue?vue&type=style&index=0&id=4b0a8195&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.currentBoard && _vm.currentCard)?_c('NcAppSidebar',{attrs:{\"active\":_vm.tabId,\"name\":_vm.title,\"subname\":_vm.subtitle,\"subtitle\":_vm.subtitleTooltip,\"name-editable\":_vm.titleEditable},on:{\"update:nameEditable\":_vm.handleUpdateTitleEditable,\"update:name\":_vm.handleUpdateTitle,\"submit-name\":_vm.handleSubmitTitle,\"close\":_vm.closeSidebar},scopedSlots:_vm._u([{key:\"secondary-actions\",fn:function(){return [(_vm.cardDetailsInModal && _vm.isFullApp)?_c('NcActionButton',{attrs:{\"icon\":\"icon-menu-sidebar\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeModal()}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Open in sidebar view'))+\"\\n\\t\\t\")]):(_vm.isFullApp)?_c('NcActionButton',{attrs:{\"icon\":\"icon-external\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showModal()}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Open in bigger view'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('CardMenuEntries',{attrs:{\"card\":_vm.currentCard,\"hide-details-entry\":true}})]},proxy:true}],null,false,1550865687)},[_vm._v(\" \"),_c('NcAppSidebarTab',{attrs:{\"id\":\"details\",\"order\":0,\"name\":_vm.t('deck', 'Details')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('HomeIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1674571436)},[_c('CardSidebarTabDetails',{attrs:{\"card\":_vm.currentCard}})],1),_vm._v(\" \"),_c('NcAppSidebarTab',{attrs:{\"id\":\"attachments\",\"order\":1,\"name\":_vm.t('deck', 'Attachments')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AttachmentIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,741344954)},[_vm._v(\" \"),_c('CardSidebarTabAttachments',{attrs:{\"card\":_vm.currentCard}})],1),_vm._v(\" \"),_c('NcAppSidebarTab',{attrs:{\"id\":\"comments\",\"order\":2,\"name\":_vm.t('deck', 'Comments')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CommentIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1715543632)},[_vm._v(\" \"),_c('CardSidebarTabComments',{attrs:{\"card\":_vm.currentCard,\"tab-query\":_vm.tabQuery}})],1),_vm._v(\" \"),(_vm.hasActivity)?_c('NcAppSidebarTab',{attrs:{\"id\":\"timeline\",\"order\":3,\"name\":_vm.t('deck', 'Activity')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ActivityIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,502128366)},[_vm._v(\" \"),_c('CardSidebarTabActivity',{attrs:{\"card\":_vm.currentCard}})],1):_vm._e()],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js\"","<!--\n  - @copyright Copyright (c) 2018 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div class=\"board-wrapper\" :tabindex=\"-1\">\n\t\t<Controls :board=\"board\" />\n\n\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t<div v-if=\"loading\" key=\"loading\" class=\"emptycontent\">\n\t\t\t\t<div class=\"icon icon-loading\" />\n\t\t\t\t<h2>{{ t('deck', 'Loading board') }}</h2>\n\t\t\t\t<p />\n\t\t\t</div>\n\t\t\t<div v-else-if=\"!board\" key=\"notfound\" class=\"emptycontent\">\n\t\t\t\t<div class=\"icon icon-deck\" />\n\t\t\t\t<h2>{{ t('deck', 'Board not found') }}</h2>\n\t\t\t\t<p />\n\t\t\t</div>\n\t\t\t<NcEmptyContent v-else-if=\"isEmpty\" key=\"empty\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<DeckIcon />\n\t\t\t\t</template>\n\t\t\t\t<template #title>\n\t\t\t\t\t{{ t('deck', 'No lists available') }}\n\t\t\t\t</template>\n\t\t\t\t<template v-if=\"canManage\" #action>\n\t\t\t\t\t{{ t('deck', 'Create a new list to add cards to this board') }}\n\t\t\t\t\t<form @submit.prevent=\"addNewStack()\">\n\t\t\t\t\t\t<input id=\"new-stack-input-main\"\n\t\t\t\t\t\t\tv-model=\"newStackTitle\"\n\t\t\t\t\t\t\tv-focus\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclass=\"no-close\"\n\t\t\t\t\t\t\t:placeholder=\"t('deck', 'List name')\"\n\t\t\t\t\t\t\trequired>\n\t\t\t\t\t\t<input title=\"t('deck', 'Add list')\"\n\t\t\t\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tvalue=\"\">\n\t\t\t\t\t</form>\n\t\t\t\t</template>\n\t\t\t</NcEmptyContent>\n\t\t\t<div v-else-if=\"!isEmpty && !loading\"\n\t\t\t\tkey=\"board\"\n\t\t\t\tref=\"board\"\n\t\t\t\tclass=\"board\"\n\t\t\t\t@mousedown=\"onMouseDown\">\n\t\t\t\t<Container lock-axix=\"y\"\n\t\t\t\t\torientation=\"horizontal\"\n\t\t\t\t\t:drag-handle-selector=\"dragHandleSelector\"\n\t\t\t\t\tdata-click-closes-sidebar=\"true\"\n\t\t\t\t\t@drag-start=\"draggingStack = true\"\n\t\t\t\t\t@drag-end=\"draggingStack = false\"\n\t\t\t\t\t@drop=\"onDropStack\">\n\t\t\t\t\t<Draggable v-for=\"stack in stacksByBoard\"\n\t\t\t\t\t\t:key=\"stack.id\"\n\t\t\t\t\t\tdata-click-closes-sidebar=\"true\"\n\t\t\t\t\t\tdata-dragscroll-enabled\n\t\t\t\t\t\tclass=\"stack-draggable-wrapper\">\n\t\t\t\t\t\t<Stack :stack=\"stack\" :dragging=\"draggingStack\" data-click-closes-sidebar=\"true\" />\n\t\t\t\t\t</Draggable>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</transition>\n\t\t<GlobalSearchResults v-if=\"isFullApp\" />\n\t\t<NcModal v-if=\"localModal\"\n\t\t\t:clear-view-delay=\"0\"\n\t\t\t:close-button-contained=\"true\"\n\t\t\tsize=\"large\"\n\t\t\t@close=\"localModal = null\">\n\t\t\t<div class=\"modal__content modal__card\">\n\t\t\t\t<CardSidebar :id=\"localModal\" @close=\"localModal = null\" />\n\t\t\t</div>\n\t\t</NcModal>\n\t</div>\n</template>\n\n<script>\nimport { Container, Draggable } from 'vue-smooth-dnd'\nimport { mapState, mapGetters } from 'vuex'\nimport Controls from '../Controls.vue'\nimport DeckIcon from '../icons/DeckIcon.vue'\nimport Stack from './Stack.vue'\nimport { NcEmptyContent, NcModal } from '@nextcloud/vue'\nimport GlobalSearchResults from '../search/GlobalSearchResults.vue'\nimport { showError } from '../../helpers/errors.js'\nimport { createSession } from '../../sessions.js'\nimport CardSidebar from '../card/CardSidebar.vue'\nexport default {\n\tname: 'Board',\n\tcomponents: {\n\t\tGlobalSearchResults,\n\t\tControls,\n\t\tContainer,\n\t\tDeckIcon,\n\t\tDraggable,\n\t\tStack,\n\t\tNcEmptyContent,\n\t\tNcModal,\n\t\tCardSidebar,\n\t},\n\tinject: [\n\t\t'boardApi',\n\t],\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdraggingStack: false,\n\t\t\tloading: true,\n\t\t\tnewStackTitle: '',\n\t\t\tcurrentScrollPosX: null,\n\t\t\tcurrentMousePosX: null,\n\t\t\tlocalModal: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tisFullApp: state => state.isFullApp,\n\t\t\tboard: state => state.currentBoard,\n\t\t\tshowArchived: state => state.showArchived,\n\t\t}),\n\t\t...mapGetters([\n\t\t\t'canEdit',\n\t\t\t'canManage',\n\t\t]),\n\t\tstacksByBoard() {\n\t\t\treturn this.$store.getters.stacksByBoard(this.board.id)\n\t\t},\n\t\tdragHandleSelector() {\n\t\t\treturn this.canEdit ? '.stack__title' : '.no-drag'\n\t\t},\n\t\tisEmpty() {\n\t\t\treturn this.stacksByBoard.length === 0\n\t\t},\n\t},\n\twatch: {\n\t\tid(newValue, oldValue) {\n\t\t\tthis.fetchData()\n\t\t},\n\t\tshowArchived() {\n\t\t\tthis.fetchData()\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.session = createSession(this.id)\n\t\tthis.fetchData()\n\t\tthis.$root.$on('open-card', (cardId) => {\n\t\t\tthis.localModal = cardId\n\t\t})\n\t},\n\tbeforeDestroy() {\n\t\tthis.session.close()\n\t},\n\tmethods: {\n\t\tasync fetchData() {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('loadBoardById', this.id)\n\t\t\t\tawait this.$store.dispatch('loadStacks', this.id)\n\n\t\t\t\tthis.session?.close()\n\t\t\t\tthis.session = createSession(this.id)\n\t\t\t} catch (e) {\n\t\t\t\tthis.loading = false\n\t\t\t\tconsole.error(e)\n\t\t\t\tshowError(e)\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\n\t\tonDropStack({ removedIndex, addedIndex }) {\n\t\t\tthis.$store.dispatch('orderStack', { stack: this.stacksByBoard[removedIndex], removedIndex, addedIndex })\n\t\t},\n\n\t\taddNewStack() {\n\t\t\tconst newStack = {\n\t\t\t\ttitle: this.newStackTitle,\n\t\t\t\tboardId: this.id,\n\t\t\t}\n\t\t\tthis.$store.dispatch('createStack', newStack)\n\t\t\tthis.newStackTitle = ''\n\t\t},\n\n\t\tonMouseDown(event) {\n\t\t\tthis.startMouseDrag(event)\n\t\t},\n\n\t\tstartMouseDrag(event) {\n\t\t\tif (!('dragscrollEnabled' in event.target.dataset)) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tevent.preventDefault()\n\t\t\tthis.currentMousePosX = event.clientX\n\t\t\tthis.currentScrollPosX = this.$refs.board.scrollLeft\n\t\t\twindow.addEventListener('mousemove', this.handleMouseDrag)\n\t\t\twindow.addEventListener('mouseup', this.stopMouseDrag)\n\t\t\twindow.addEventListener('mouseleave', this.stopMouseDrag)\n\t\t},\n\n\t\thandleMouseDrag(event) {\n\t\t\tevent.preventDefault()\n\t\t\tconst deltaX = event.clientX - this.currentMousePosX\n\t\t\tthis.$refs.board.scrollLeft = this.currentScrollPosX - deltaX\n\t\t},\n\n\t\tstopMouseDrag(event) {\n\t\t\twindow.removeEventListener('mousemove', this.handleMouseDrag)\n\t\t\twindow.removeEventListener('mouseup', this.stopMouseDrag)\n\t\t\twindow.removeEventListener('mouseleave', this.stopMouseDrag)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t@import '../../css/animations';\n\t@import '../../css/variables';\n\n\tform {\n\t\ttext-align: center;\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\tmax-width: 200px;\n\t\tmargin: auto;\n\t\tmargin-top: 20px;\n\n\t\tinput[type=text] {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t.board-wrapper {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tmax-height: calc(100vh - 50px);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.board {\n\t\tpadding-left: $board-spacing;\n\t\tposition: relative;\n\t\tmax-height: calc(100% - 44px);\n\t\toverflow: hidden;\n\t\toverflow-x: auto;\n\t\tflex-grow: 1;\n\t}\n\n\t/**\n\t * Combined rules to handle proper board scrolling and\n\t * drag and drop behavior\n\t */\n\t.smooth-dnd-container.horizontal {\n\t\tdisplay: flex;\n\t\talign-items: stretch;\n\t\theight: 100%;\n\n\t\t&:deep(.stack-draggable-wrapper.smooth-dnd-draggable-wrapper) {\n\t\t\tdisplay: flex;\n\t\t\theight: auto;\n\n\t\t\t.stack {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tposition: relative;\n\n\t\t\t\t.smooth-dnd-container.vertical {\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tpadding: $stack-spacing;\n\t\t\t\t\toverflow-x: hidden;\n\t\t\t\t\toverflow-y: auto;\n\t\t\t\t\tpadding-top: 15px;\n\t\t\t\t\tmargin-top: -10px;\n\t\t\t\t\tscrollbar-gutter: stable;\n\t\t\t\t}\n\n\t\t\t\t.smooth-dnd-container.vertical > .smooth-dnd-draggable-wrapper {\n\t\t\t\t\toverflow: initial;\n\t\t\t\t}\n\n\t\t\t\t.smooth-dnd-container.vertical .smooth-dnd-draggable-wrapper {\n\t\t\t\t\theight: auto;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=style&index=0&id=7a5373be&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=style&index=0&id=7a5373be&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Board.vue?vue&type=template&id=7a5373be&scoped=true\"\nimport script from \"./Board.vue?vue&type=script&lang=js\"\nexport * from \"./Board.vue?vue&type=script&lang=js\"\nimport style0 from \"./Board.vue?vue&type=style&index=0&id=7a5373be&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a5373be\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"board-wrapper\",attrs:{\"tabindex\":-1}},[_c('Controls',{attrs:{\"board\":_vm.board}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.loading)?_c('div',{key:\"loading\",staticClass:\"emptycontent\"},[_c('div',{staticClass:\"icon icon-loading\"}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('deck', 'Loading board')))]),_vm._v(\" \"),_c('p')]):(!_vm.board)?_c('div',{key:\"notfound\",staticClass:\"emptycontent\"},[_c('div',{staticClass:\"icon icon-deck\"}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('deck', 'Board not found')))]),_vm._v(\" \"),_c('p')]):(_vm.isEmpty)?_c('NcEmptyContent',{key:\"empty\",scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DeckIcon')]},proxy:true},{key:\"title\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'No lists available'))+\"\\n\\t\\t\\t\")]},proxy:true},(_vm.canManage)?{key:\"action\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Create a new list to add cards to this board'))+\"\\n\\t\\t\\t\\t\"),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addNewStack()}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newStackTitle),expression:\"newStackTitle\"},{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"no-close\",attrs:{\"id\":\"new-stack-input-main\",\"type\":\"text\",\"placeholder\":_vm.t('deck', 'List name'),\"required\":\"\"},domProps:{\"value\":(_vm.newStackTitle)},on:{\"input\":function($event){if($event.target.composing)return;_vm.newStackTitle=$event.target.value}}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"title\":\"t('deck', 'Add list')\",\"type\":\"submit\",\"value\":\"\"}})])]},proxy:true}:null],null,true)}):(!_vm.isEmpty && !_vm.loading)?_c('div',{key:\"board\",ref:\"board\",staticClass:\"board\",on:{\"mousedown\":_vm.onMouseDown}},[_c('Container',{attrs:{\"lock-axix\":\"y\",\"orientation\":\"horizontal\",\"drag-handle-selector\":_vm.dragHandleSelector,\"data-click-closes-sidebar\":\"true\"},on:{\"drag-start\":function($event){_vm.draggingStack = true},\"drag-end\":function($event){_vm.draggingStack = false},\"drop\":_vm.onDropStack}},_vm._l((_vm.stacksByBoard),function(stack){return _c('Draggable',{key:stack.id,staticClass:\"stack-draggable-wrapper\",attrs:{\"data-click-closes-sidebar\":\"true\",\"data-dragscroll-enabled\":\"\"}},[_c('Stack',{attrs:{\"stack\":stack,\"dragging\":_vm.draggingStack,\"data-click-closes-sidebar\":\"true\"}})],1)}),1)],1):_vm._e()],1),_vm._v(\" \"),(_vm.isFullApp)?_c('GlobalSearchResults'):_vm._e(),_vm._v(\" \"),(_vm.localModal)?_c('NcModal',{attrs:{\"clear-view-delay\":0,\"close-button-contained\":true,\"size\":\"large\"},on:{\"close\":function($event){_vm.localModal = null}}},[_c('div',{staticClass:\"modal__content modal__card\"},[_c('CardSidebar',{attrs:{\"id\":_vm.localModal},on:{\"close\":function($event){_vm.localModal = null}}})],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2023 Julien Veyssier <julien-nc@posteo.net>\n  -\n  - @author 2023 Julien Veyssier <julien-nc@posteo.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<div v-if=\"interactive\" class=\"deck-board-reference-interactive\">\n\t\t<Board :id=\"board.id\" />\n\t</div>\n\t<div v-else class=\"deck-board-reference\">\n\t\t<div class=\"line\">\n\t\t\t<DeckIcon :size=\"20\" class=\"title-icon\" />\n\t\t\t<strong>\n\t\t\t\t<a :href=\"boardLink\"\n\t\t\t\t\t:title=\"boardTooltip\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\tclass=\"link\">\n\t\t\t\t\t{{ board.title }}\n\t\t\t\t</a>\n\t\t\t</strong>\n\t\t</div>\n\t\t<div class=\"line\">\n\t\t\t{{ t('deck', 'Owner') + ': ' }}\n\t\t\t<NcUserBubble :user=\"boardOwnerUserId\"\n\t\t\t\t:display-name=\"boardOwnerDisplayName\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Board from '../components/board/Board.vue'\nimport DeckIcon from '../components/icons/DeckIcon.vue'\nimport { BoardApi } from './../services/BoardApi.js'\nimport store from './../store/main.js'\n\nimport NcUserBubble from '@nextcloud/vue/dist/Components/NcUserBubble.js'\n\nimport moment from '@nextcloud/moment'\nimport { generateUrl } from '@nextcloud/router'\n\nconst boardApi = new BoardApi()\n\nexport default {\n\tname: 'BoardReferenceWidget',\n\n\tstore,\n\n\tcomponents: {\n\t\tDeckIcon,\n\t\tNcUserBubble,\n\t\tBoard,\n\t},\n\n\tprovide() {\n\t\treturn {\n\t\t\tboardApi,\n\t\t}\n\t},\n\n\tprops: {\n\t\trichObjectType: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\trichObject: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\taccessible: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tinteractive: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\tboard() {\n\t\t\treturn this.richObject.board\n\t\t},\n\t\tboardLink() {\n\t\t\treturn generateUrl('/apps/deck/#/board/{boardId}', { boardId: this.board.id })\n\t\t},\n\t\tboardTooltip() {\n\t\t\treturn t('deck', 'Deck board {name}\\n* Last modified on {lastMod}', {\n\t\t\t\tname: this.board.title,\n\t\t\t\tlastMod: moment.unix(this.board.lastModified).format('LLL'),\n\t\t\t})\n\t\t},\n\t\tboardOwnerUserId() {\n\t\t\treturn this.board.owner?.uid ?? '???'\n\t\t},\n\t\tboardOwnerDisplayName() {\n\t\t\treturn this.board.owner?.displayname ?? this.boardOwnerUserId\n\t\t},\n\t},\n\n\tcreated() {\n\t\tthis.$store.commit('setFullApp', false)\n\t},\n\n}\n</script>\n\n<style scoped lang=\"scss\">\n.deck-board-reference {\n\twidth: 100%;\n\t// needed for the specific case of Text\n\t.editor__content & {\n\t\twidth: calc(100% - 24px);\n\t}\n\twhite-space: normal;\n\tpadding: 12px;\n\n\t.link {\n\t\ttext-decoration: underline;\n\t\tcolor: var(--color-main-text) !important;\n\t\tpadding: 0 !important;\n\t}\n\n\t.line {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.icon {\n\t\t\tmargin-right: 4px;\n\t\t}\n\t\t.title-icon {\n\t\t\tmargin-right: 8px;\n\t\t}\n\t}\n}\n\n.deck-board-reference-interactive {\n\twidth: 100%;\n\tmin-height: min(50vh, calc(100vh - 100px));\n\tmax-height: calc(100vh - 120px);\n\t&:deep(.controls) {\n\t\tpadding-left: 12px;\n\t}\n\t&:deep(.board) {\n\t\tpadding-left: 0;\n\t}\n\t&:deep(*) {\n\t\t-webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n\t\t-moz-box-sizing: border-box;    /* Firefox, other Gecko */\n\t\tbox-sizing: border-box;         /* Opera/IE 8+ */\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardReferenceWidget.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardReferenceWidget.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardReferenceWidget.vue?vue&type=style&index=0&id=16b47a8d&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardReferenceWidget.vue?vue&type=style&index=0&id=16b47a8d&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./BoardReferenceWidget.vue?vue&type=template&id=16b47a8d&scoped=true\"\nimport script from \"./BoardReferenceWidget.vue?vue&type=script&lang=js\"\nexport * from \"./BoardReferenceWidget.vue?vue&type=script&lang=js\"\nimport style0 from \"./BoardReferenceWidget.vue?vue&type=style&index=0&id=16b47a8d&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16b47a8d\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarList.vue?vue&type=script&lang=js\""],"names":["name","components","NcAvatar","NcPopover","AccountMultiple","props","users","type","Array","default","data","popoverVisible","computed","firstUsers","length","slice","avatarUrl","assignable","user","participant","uid","generateUrl","size","window","location","protocol","host","popover","map","session","href","icon","text","displayname","t","avatarUsers","filter","includes","methods","togglePopover","render","_vm","this","_c","_self","staticClass","scopedSlots","_u","key","fn","_ref","attrs","_b","on","$event","stopPropagation","_e","_v","_l","id","_s","staticRenderFns","mixins","Color","labelStyle","label","backgroundColor","color","textColor","___CSS_LOADER_EXPORT___","push","module","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","exports","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","sessions","Number","sessionsVisible","sessionAvatarStyle","style","sessionApi","url","generateOcsUrl","createSession","boardId","axios","put","ocs","syncSession","token","post","closeSession","closeSessionViaBeacon","body","blob","Blob","JSON","stringify","navigator","sendBeacon","state","actions","card","getters","cardActions","mutations","ADD_CARD_ACTION","action","addCardAction","commit","StackApi","loadStacks","get","then","response","Promise","err","reject","catch","deletedStacks","loadArchivedStacks","createStack","stack","reorderStack","stackId","order","deleteStack","delete","updateStack","arrayToSort","removedIndex","addedIndex","result","itemToAdd","splice","apiClient","stacks","stacksByBoard","sort","a","b","stackById","find","addStack","existingIndex","findIndex","_stack","existingStack","Vue","assign","orderStack","currentOrder","newOrder","applyOrderToArray","i","parseInt","title","_ref2","_ref3","OC","Notification","showTemporary","console","error","message","_ref4","call","showArchived","cards","j","_ref5","currentBoard","createdStack","_ref6","_ref7","CardApi","cardsByStack","rootState","tags","due","unassigned","completed","done","allTagsMatch","allUsersMatch","forEach","tag","labels","l","assignedUsers","u","datediffHour","Date","duedate","overdue","getSearchQuery","hasMatch","matches","match","filterOutQuotes","q","query","indexOf","split","isEmptyQuery","toLowerCase","description","comparator","isValidComparator","parsedCardDate","moment","parsedDate","isBefore","isSameOrBefore","isAfter","isSameOrAfter","isSame","assignment","primaryKey","createdAt","cardById","addCard","_card","existingCard","deleteCard","updateCard","updateCardsReorder","newCard","assignCardToUser","cardId","removeUserFromCard","foundIndex","_user","updateCardProperty","property","now","cardSetAttachmentCount","count","cardIncreaseAttachmentCount","attachmentCount","cardDecreaseAttachmentCount","addNewCard","setCards","deletedCards","c","createdCard","updateCardTitle","moveCard","reorderCard","newCards","values","archiveUnarchiveCard","_ref8","archived","changeCardDoneStatus","_ref9","_ref10","_ref11","assignee","assignUser","userId","_ref12","_ref13","removeUser","addLabel","_ref14","assignLabelToCard","removeLabel","_ref15","removeLabelFromCard","updateCardDesc","_ref16","updateCardDue","_ref17","addCardData","_ref18","cardData","relatedStack","relatedBoard","generateRemoteUrl","loadComments","limit","offset","params","headers","createComment","comment","replyTo","parentId","updateComment","deleteComment","markCommentsAsRead","readMarker","toUTCString","method","comments","getCommentsForCard","hasMoreComments","hasMore","endReached","addComments","undefined","newComments","item","_comment","setReplyTo","fetchComments","fetchMore","dispatch","stackApi","cardApi","setDeletedStacks","delStacks","moveStackToTrash","deletedAt","Math","floor","removeStackFromTrash","setDeletedCards","delCards","moveCardToTrash","removeCardFromTrash","fetchDeletedItems","stackUndoDelete","cardUndoDelete","fetchAttachments","createAttachment","formData","onUploadProgress","updateAttachment","attachment","deleteAttachment","restoreAttachment","displayAttachment","attachments","attachmentsByCard","createAttachments","deletedAttachment","unshareAttachment","restoredAttachment","use","Vuex","assignedCards","loading","assignedCardsDashboard","setAssignedCards","setLoading","promise","loadUpcoming","assignedCardsFlat","flat","BoardApi","BOARD_FILTERS","modules","trashbin","overview","strict","process","isFullApp","config","loadState","navShown","localStorage","getItem","compactMode","showCardCover","sidebarShown","currentCard","boards","sharees","assignableUsers","boardFilter","searchQuery","activity","activityLoadMore","shortcutLock","getFilter","boardById","board","assignables","acl","group","circle","noneArchivedBoards","archivedBoards","sharedBoards","shared","filteredBoards","currentBoardLabels","canEdit","permissions","PERMISSION_EDIT","canManage","PERMISSION_MANAGE","canShare","PERMISSION_SHARE","isArchived","setFullApp","SET_CONFIG","value","scope","configKey","indexExisting","settings","setSearchQuery","SET_FILTER","TOGGLE_FILTER","toggleShowArchived","addBoard","cloneBoard","removeBoard","toggleNav","navState","setItem","toggleSidebar","toggleCompactMode","toggleShowCardCover","setBoards","setSharees","shareesUsersAndGroups","exact","groups","circles","setAssignableUsers","setBoardFilter","setCurrentBoard","setCurrentCard","removeLabelFromCurrentBoard","labelId","removeIndex","updateLabelFromCurrentBoard","newLabel","labelToUpdate","addLabelToCurrentBoard","addAclToCurrentBoard","createdAcl","updateAclFromCurrentBoard","acl_","deleteAclFromCurrentBoard","index","attr","TOGGLE_SHORTCUT_LOCK","lock","setConfig","setFilter","toggleFilter","loadBoardById","loadById","refreshBoard","etagHasChanged","ETag","archiveBoard","boardCopy","parse","updateBoard","unarchiveBoard","createBoard","boardData","newBoard","loadBoards","loadSharees","URLSearchParams","append","commmit","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","deleteLabel","_ref26","updateLabel","_ref27","createLabel","addLabelToCurrentBoardAndCard","_ref28","_ref29","_ref30","newAcl","addAcl","_ref31","updateAcl","_ref32","deleteAcl","transferOwnership","_ref33","_ref34","newOwner","toggleShortcutLock","_ref35","hasPush","syncRunning","isOurSessionToken","defaults","startsWith","isNotifyPushEnabled","close","tokenPromise","create","res","ensureSession","async","status","interval","setInterval","SESSION_INTERVAL","visibilitychangeListener","document","visibilityState","clearInterval","store","addEventListener","removeEventListener","listen","_causingSessionToken","currentBoardId","CreateNewCardCustomPicker","NcModal","NcActions","NcActionButton","NcButton","ArchiveIcon","ImageIcon","FilterIcon","FilterOffIcon","ArrowCollapseVerticalIcon","ArrowExpandVerticalIcon","SessionList","required","overviewName","String","newStackTitle","filterVisible","isAddStackVisible","showAddCardModal","defaultPageTitle","mapGetters","mapState","detailsRoute","isFilterActive","labelsSorted","presentUsers","activeSessions","watch","current","previous","clearFilter","setPageTitle","beforeMount","subscribe","clickShowAddCardModel","triggerOpenFilters","triggerClearFilter","triggerFilterByMe","beforeDestroy","unsubscribe","beforeSetFilter","target","$store","$nextTick","addNewStack","showAddStack","hideAddStack","toggleDetailsView","$route","$router","filterReset","clickHideAddCardModel","substring","newTitle","$refs","filterPopover","$el","click","triggerOpenSearch","search","focus","getCurrentUser","ref","domProps","directives","rawName","expression","preventDefault","composing","apply","arguments","proxy","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","$set","concat","_q","slot","DueState","CheckCircle","Clock","ClockOutline","dueState","days","diff","$root","time","relativeDate","date","fromNow","absoluteDate","format","DueDate","NcAvatarList","TextIcon","AttachmentIcon","CheckmarkIcon","CommentIcon","CommentUnreadIcon","CardId","checkListCount","checkListCheckedCount","commentsHint","commentsUnread","commentsCount","unread","idBadge","openComments","tabId","trim","_t","CardBulletedIcon","hideDetailsEntry","Boolean","modalShow","selectedBoard","selectedStack","stacksFromBoard","canEditBoard","isCurrentUserAssigned","cardRichObject","boardname","stackname","link","openCard","$emit","undoCard","showUndo","assignCardToMe","unassignCardFromMe","openCardMoveDialog","emit","callback","CardMenuEntries","extendedData","hasPreview","attachmentPreview","stackWidth","getComputedStyle","documentElement","getPropertyValue","x","ceil","fileid","immediate","handler","mapActions","class","backgroundImage","CardBadges","AttachmentDragAndDrop","CardMenu","CardCover","ClickOutside","standalone","dragging","inlineEditingBlocked","hasLabels","hasBadges","showMenuAtTitle","showMenuAtLabels","showMenuAtBadges","newValue","scrollIntoView","behavior","block","inline","activeElement","titleContentEditable","textContent","onTitleBlur","innerText","onTitleFocus","cancelEdit","handleCardKeyboardShortcut","OCP","Accessibility","disableKeyboardShortcuts","shiftKey","ctrlKey","altKey","metaKey","querySelector","getElementById","toggleSelfAsignment","applyLabelFilter","isAssigned","currentTarget","_k","keyCode","CardItem","Container","Draggable","editing","draggingCard","copiedStack","newCardTitle","showAddCard","stateCardCreating","animate","modalArchivAllCardsShow","stackTransfer","total","dragHandleSelector","cardDetailsInModal","set","stopCardCreation","newCardInput","parentElement","onDropCard","event","payload","debug","payloadForCard","setArchivedToAllCardsFromStack","startEditing","finishedEdit","clickAddCard","showError","animated","light","dark","mounted","styles","randWidth","random","width","cursor","cancelToken","CancelToken","source","request","term","cancel","InfiniteLoading","NcRichText","Placeholder","results","filteredResults","sortFn","lastModified","toString","queryStringArgs","infiniteHandler","$state","loaded","complete","DueDateSelector","AssignmentSelector","TagSelector","Description","CollectionList","addedLabelToCard","copiedCard","locale","getLocale","projectsEnabled","initialize","descriptionChanged","newDesc","assignUserToCard","val","toISOString","debouncedUpdateCardDue","debounce","addLabelToCard","addLabelToBoardAndCard","randomColor","removedLabel","toDate","AttachmentList","At","NcUserBubble","commentText","members","validate","submit","content","contentEditableToParsed","temp","createElement","innerHTML","contentEditable","node","cloneNode","querySelectorAll","mention","mentionValue","firstElementChild","attributes","replaceWith","replace","rawToParsed","handleKeydown","atwho","onPaste","clipboardData","getData","execCommand","s","model","AtMention","functional","context","displayName","contenteditable","CommentForm","ReplyIcon","reply","preview","edit","commentMsg","actorId","richText","parsedMessage","mentions","hash","md5","mentionId","join","richArgs","reduce","component","mentionDisplayName","div","formattedTimestamp","creationDateTime","showUpdateForm","richTextElement","children","hideUpdateForm","objectId","actorDisplayName","CommentItem","tabQuery","newComment","isLoading","currentUser","loadMore","commentObj","cancelReply","InternalLink","formatReadableDate","subject","subject_rich","parameters","after","dateTime","sanitizedMessage","DOMPurify","ALLOWED_TAGS","ALLOWED_ATTR","datetime","ActivityEntry","objectType","activities","since","loadActivity","validateStatus","object_type","object_id","activity_id","changeObject","ActivityList","$parent","isActive","capabilities","getCapabilities","NcAppSidebar","NcAppSidebarTab","CardSidebarTabAttachments","CardSidebarTabComments","CardSidebarTabActivity","CardSidebarTabDetails","ActivityIcon","HomeIcon","titleEditable","titleEditing","hasActivity","subtitle","subtitleTooltip","formatDate","handleUpdateTitleEditable","handleUpdateTitle","handleSubmitTitle","closeSidebar","showModal","closeModal","timestamp","unix","GlobalSearchResults","Controls","DeckIcon","Stack","NcEmptyContent","CardSidebar","inject","draggingStack","currentScrollPosX","currentMousePosX","localModal","isEmpty","oldValue","fetchData","created","$on","onDropStack","newStack","onMouseDown","startMouseDrag","dataset","clientX","scrollLeft","handleMouseDrag","stopMouseDrag","deltaX","boardApi","Board","provide","richObjectType","richObject","accessible","interactive","boardLink","boardTooltip","lastMod","boardOwnerUserId","owner","boardOwnerDisplayName"],"sourceRoot":""}